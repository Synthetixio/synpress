LavaPack.loadBundle([[4150,{"../../../../ducks/metamask/metamask":4884,"../../../../helpers/constants/common":4890,"../../../../helpers/constants/design-system":4892,"../../../../hooks/useDraftTransactionWithTxParams":4955,"../../../../hooks/useI18nContext":4959,"../../../../selectors":5306,"../../../component-library":4562,"../../../ui/info-tooltip":4785,"../../../ui/loading-heartbeat":4790,"../../multilayer-fee-message/multi-layer-fee-message":4306,"../../transaction-detail-item":4466,"../../user-preferenced-currency-display":4481,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=b(e("react")),o=b(e("prop-types")),r=e("react-redux"),i=e("../../../../hooks/useI18nContext"),s=e("../../../../selectors"),l=e("../../../../helpers/constants/common"),c=b(e("../../transaction-detail-item")),u=b(e("../../user-preferenced-currency-display")),d=b(e("../../../ui/info-tooltip")),p=b(e("../../../ui/loading-heartbeat")),f=e("../../../../helpers/constants/design-system"),m=e("../../../../hooks/useDraftTransactionWithTxParams"),g=e("../../../../ducks/metamask/metamask"),h=b(e("../../multilayer-fee-message/multi-layer-fee-message")),y=e("../../../component-library");function b(e){return e&&e.__esModule?e:{default:e}}const v=()=>a.default.createElement(p.default,null),_=({"data-testid":e}={})=>{const t=(0,i.useI18nContext)(),n=(0,r.useSelector)(s.getIsMainnet),o=(0,r.useSelector)(s.getIsMultiLayerFeeNetwork),p=(0,r.useSelector)(s.getUseCurrencyRateCheck),{useNativeCurrencyAsPrimaryCurrency:b}=(0,r.useSelector)(s.getPreferences),_=(0,r.useSelector)(g.getNativeCurrency),T=(0,r.useSelector)(s.getUnapprovedTransactions),k=(0,m.useDraftTransactionWithTxParams)(),x=(0,r.useSelector)((e=>(0,s.txDataSelector)(e))),{id:w,dappSuggestedGasFees:E}=x,C=Object.keys(k).length?k:T[w]||{},{hexMinimumTransactionFee:O,hexMaximumTransactionFee:M}=(0,r.useSelector)((e=>(0,s.transactionFeeSelector)(e,C)));return o?[a.default.createElement(c.default,{key:"legacy-total-item","data-testid":e,detailTitle:t("transactionDetailLayer2GasHeading"),detailTotal:a.default.createElement(u.default,{type:l.PRIMARY,value:O,hideLabel:!b,numberOfDecimals:18}),detailText:p&&a.default.createElement(u.default,{type:l.SECONDARY,value:O,hideLabel:Boolean(b)}),noBold:!0,flexWidthValues:!0}),a.default.createElement(h.default,{key:"confirm-layer-1",transaction:x,layer2fee:O,nativeCurrency:_})]:a.default.createElement(c.default,{key:"legacy-gas-details","data-testid":e,detailTitle:E?a.default.createElement(a.default.Fragment,null,t("transactionDetailGasHeading"),a.default.createElement(d.default,{contentText:t("transactionDetailDappGasTooltip"),position:"top"},a.default.createElement(y.Icon,{name:y.IconName.Info}))):a.default.createElement(a.default.Fragment,null,t("transactionDetailGasHeading"),a.default.createElement(d.default,{contentText:a.default.createElement(a.default.Fragment,null,a.default.createElement("p",null,t("transactionDetailGasTooltipIntro",[n?t("networkNameEthereum"):""])),a.default.createElement("p",null,t("transactionDetailGasTooltipExplanation")),a.default.createElement("p",null,a.default.createElement("a",{href:"https://community.metamask.io/t/what-is-gas-why-do-transactions-take-so-long/3172",target:"_blank",rel:"noopener noreferrer"},t("transactionDetailGasTooltipConversion")))),position:"top"},a.default.createElement(y.Icon,{name:y.IconName.Info}))),detailText:p&&a.default.createElement("div",null,v(),a.default.createElement(u.default,{type:l.SECONDARY,value:O,hideLabel:Boolean(b)})),detailTotal:a.default.createElement("div",null,v(),a.default.createElement(u.default,{type:l.PRIMARY,value:O,hideLabel:!b,numberOfDecimals:6})),subText:a.default.createElement(a.default.Fragment,null,a.default.createElement("strong",{key:"editGasSubTextFeeLabel"},t("editGasSubTextFeeLabel")),a.default.createElement("div",{key:"editGasSubTextFeeValue"},v(),a.default.createElement(u.default,{key:"editGasSubTextFeeAmount",type:l.PRIMARY,value:M,hideLabel:!b}))),subTitle:a.default.createElement(a.default.Fragment,null,E&&a.default.createElement(y.Text,{variant:f.TextVariant.bodySm,fontStyle:f.FONT_STYLE.ITALIC,color:f.TextColor.textAlternative,as:"h6"},t("transactionDetailDappGasMoreInfo")))})};_.propTypes={"data-testid":o.default.string};n.default=_}}},{package:"$root$",file:"ui/components/app/confirm-gas-display/confirm-legacy-gas-display/confirm-legacy-gas-display.js"}],[4151,{"./confirm-legacy-gas-display":4150},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmLegacyGasDisplay",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./confirm-legacy-gas-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-gas-display/confirm-legacy-gas-display/index.js"}],[4152,{"./confirm-gas-display":4149},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmGasDisplay",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./confirm-gas-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-gas-display/index.js"}],[4153,{"../../../../shared/modules/buffer-utils":4088,"../../../helpers/constants/design-system":4892,"../../../hooks/useI18nContext":4959,"../../../hooks/useTransactionFunctionType":4986,"../../../selectors":5306,"../../component-library":4562,"../../ui/box":4729,"../transaction-decoding/components/ui/copy-raw-data":4465,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=m(e("react")),o=m(e("prop-types")),r=e("react-redux"),i=e("../../../../shared/modules/buffer-utils"),s=e("../../../selectors"),l=e("../../../hooks/useI18nContext"),c=e("../../../hooks/useTransactionFunctionType"),u=e("../../../helpers/constants/design-system"),d=m(e("../../ui/box")),p=e("../../component-library"),f=m(e("../transaction-decoding/components/ui/copy-raw-data"));function m(e){return e&&e.__esModule?e:{default:e}}const g=({txData:e,dataHexComponent:t})=>{const n=(0,l.useI18nContext)(),{txParams:o={}}=e,m=(0,r.useSelector)((e=>(0,s.getKnownMethodData)(e,o.data)||{})),{functionType:g}=(0,c.useTransactionFunctionType)(e);if(t)return t;if(!o.data||!o.to)return null;const{params:h}=m,y=null!=h&&h.length?`(${h.map((({type:e})=>e)).join(", ")})`:"";return a.default.createElement(d.default,{padding:4},a.default.createElement(d.default,{paddingBottom:3,paddingTop:2},a.default.createElement(p.Text,{as:"span",textTransform:u.TextTransform.Uppercase,variant:u.TextVariant.bodySm},`${n("functionType")}:`),a.default.createElement(p.Text,{as:"span",color:u.Color.textDefault,paddingLeft:1,textTransform:u.TextTransform.Capitalize,variant:u.TextVariant.bodySmBold},`${g} ${y}`)),h&&a.default.createElement(d.default,{backgroundColor:u.Color.backgroundAlternative,padding:4},a.default.createElement(p.Text,{as:"h3",paddingBottom:3,paddingTop:2,textTransform:u.TextTransform.Uppercase,variant:u.TextVariant.bodySm},`${n("parameters")}:`),a.default.createElement(p.Text,{overflowWrap:u.OverflowWrap.BreakWord,variant:u.TextVariant.bodySm},a.default.createElement("pre",null,JSON.stringify(h,null,2)))),a.default.createElement(p.Text,{as:"h3",paddingBottom:3,paddingTop:2,textTransform:u.TextTransform.Uppercase,variant:u.TextVariant.bodySm},`${n("hexData")}: ${(0,i.toBuffer)(null==o?void 0:o.data).length} bytes`),a.default.createElement(p.Text,{backgroundColor:u.Color.backgroundAlternative,overflowWrap:u.OverflowWrap.BreakWord,padding:4,variant:u.TextVariant.bodySm},null==o?void 0:o.data),a.default.createElement(f.default,{data:null==o?void 0:o.data}))};g.propTypes={txData:o.default.object,dataHexComponent:o.default.element};n.default=g}}},{package:"$root$",file:"ui/components/app/confirm-hexdata/confirm-hexdata.js"}],[4154,{"./confirm-hexdata":4153},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmHexData",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./confirm-hexdata"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-hexdata/index.js"}],[4155,{"../../../../helpers/constants/common":4890,"../../user-preferenced-currency-display":4481,classnames:2468,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),o=l(e("prop-types")),r=l(e("classnames")),i=l(e("../../user-preferenced-currency-display")),s=e("../../../../helpers/constants/common");function l(e){return e&&e.__esModule?e:{default:e}}const c=e=>{const{label:t,primaryText:n,secondaryText:o,onHeaderClick:l,primaryValueTextColor:c,headerText:u,headerTextClassName:d,value:p}=e;return a.default.createElement("div",{className:"confirm-detail-row"},a.default.createElement("div",{className:"confirm-detail-row__label"},t),a.default.createElement("div",{className:"confirm-detail-row__details"},u&&a.default.createElement("div",{className:(0,r.default)("confirm-detail-row__header-text",d),onClick:()=>null==l?void 0:l()},u),n?a.default.createElement("div",{className:"confirm-detail-row__primary",style:{color:c}},n):a.default.createElement(i.default,{className:"confirm-detail-row__primary",type:s.PRIMARY,value:p,showEthLogo:!0,ethLogoHeight:18,style:{color:c},hideLabel:!0}),o?a.default.createElement("div",{className:"confirm-detail-row__secondary"},o):a.default.createElement(i.default,{className:"confirm-detail-row__secondary",type:s.SECONDARY,value:p,showEthLogo:!0,hideLabel:!0})))};c.propTypes={headerText:o.default.string,headerTextClassName:o.default.string,label:o.default.string,onHeaderClick:o.default.func,primaryValueTextColor:o.default.string,primaryText:o.default.oneOfType([o.default.string,o.default.node]),secondaryText:o.default.string,value:o.default.string};n.default=c}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-detail-row/confirm-detail-row.component.js"}],[4156,{"./confirm-detail-row.component":4155},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./confirm-detail-row.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-detail-row/index.js"}],[4157,{".":4162,"../../../../helpers/constants/design-system":4892,"../../../../helpers/constants/error-keys":4893,"../../../component-library":4562,"../../../ui/page-container":4812,"../../../ui/tabs":4839,classnames:2468,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=p(e("prop-types")),r=p(e("classnames")),i=e("../../../ui/tabs"),s=e("../../../component-library"),l=e("../../../ui/page-container"),c=e("../../../../helpers/constants/error-keys"),u=e("../../../../helpers/constants/design-system"),d=e(".");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends a.Component{renderContent(){const{detailsComponent:e,dataHexComponent:t,insightComponent:n}=this.props;return n&&(e||t)||e&&t?this.renderTabs():e||n}renderTabs(){const{t:e}=this.context,{detailsComponent:t,dataHexComponent:n,insightComponent:o}=this.props;return a.default.createElement(i.Tabs,{defaultActiveTabKey:"details"},a.default.createElement(i.Tab,{className:"confirm-page-container-content__tab",name:e("details"),tabKey:"details"},t),n&&a.default.createElement(i.Tab,{className:"confirm-page-container-content__tab",name:e("dataHex"),tabKey:"dataHex"},n),o)}render(){const{action:e,errorKey:t,errorMessage:n,image:o,titleComponent:i,subtitleComponent:p,tokenAddress:f,nonce:m,detailsComponent:g,warning:h,onCancelAll:y,onCancel:b,cancelText:v,onSubmit:_,submitText:T,disabled:k,unapprovedTxCount:x,rejectNText:w,origin:E,ethGasPriceWarning:C,supportsEIP1559:O,hasTopBorder:M,nativeCurrency:P,networkName:S,toAddress:j,transactionType:N,isBuyableChain:I,openBuyCryptoInPdapp:D}=this.props,{t:A}=this.context,R=(t||n)&&t===c.INSUFFICIENT_FUNDS_ERROR_KEY;return a.default.createElement("div",{className:(0,r.default)("confirm-page-container-content",{"confirm-page-container-content--with-top-border":M})},h?a.default.createElement(d.ConfirmPageContainerWarning,{warning:h}):null,C&&a.default.createElement(d.ConfirmPageContainerWarning,{warning:C}),a.default.createElement(d.ConfirmPageContainerSummary,{className:(0,r.default)({"confirm-page-container-summary--border":!g}),action:e,image:o,titleComponent:i,subtitleComponent:p,tokenAddress:f,nonce:m,origin:E,toAddress:j,transactionType:N}),this.renderContent(),!O&&!R&&(t||n)&&a.default.createElement(s.BannerAlert,{severity:u.Severity.Danger,description:t?A(t):n,marginBottom:4,marginLeft:4,marginRight:4}),R&&a.default.createElement(s.BannerAlert,{severity:u.Severity.Danger,marginBottom:4,marginLeft:4,marginRight:4,description:I?A("insufficientCurrencyBuyOrDeposit",[P,S,a.default.createElement(s.Button,{variant:s.BUTTON_VARIANT.LINK,size:s.BUTTON_SIZES.INHERIT,onClick:D,key:`${P}-buy-button`},A("buyAsset",[P]))]):A("insufficientCurrencyDeposit",[P,S])}),a.default.createElement(l.PageContainerFooter,{onCancel:b,cancelText:v,onSubmit:_,submitText:T,disabled:k},x>1?a.default.createElement("a",{onClick:y},w):null))}}n.default=g,m(g,"contextTypes",{t:o.default.func.isRequired}),m(g,"propTypes",{action:o.default.string,dataHexComponent:o.default.node,detailsComponent:o.default.node,insightComponent:o.default.node,errorKey:o.default.string,errorMessage:o.default.string,tokenAddress:o.default.string,nonce:o.default.string,subtitleComponent:o.default.node,image:o.default.string,titleComponent:o.default.node,warning:o.default.string,origin:o.default.string.isRequired,ethGasPriceWarning:o.default.string,onCancelAll:o.default.func,onCancel:o.default.func,cancelText:o.default.string,onSubmit:o.default.func,submitText:o.default.string,disabled:o.default.bool,unapprovedTxCount:o.default.number,rejectNText:o.default.string,supportsEIP1559:o.default.bool,hasTopBorder:o.default.bool,nativeCurrency:o.default.string,networkName:o.default.string,toAddress:o.default.string,transactionType:o.default.string,isBuyableChain:o.default.bool,openBuyCryptoInPdapp:o.default.func})}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container-content/confirm-page-container-content.component.js"}],[4158,{"../../../../../../shared/constants/app":4054,"../../../../../../shared/modules/hexstring-utils":4095,"../../../../../helpers/utils/util":4934,"../../../../../hooks/useAddressDetails":4949,"../../../../../hooks/useI18nContext":4959,"../../../../../selectors":5306,"../../../../ui/identicon":4784,"../../../../ui/info-tooltip":4785,"../../../../ui/site-origin":4835,"../../../modals/nickname-popovers":4294,"@metamask/transaction-controller":1733,classnames:2468,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=b(e("prop-types")),i=b(e("classnames")),s=e("@metamask/transaction-controller"),l=e("../../../../../../shared/modules/hexstring-utils"),c=e("../../../../../hooks/useI18nContext"),u=b(e("../../../../../hooks/useAddressDetails")),d=e("../../../../../selectors"),p=b(e("../../../../ui/identicon")),f=b(e("../../../../ui/info-tooltip")),m=b(e("../../../modals/nickname-popovers")),g=e("../../../../../../shared/constants/app"),h=b(e("../../../../ui/site-origin")),y=e("../../../../../helpers/utils/util");function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}const _=e=>{const{action:t,titleComponent:n,subtitleComponent:r,className:b,tokenAddress:v,nonce:_,origin:T,image:k,transactionType:x}=e,[w,E]=(0,a.useState)(!1),C=(0,c.useI18nContext)(),O=(0,o.useSelector)(d.getIpfsGateway),M=(0,o.useSelector)(d.txDataSelector),{txParams:P={}}=M,{to:S}=P,j=[s.TransactionType.contractInteraction,s.TransactionType.tokenMethodTransfer,s.TransactionType.tokenMethodTransferFrom,s.TransactionType.tokenMethodSafeTransferFrom].includes(x);let N;j&&(N=x===s.TransactionType.tokenMethodTransfer||x===s.TransactionType.tokenMethodTransferFrom||x===s.TransactionType.tokenMethodSafeTransferFrom||x===s.TransactionType.tokenMethodSetApprovalForAll?v:S);const{toName:I,isTrusted:D}=(0,u.default)(N),A=(0,l.toChecksumHexAddress)(N);return a.default.createElement("div",{className:(0,i.default)("confirm-page-container-summary",b)},T===g.ORIGIN_METAMASK?null:a.default.createElement(h.default,{className:"confirm-page-container-summary__origin",siteOrigin:T}),a.default.createElement("div",{className:"confirm-page-container-summary__action-row"},a.default.createElement("div",{className:"confirm-page-container-summary__action"},j&&I&&a.default.createElement("span",{className:"confirm-page-container-summary__action__contract-address"},a.default.createElement("button",{className:"confirm-page-container-summary__action__contract-address-btn",onClick:()=>E(!0),role:"button"},I),":"),a.default.createElement("span",{className:"confirm-page-container-summary__action__name"},t),j&&!1===D&&a.default.createElement(f.default,{position:"top",contentText:C("unverifiedContractAddressMessage")})),_&&a.default.createElement("div",{className:"confirm-page-container-summary__nonce"},`#${_}`)),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"confirm-page-container-summary__title"},(()=>{const e=(0,y.getAssetImageURL)(k,O);return k?a.default.createElement("img",{className:"confirm-page-container-summary__icon",width:36,src:e}):N?a.default.createElement(p.default,{className:"confirm-page-container-summary__icon",diameter:36,address:N}):null})(),n),r),w&&a.default.createElement(m.default,{onClose:()=>E(!1),address:A}))};_.propTypes={action:r.default.string,image:r.default.string,titleComponent:r.default.node,subtitleComponent:r.default.node,className:r.default.string,tokenAddress:r.default.string,nonce:r.default.string,origin:r.default.string.isRequired,transactionType:r.default.string};n.default=_}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container-content/confirm-page-container-summary/confirm-page-container-summary.component.js"}],[4159,{"./confirm-page-container-summary.component":4158},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./confirm-page-container-summary.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container-content/confirm-page-container-summary/index.js"}],[4160,{"../../../../../helpers/constants/design-system":4892,"../../../../component-library":4562,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("react")),o=s(e("prop-types")),r=e("../../../../component-library"),i=e("../../../../../helpers/constants/design-system");function s(e){return e&&e.__esModule?e:{default:e}}const l=e=>a.default.createElement("div",{className:"confirm-page-container-warning"},a.default.createElement(r.Icon,{name:r.IconName.Info,color:i.IconColor.warningDefault,className:"confirm-page-container-warning__icon"}),a.default.createElement("div",{className:"confirm-page-container-warning__warning"},e.warning));l.propTypes={warning:o.default.string};n.default=l}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container-content/confirm-page-container-warning/confirm-page-container-warning.component.js"}],[4161,{"./confirm-page-container-warning.component":4160},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./confirm-page-container-warning.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container-content/confirm-page-container-warning/index.js"}],[4162,{"./confirm-page-container-content.component":4157,"./confirm-page-container-summary":4159,"./confirm-page-container-warning":4161},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmPageContainerSummary",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"ConfirmPageContainerWarning",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=i(e("./confirm-page-container-content.component")),o=i(e("./confirm-page-container-summary")),r=i(e("./confirm-page-container-warning"));function i(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container-content/index.js"}],[4163,{"../../../../../app/scripts/lib/util":85,"../../../../../shared/constants/app":4054,"../../../../helpers/utils/util":4934,"../../../../hooks/useI18nContext":4959,"../../../component-library":4562,"../../../ui/account-mismatch-warning/account-mismatch-warning.component":4724,"../../../ui/identicon":4784,"../../network-display":4314,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=f(e("react")),o=f(e("prop-types")),r=e("../../../../../shared/constants/app"),i=e("../../../../../app/scripts/lib/util"),s=f(e("../../network-display")),l=f(e("../../../ui/identicon")),c=e("../../../../helpers/utils/util"),u=f(e("../../../ui/account-mismatch-warning/account-mismatch-warning.component")),d=e("../../../../hooks/useI18nContext"),p=e("../../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m({onEdit:e,showEdit:t,accountAddress:n,showAccountInHeader:o,children:f}){const m=(0,d.useI18nContext)(),g=(0,i.getEnvironmentType)(),h=g!==r.ENVIRONMENT_TYPE_NOTIFICATION&&g!==r.ENVIRONMENT_TYPE_POPUP;return!t&&h?f:a.default.createElement("div",{className:"confirm-page-container-header","data-testid":"header-container"},a.default.createElement("div",{className:"confirm-page-container-header__row"},o?a.default.createElement("div",{className:"confirm-page-container-header__address-container"},a.default.createElement("div",{className:"confirm-page-container-header__address-identicon"},a.default.createElement(l.default,{address:n,diameter:24})),a.default.createElement("div",{className:"confirm-page-container-header__address","data-testid":"header-address"},(0,c.shortenAddress)(n)),a.default.createElement(u.default,{address:n})):a.default.createElement("div",{className:"confirm-page-container-header__back-button-container",style:{visibility:t?"initial":"hidden"}},a.default.createElement(p.Icon,{name:p.IconName.ArrowLeft}),a.default.createElement("span",{"data-testid":"confirm-page-back-edit-button",className:"confirm-page-container-header__back-button",onClick:()=>e()},m("edit"))),h?null:a.default.createElement(s.default,null)),f)}m.propTypes={accountAddress:o.default.string,showAccountInHeader:o.default.bool,showEdit:o.default.bool,onEdit:o.default.func,children:o.default.node}}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container-header/confirm-page-container-header.component.js"}],[4164,{"./confirm-page-container-header.component":4163},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./confirm-page-container-header.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container-header/index.js"}],[4165,{"../../../../contexts/i18n":4868,"../../../../ducks/confirm-transaction/confirm-transaction.duck":4876,"../../../../helpers/constants/routes":4897,"../../../../selectors":5306,react:3788,"react-redux":3753,"react-router-dom":3773},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=e("react-router-dom"),i=e("../../../../selectors"),s=e("../../../../contexts/i18n"),l=e("../../../../helpers/constants/routes"),c=e("../../../../ducks/confirm-transaction/confirm-transaction.duck");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.useContext)(s.I18nContext),t=(0,o.useDispatch)(),n=(0,r.useHistory)(),{id:u}=(0,r.useParams)(),d=(0,o.useSelector)(i.unapprovedDecryptMsgsSelector),p=(0,o.useSelector)(i.unapprovedEncryptionPublicKeyMsgsSelector),f=(0,o.useSelector)(i.unconfirmedTransactionsHashSelector),m=[...Object.keys(d||{}),...Object.keys(p||{})],g=Object.keys(f).filter((e=>!1===m.includes(e))),h=g.indexOf(u),y=g.length,b=h+1,v=g[h+1],_=g[h-1],T=g.length>1,k=g[0],x=g[g.length-1],w=e=>{var a;e&&(t((0,c.clearConfirmTransaction)()),n.push(null!==(a=f[e])&&void 0!==a&&a.msgParams?`${l.CONFIRM_TRANSACTION_ROUTE}/${e}${l.SIGNATURE_REQUEST_PATH}`:`${l.CONFIRM_TRANSACTION_ROUTE}/${e}`))};return a.default.createElement("div",{className:"confirm-page-container-navigation",style:{display:T?"flex":"none"}},a.default.createElement("div",{className:"confirm-page-container-navigation__container","data-testid":"navigation-container",style:{visibility:_?"initial":"hidden"}},a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"first-page",onClick:()=>w(k)},a.default.createElement("i",{className:"fa fa-angle-double-left fa-2x"})),a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"previous-page",onClick:()=>w(_)},a.default.createElement("i",{className:"fa fa-angle-left fa-2x"}))),a.default.createElement("div",{className:"confirm-page-container-navigation__textcontainer"},a.default.createElement("div",{className:"confirm-page-container-navigation__navtext"},b," ",e("ofTextNofM")," ",y),a.default.createElement("div",{className:"confirm-page-container-navigation__longtext"},e("requestsAwaitingAcknowledgement"))),a.default.createElement("div",{className:"confirm-page-container-navigation__container",style:{visibility:v?"initial":"hidden"}},a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"next-page",onClick:()=>w(v)},a.default.createElement("i",{className:"fa fa-angle-right fa-2x"})),a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"last-page",onClick:()=>w(x)},a.default.createElement("i",{className:"fa fa-angle-double-right fa-2x"}))))}}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container-navigation/confirm-page-container-navigation.component.js"}],[4166,{"./confirm-page-container-navigation.component":4165},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./confirm-page-container-navigation.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container-navigation/index.js"}],[4167,{".":4168,"../../../../shared/constants/gas":4058,"../../../../shared/constants/metametrics":4063,"../../../../shared/constants/network":4064,"../../../../shared/constants/transaction":4076,"../../../../shared/lib/token-util.ts":4083,"../../../contexts/gasFee":4867,"../../../contexts/metametrics":4869,"../../../helpers/constants/design-system":4892,"../../../helpers/constants/error-keys":4893,"../../../hooks/experiences/useRamps":4937,"../../../hooks/useI18nContext":4959,"../../../hooks/useTransactionInsights":4988,"../../../selectors":5306,"../../component-library":4562,"../../ui/actionable-message/actionable-message":4725,"../../ui/button":4733,"../../ui/error-message":4759,"../../ui/page-container":4812,"../../ui/sender-to-recipient":4826,"../advanced-gas-fee-popover":4130,"../edit-gas-fee-popover/edit-gas-fee-popover":4219,"../edit-gas-popover":4232,"../network-account-balance-header/network-account-balance-header":4313,"../set-approval-for-all-warning":4359,"@metamask/transaction-controller":1733,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=N(e("prop-types")),r=e("react-redux"),i=e("@metamask/transaction-controller"),s=e("../../../../shared/constants/gas"),l=e("../../../contexts/gasFee"),c=e("../../../../shared/constants/transaction"),u=e("../../../../shared/constants/network"),d=e("../../ui/page-container"),p=N(e("../../ui/button")),f=N(e("../../ui/actionable-message/actionable-message")),m=N(e("../../ui/sender-to-recipient")),g=N(e("../advanced-gas-fee-popover")),h=N(e("../edit-gas-fee-popover/edit-gas-fee-popover")),y=N(e("../edit-gas-popover")),b=N(e("../../ui/error-message")),v=e("../../../helpers/constants/error-keys"),_=e("../../component-library"),T=e("../../../helpers/constants/design-system"),k=N(e("../network-account-balance-header/network-account-balance-header")),x=e("../../../../shared/lib/token-util.ts"),w=N(e("../set-approval-for-all-warning")),E=e("../../../hooks/useI18nContext"),C=N(e("../../../hooks/useTransactionInsights")),O=e("../../../selectors"),M=N(e("../../../hooks/experiences/useRamps")),P=e("../../../contexts/metametrics"),S=e("../../../../shared/constants/metametrics"),j=e(".");function N(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}const D=e=>{const{showEdit:t,onEdit:n,fromName:o,fromAddress:N,toEns:I,toNickname:D,toAddress:A,disabled:R,errorKey:F,errorMessage:L,contentComponent:$,action:W,title:B,image:G,titleComponent:U,subtitleComponent:V,detailsComponent:q,dataHexComponent:H,onCancelAll:z,onCancel:K,onSubmit:Y,onSetApprovalForAll:X,showWarningModal:J,tokenAddress:Z,nonce:Q,unapprovedTxCount:ee,warning:te,hideSenderToRecipient:ne,showAccountInHeader:ae,origin:oe,ethGasPriceWarning:re,editingGas:ie,handleCloseEditGas:se,currentTransaction:le,supportsEIP1559:ce,nativeCurrency:ue,txData:de,assetStandard:pe,isApprovalOrRejection:fe,displayAccountBalanceHeader:me}=e,ge=(0,E.useI18nContext)(),he=(0,a.useContext)(P.MetaMetricsContext),[ye,be]=(0,a.useState)("0"),ve=(0,r.useSelector)(O.getIsBuyableChain),_e=(0,r.useSelector)((e=>(0,O.getAddressBookEntry)(e,A))),Te=(0,r.useSelector)(O.getNetworkIdentifier),ke=(0,r.useSelector)(O.getSwapsDefaultToken).string,xe=(0,r.useSelector)(O.getMetaMaskIdentities),we=(0,O.getAccountName)(xe,A),Ee=we||(null==_e?void 0:_e.name),Ce=Boolean(we),Oe=(0,r.useSelector)((e=>(0,O.getMetadataContractName)(e,A))),{openBuyCryptoInPdapp:Me}=(0,M.default)(),Pe=le.type===i.TransactionType.tokenMethodSetApprovalForAll,Se=$&&R&&(F||L),je=u.NETWORK_TO_NAME_MAP[le.chainId]||Te,Ne=(0,a.useCallback)((async()=>{const e=await(0,x.fetchTokenBalance)(Z,N,global.ethereumProvider);be(e.toString()||"0")}),[N,Z]),Ie=(0,C.default)({txData:de}),De=null==Ie?void 0:Ie.insightComponent,Ae=()=>Pe&&fe?X():Y();return(0,a.useEffect)((()=>{Pe&&pe===c.TokenStandard.ERC721&&Ne()}),[le,pe,Pe,Ne,ye]),a.default.createElement(l.GasFeeContextProvider,{transaction:le},a.default.createElement("div",{className:"page-container","data-testid":"page-container"},a.default.createElement(j.ConfirmPageContainerNavigation,null),me?a.default.createElement(k.default,{accountName:o,accountBalance:ke,tokenName:ue,accountAddress:N,networkName:je,chainId:le.chainId}):a.default.createElement(j.ConfirmPageContainerHeader,{showEdit:t,onEdit:()=>n(),showAccountInHeader:ae,accountAddress:N},ne?null:a.default.createElement(m.default,{senderName:o,senderAddress:N,recipientName:Ee,recipientMetadataName:Oe,recipientAddress:A,recipientEns:I,recipientNickname:D,recipientIsOwnedAccount:Ce})),$||a.default.createElement(j.ConfirmPageContainerContent,{action:W,title:B,image:G,titleComponent:U,subtitleComponent:V,detailsComponent:q,dataHexComponent:H,insightComponent:De,errorMessage:L,errorKey:F,tokenAddress:Z,nonce:Q,warning:te,onCancelAll:z,onCancel:K,cancelText:ge("reject"),onSubmit:Ae,submitText:ge("confirm"),disabled:R,unapprovedTxCount:ee,rejectNText:ge("rejectTxsN",[ee]),origin:oe,ethGasPriceWarning:re,supportsEIP1559:ce,currentTransaction:le,nativeCurrency:ue,networkName:je,toAddress:A,transactionType:le.type,isBuyableChain:ve,openBuyCryptoInPdapp:Me,txData:de}),Se&&F===v.INSUFFICIENT_FUNDS_ERROR_KEY&&a.default.createElement("div",{className:"confirm-approve-content__warning"},a.default.createElement(f.default,{message:ve?a.default.createElement(_.Text,{variant:T.TextVariant.bodySm,textAlign:T.TextAlign.Left,as:"h6"},ge("insufficientCurrencyBuyOrDeposit",[ue,je,a.default.createElement(p.default,{type:"inline",className:"confirm-page-container-content__link",onClick:()=>{Me(),he({event:S.MetaMetricsEventName.NavBuyButtonClicked,category:S.MetaMetricsEventCategory.Navigation,properties:{location:"Transaction Confirmation",text:"Buy"}})},key:`${ue}-buy-button`},ge("buyAsset",[ue]))])):a.default.createElement(_.Text,{variant:T.TextVariant.bodySm,textAlign:T.TextAlign.Left,as:"h6"},ge("insufficientCurrencyDeposit",[ue,je])),useIcon:!0,iconFillColor:"var(--color-error-default)",type:"danger"})),Se&&F!==v.INSUFFICIENT_FUNDS_ERROR_KEY&&a.default.createElement("div",{className:"confirm-approve-content__warning"},a.default.createElement(b.default,{errorKey:F})),J&&a.default.createElement(w.default,{collectionName:B,senderAddress:N,name:o,isERC721:pe===c.TokenStandard.ERC721,total:ye,onSubmit:Y,onCancel:K}),$&&a.default.createElement(d.PageContainerFooter,{onCancel:K,cancelText:ge("reject"),onSubmit:Ae,submitText:ge("confirm"),submitButtonType:Pe&&fe?"danger-primary":"primary",disabled:R},ee>1&&a.default.createElement("a",{onClick:z},ge("rejectTxsN",[ee]))),ie&&!ce&&a.default.createElement(y.default,{mode:s.EditGasModes.modifyInPlace,onClose:se,transaction:le}),ce&&a.default.createElement(a.default.Fragment,null,a.default.createElement(h.default,null),a.default.createElement(g.default,null))))};D.propTypes={action:o.default.string,onEdit:o.default.func,showEdit:o.default.bool,subtitleComponent:o.default.node,title:o.default.string,image:o.default.string,titleComponent:o.default.node,hideSenderToRecipient:o.default.bool,showAccountInHeader:o.default.bool,assetStandard:o.default.string,fromAddress:o.default.string,fromName:o.default.string,toAddress:o.default.string,toEns:o.default.string,toNickname:o.default.string,contentComponent:o.default.node,errorKey:o.default.string,errorMessage:o.default.string,dataHexComponent:o.default.node,detailsComponent:o.default.node,txData:o.default.object,tokenAddress:o.default.string,nonce:o.default.string,warning:o.default.string,unapprovedTxCount:o.default.number,origin:o.default.string.isRequired,ethGasPriceWarning:o.default.string,onCancelAll:o.default.func,onCancel:o.default.func,onSubmit:o.default.func,onSetApprovalForAll:o.default.func,showWarningModal:o.default.bool,disabled:o.default.bool,editingGas:o.default.bool,handleCloseEditGas:o.default.func,currentTransaction:o.default.object.isRequired,supportsEIP1559:o.default.bool,nativeCurrency:o.default.string,isApprovalOrRejection:o.default.bool,displayAccountBalanceHeader:o.default.bool};n.default=D}}},{package:"$root$",file:"ui/components/app/confirm-page-container/confirm-page-container.component.js"}],[4168,{"./confirm-detail-row":4156,"./confirm-page-container-content":4162,"./confirm-page-container-header":4164,"./confirm-page-container-navigation":4166,"./confirm-page-container.component":4167,"./snaps/snap-insight":4169},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmDetailRow",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"ConfirmPageContainerContent",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"ConfirmPageContainerHeader",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"ConfirmPageContainerNavigation",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"ConfirmPageContainerSummary",{enumerable:!0,get:function(){return s.ConfirmPageContainerSummary}}),Object.defineProperty(n,"SnapInsight",{enumerable:!0,get:function(){return l.SnapInsight}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=u(e("./confirm-page-container.component")),o=u(e("./confirm-page-container-header")),r=u(e("./confirm-detail-row")),i=u(e("./confirm-page-container-navigation")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("./confirm-page-container-content")),l=e("./snaps/snap-insight");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/confirm-page-container/index.js"}],[4169,{"../../../../helpers/constants/design-system":4892,"../../../../helpers/constants/snaps":4900,"../../../../helpers/utils/util":4934,"../../../../hooks/snaps/useTransactionInsightSnaps":4947,"../../../../hooks/useI18nContext":4959,"../../../../selectors":5306,"../../../component-library":4562,"../../../ui/box/box":4728,"../../snaps/copyable":4385,"../../snaps/snap-delineator":4399,"../../snaps/snap-ui-renderer":4421,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SnapInsight=void 0;var a=y(e("react")),o=y(e("prop-types")),r=e("react-redux"),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useI18nContext"),c=y(e("../../../ui/box/box")),u=e("../../snaps/snap-ui-renderer"),d=e("../../snaps/snap-delineator"),p=e("../../../../helpers/constants/snaps"),f=e("../../../../helpers/utils/util"),m=e("../../snaps/copyable"),g=e("../../../../selectors"),h=e("../../../../hooks/snaps/useTransactionInsightSnaps");function y(e){return e&&e.__esModule?e:{default:e}}const b=({snapId:e,loading:t,insightHookParams:n})=>{var o,y;const b=(0,l.useI18nContext)();let v,_,T=t;const k=(0,h.useTransactionInsightSnaps)(n);v=null===(o=k.data)||void 0===o||null===(o=o[0])||void 0===o?void 0:o.error,_=null===(y=k.data)||void 0===y||null===(y=y[0])||void 0===y||null===(y=y.response)||void 0===y?void 0:y.content,T=k.loading;const x=(0,r.useSelector)((t=>(0,g.getTargetSubjectMetadata)(t,e))),w=(0,f.getSnapName)(e,x),E=!v&&!T&&!_;return a.default.createElement(c.default,{flexDirection:s.FLEX_DIRECTION.COLUMN,height:"full",marginTop:E&&12,marginBottom:E&&12,alignItems:E&&s.AlignItems.center,justifyContent:E&&s.JustifyContent.center,textAlign:E&&s.TextAlign.Center,className:"snap-insight"},!v&&a.default.createElement(c.default,{height:"full",width:"full",flexDirection:s.FLEX_DIRECTION.COLUMN,className:"snap-insight__container"},T||_?a.default.createElement(u.SnapUIRenderer,{snapId:e,data:_,delineatorType:p.DelineatorType.Insights,isLoading:T}):a.default.createElement(i.Text,{color:s.TextColor.textAlternative,variant:s.TextVariant.bodySm,as:"h6"},b("snapsNoInsight"))),!T&&v&&a.default.createElement(c.default,{padding:4,className:"snap-insight__container__error"},a.default.createElement(d.SnapDelineator,{snapName:w,type:p.DelineatorType.Error},a.default.createElement(i.Text,{variant:s.TextVariant.bodySm,marginBottom:4},b("snapsUIError",[a.default.createElement("b",{key:"0"},w)])),a.default.createElement(m.Copyable,{text:v.message}))))};n.SnapInsight=b,b.propTypes={snapId:o.default.string,loading:o.default.bool,insightHookParams:o.default.object}}}},{package:"$root$",file:"ui/components/app/confirm-page-container/snaps/snap-insight.js"}],[4170,{"../../../helpers/constants/common":4890,"../../../helpers/constants/design-system":4892,"../../../helpers/utils/transactions.util":4932,"../../../hooks/useTransactionInfo":4987,"../../../selectors":5306,"../../component-library":4562,"../user-preferenced-currency-display":4481,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),o=f(e("prop-types")),r=e("react-redux"),i=e("../../../helpers/constants/common"),s=e("../../../helpers/constants/design-system"),l=e("../../../helpers/utils/transactions.util"),c=e("../../../selectors"),u=e("../../../hooks/useTransactionInfo"),d=e("../../component-library"),p=f(e("../user-preferenced-currency-display"));function f(e){return e&&e.__esModule?e:{default:e}}const m=({txData:e,hexTransactionAmount:t,subtitleComponent:n,assetStandard:o})=>{const f=(0,r.useSelector)(c.getShouldShowFiat),{isNftTransfer:m}=(0,u.useTransactionInfo)(e);return f||m||(0,l.isNFTAssetStandard)(o)?n||a.default.createElement(d.Text,{as:"h5",ellipsis:!0,variant:s.TextVariant.bodyMd,color:s.Color.textAlternative},a.default.createElement(p.default,{value:t,type:i.SECONDARY,showEthLogo:!0,hideLabel:!0})):null};m.propTypes={assetStandard:o.default.string,hexTransactionAmount:o.default.string,subtitleComponent:o.default.element,txData:o.default.object.isRequired};n.default=m}}},{package:"$root$",file:"ui/components/app/confirm-subtitle/confirm-subtitle.js"}],[4171,{"./confirm-subtitle":4170},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmSubTitle",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./confirm-subtitle"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-subtitle/index.js"}],[4172,{"../../../helpers/constants/common":4890,"../../../helpers/constants/design-system":4892,"../../component-library":4562,"../user-preferenced-currency-display":4481,"@metamask/transaction-controller":1733,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("react")),o=u(e("prop-types")),r=e("@metamask/transaction-controller"),i=e("../../../helpers/constants/common"),s=e("../../component-library"),l=e("../../../helpers/constants/design-system"),c=u(e("../user-preferenced-currency-display"));function u(e){return e&&e.__esModule?e:{default:e}}const d=({title:e,hexTransactionAmount:t,txData:n})=>{var o;const u=n.type===r.TransactionType.contractInteraction;return(u||n.type===r.TransactionType.deployContract)&&"0x0"===(null===(o=n.txParams)||void 0===o?void 0:o.value)?null:e?a.default.createElement(s.Text,{as:e&&e.length<10?"h1":"h3",ellipsis:!0,title:e,variant:e&&e.length<10?l.TextVariant.displayMd:l.TextVariant.headingMd,fontWeight:l.FONT_WEIGHT.NORMAL},e):a.default.createElement(s.Text,{as:"h3",ellipsis:!0,fontWeight:l.FONT_WEIGHT.NORMAL,variant:l.TextVariant.headingMd},a.default.createElement(c.default,{ethLogoHeight:24,hideLabel:!u,showCurrencySuffix:u,showEthLogo:!0,type:i.PRIMARY,value:t}))};d.propTypes={txData:o.default.object.isRequired,title:o.default.oneOfType([o.default.string,o.default.number]),hexTransactionAmount:o.default.string};n.default=d}}},{package:"$root$",file:"ui/components/app/confirm-title/confirm-title.js"}],[4173,{"./confirm-title":4172},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmTitle",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./confirm-title"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirm-title/index.js"}],[4174,{"../../../../../helpers/constants/design-system":4892,"../../../../../helpers/utils/util":4934,"../../../../component-library":4562,"../../../../ui/tooltip/tooltip":4857,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowAddress=void 0;var a=l(e("react")),o=e("../../../../component-library"),r=e("../../../../../helpers/constants/design-system"),i=e("../../../../../helpers/utils/util"),s=l(e("../../../../ui/tooltip/tooltip"));function l(e){return e&&e.__esModule?e:{default:e}}n.ConfirmInfoRowAddress=({address:e})=>a.default.createElement(o.Box,{display:r.Display.Flex,flexDirection:r.FlexDirection.Row,alignItems:r.AlignItems.center},a.default.createElement(o.AvatarAccount,{address:e,size:o.AvatarAccountSize.Xs,borderColor:r.BorderColor.transparent}),a.default.createElement(s.default,{position:"top",title:e,interactive:!0},a.default.createElement(o.Text,{marginLeft:2,color:r.TextColor.inherit},(0,i.shortenAddress)(e))))}}},{package:"$root$",file:"ui/components/app/confirm/info/row/address.tsx"}],[4175,{react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowDivider=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a};n.ConfirmInfoRowDivider=()=>o.default.createElement("div",{style:{height:"1px",backgroundColor:"var(--color-border-muted)"}})}}},{package:"$root$",file:"ui/components/app/confirm/info/row/divider.tsx"}],[4176,{"./row":4178,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useRowContext=void 0;var a=e("react"),o=e("./row");n.useRowContext=()=>(0,a.useContext)(o.ConfirmInfoRowContext)}}},{package:"$root$",file:"ui/components/app/confirm/info/row/hook.ts"}],[4177,{"./address":4174,"./divider":4175,"./row":4178,"./url":4179,"./value-double":4180},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./address");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}));var o=e("./divider");Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===o[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}}))}));var r=e("./row");Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===r[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}}))}));var i=e("./url");Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===i[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}}))}));var s=e("./value-double");Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===s[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return s[e]}}))}))}}},{package:"$root$",file:"ui/components/app/confirm/info/row/index.ts"}],[4178,{"../../../../../helpers/constants/design-system":4892,"../../../../component-library":4562,"../../../../ui/tooltip/tooltip":4857,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowVariant=n.ConfirmInfoRowContext=n.ConfirmInfoRow=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("../../../../ui/tooltip/tooltip"))&&a.__esModule?a:{default:a},i=e("../../../../component-library"),s=e("../../../../../helpers/constants/design-system");function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}let c=n.ConfirmInfoRowVariant=function(e){return e.Default="default",e.Critical="critical",e.Warning="warning",e}({});const u={[c.Default]:undefined,[c.Critical]:s.BackgroundColor.errorMuted,[c.Warning]:s.BackgroundColor.warningMuted},d={[c.Default]:s.TextColor.textDefault,[c.Critical]:s.Color.errorAlternative,[c.Warning]:s.Color.warningAlternative},p={[c.Default]:i.IconName.Question,[c.Critical]:i.IconName.Warning,[c.Warning]:i.IconName.Warning},f={[c.Default]:s.Color.iconMuted,[c.Critical]:s.Color.errorAlternative,[c.Warning]:s.Color.warningAlternative},m=n.ConfirmInfoRowContext=(0,o.createContext)({variant:c.Default});n.ConfirmInfoRow=({label:e,children:t,variant:n=c.Default,tooltip:a,style:l})=>o.default.createElement(m.Provider,{value:{variant:n}},o.default.createElement(i.Box,{className:"confirm-info-row",display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.spaceBetween,flexWrap:s.FlexWrap.Wrap,backgroundColor:u[n],borderRadius:s.BorderRadius.LG,marginTop:2,marginBottom:2,paddingLeft:2,paddingRight:2,color:d[n],style:{overflowWrap:s.OverflowWrap.Anywhere,minHeight:"24px",...l}},o.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.center},o.default.createElement(i.Text,{variant:s.TextVariant.bodyMdMedium,color:s.TextColor.inherit},e),a&&a.length>0&&o.default.createElement(r.default,{title:a,style:{display:"flex"}},o.default.createElement(i.Icon,{name:p[n],marginLeft:1,color:f[n]}))),"string"==typeof t?o.default.createElement(i.Text,{color:s.TextColor.inherit},t):t))}}},{package:"$root$",file:"ui/components/app/confirm/info/row/row.tsx"}],[4179,{"../../../../../helpers/constants/design-system":4892,"../../../../component-library":4562,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowUrl=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../../component-library"),i=e("../../../../../helpers/constants/design-system");n.ConfirmInfoRowUrl=({url:e})=>{var t;let n;try{n=new URL(e)}catch(t){console.log(`ConfirmInfoRowUrl: new URL(url) cannot parse ${e}`)}const a="http:"===(null===(t=n)||void 0===t?void 0:t.protocol);return o.default.createElement(r.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,flexWrap:i.FlexWrap.Wrap,style:{columnGap:"8px"}},a&&o.default.createElement(r.Text,{variant:i.TextVariant.bodySm,display:i.Display.Flex,alignItems:i.AlignItems.center,borderRadius:i.BorderRadius.SM,backgroundColor:i.BackgroundColor.warningMuted,paddingLeft:1,paddingRight:1,color:i.TextColor.warningDefault},o.default.createElement(r.Icon,{name:r.IconName.Danger,color:i.IconColor.warningDefault,size:r.IconSize.Sm,marginInlineEnd:1}),"HTTP"),o.default.createElement(r.Text,{color:i.TextColor.inherit},e))}}}},{package:"$root$",file:"ui/components/app/confirm/info/row/url.tsx"}],[4180,{"../../../../../helpers/constants/design-system":4892,"../../../../component-library":4562,"./hook":4176,"./row":4178,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowValueDouble=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../../component-library"),i=e("../../../../../helpers/constants/design-system"),s=e("./hook"),l=e("./row");const c={[l.ConfirmInfoRowVariant.Default]:i.TextColor.textMuted,[l.ConfirmInfoRowVariant.Critical]:i.Color.errorAlternative,[l.ConfirmInfoRowVariant.Warning]:i.Color.warningAlternative};n.ConfirmInfoRowValueDouble=({left:e,right:t})=>{const{variant:n}=(0,s.useRowContext)();return o.default.createElement(r.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,alignItems:i.AlignItems.center,flexWrap:i.FlexWrap.Wrap,style:{columnGap:"8px"}},o.default.createElement(r.Text,{color:c[n]},e),o.default.createElement(r.Text,{color:i.TextColor.inherit},t))}}}},{package:"$root$",file:"ui/components/app/confirm/info/row/value-double.tsx"}],[4181,{"../../../helpers/constants/design-system":4892,"../../../hooks/useI18nContext":4959,"../../component-library":4562,"../../component-library/modal-content/deprecated":4570,"../../component-library/modal-header/deprecated":4579,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("react")),o=u(e("prop-types")),r=e("../../../hooks/useI18nContext"),i=e("../../../helpers/constants/design-system"),s=e("../../component-library"),l=e("../../component-library/modal-content/deprecated"),c=e("../../component-library/modal-header/deprecated");function u(e){return e&&e.__esModule?e:{default:e}}const d=({onSubmit:e,onCancel:t})=>{const n=(0,r.useI18nContext)();return a.default.createElement(s.Modal,{isOpen:!0,onClose:t,className:"confirmation-warning-modal__content"},a.default.createElement(s.ModalOverlay,null),a.default.createElement(l.ModalContent,null,a.default.createElement(c.ModalHeader,{childrenWrapperProps:{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,gap:4}},a.default.createElement(s.Icon,{name:s.IconName.Danger,color:i.IconColor.errorDefault,size:s.IconSize.Xl}),a.default.createElement(s.Text,{variant:i.TextVariant.headingSm,as:"h4",fontWeight:i.FontWeight.Bold,textAlign:i.TextAlign.Center},n("addEthereumChainWarningModalTitle"))),a.default.createElement(s.Box,{marginBottom:4},a.default.createElement(s.Text,{marginTop:4,variant:i.TextVariant.bodySm},n("addEthereumChainWarningModalHeader",[a.default.createElement("strong",{key:"part-2"},n("addEthereumChainWarningModalHeaderPartTwo"))])),a.default.createElement(s.Text,{marginTop:4,variant:i.TextVariant.bodySm},n("addEthereumChainWarningModalListHeader")),a.default.createElement("ul",null,a.default.createElement(s.Text,{as:"li",marginTop:2,variant:i.TextVariant.bodySm},n("addEthereumChainWarningModalListPointOne")),a.default.createElement(s.Text,{as:"li",marginTop:2,variant:i.TextVariant.bodySm},n("addEthereumChainWarningModalListPointTwo")),a.default.createElement(s.Text,{as:"li",marginTop:2,variant:i.TextVariant.bodySm},n("addEthereumChainWarningModalListPointThree")))),a.default.createElement(s.Box,{display:i.Display.Flex,gap:4},a.default.createElement(s.Button,{variant:s.BUTTON_VARIANT.SECONDARY,onClick:t,block:!0,size:s.BUTTON_SIZES.LG},n("reject")),a.default.createElement(s.Button,{variant:s.BUTTON_VARIANT.PRIMARY,onClick:e,danger:!0,block:!0,size:s.BUTTON_SIZES.LG},n("approveButtonText")))))};d.propTypes={onSubmit:o.default.func,onCancel:o.default.func};n.default=d}}},{package:"$root$",file:"ui/components/app/confirmation-warning-modal/confirmation-warning-modal.js"}],[4182,{"./confirmation-warning-modal":4181},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./confirmation-warning-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/confirmation-warning-modal/index.js"}],[4183,{"../../../../helpers/constants/design-system":4892,"../../../../helpers/utils/util":4934,"../../../../selectors":5306,"../../../component-library":4562,classnames:2468,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=d(e("react")),o=d(e("classnames")),r=d(e("prop-types")),i=e("react-redux"),s=e("../../../../helpers/utils/util"),l=e("../../../component-library"),c=e("../../../../selectors"),u=e("../../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function p({address:e,className:t=null,name:n,status:r,action:d=null,options:p=null,backgroundColor:f}){const m=(0,i.useSelector)(c.getUseBlockie),g=f??u.BackgroundColor.backgroundDefault;return a.default.createElement(l.Box,{className:(0,o.default)("connected-accounts-list__row",t),padding:4,backgroundColor:g,display:u.Display.Flex,flexDirection:u.FlexDirection.Row,justifyContent:u.JustifyContent.spaceBetween,alignItems:u.AlignItems.center},a.default.createElement(l.Box,{className:"connected-accounts-list__row-content",gap:4},a.default.createElement(l.AvatarAccount,{variant:m?l.AvatarAccountVariant.Blockies:l.AvatarAccountVariant.Jazzicon,address:e,size:l.AvatarAccountSize.Md}),a.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column},a.default.createElement(l.Box,null,a.default.createElement(l.Text,{variant:u.TextVariant.bodyLgMedium,className:"connected-accounts-list__account-name"},n),a.default.createElement(l.Text,{variant:u.TextVariant.bodyMd},(0,s.shortenAddress)(e)),r?a.default.createElement(l.Text,{variant:u.TextVariant.bodyMd,className:"connected-accounts-list__account-status",color:u.TextColor.successDefault},r):null),a.default.createElement(l.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Column},d))),p)}p.propTypes={address:r.default.string.isRequired,className:r.default.string,name:r.default.node.isRequired,status:r.default.string,action:r.default.node,options:r.default.node,backgroundColor:r.default.string}}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/connected-accounts-list-item/connected-accounts-list-item.component.js"}],[4184,{"./connected-accounts-list-item.component":4183},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./connected-accounts-list-item.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/connected-accounts-list-item/index.js"}],[4185,{"../../../../hooks/useI18nContext":4959,"../../../component-library":4562,"../../../ui/menu":4801,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=(a=e("prop-types"))&&a.__esModule?a:{default:a},r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("../../../ui/menu"),s=e("../../../component-library"),l=e("../../../../hooks/useI18nContext");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const u=({children:e,onShowOptions:t,onHideOptions:n,show:a})=>{const o=(0,r.useRef)(!1),c=(0,l.useI18nContext)();return r.default.createElement("div",{ref:o},r.default.createElement(s.ButtonIcon,{iconName:s.IconName.MoreVertical,className:"connected-accounts-options__button",onClick:t,ariaLabel:c("options")}),a?r.default.createElement(i.Menu,{anchorElement:o.current,onHide:n,popperOptions:{modifiers:[{name:"preventOverflow",options:{altBoundary:!0}}]}},e):null)};u.propTypes={children:o.default.node.isRequired,onHideOptions:o.default.func.isRequired,onShowOptions:o.default.func.isRequired,show:o.default.bool.isRequired};n.default=u}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/connected-accounts-list-options/connected-accounts-list-options.component.js"}],[4186,{"./connected-accounts-list-options.component":4185},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./connected-accounts-list-options.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/connected-accounts-list-options/index.js"}],[4187,{"../../../helpers/constants/design-system":4892,"../../component-library":4562,"../../ui/menu":4801,"./connected-accounts-list-item":4184,"./connected-accounts-list-options":4186,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../helpers/constants/design-system"),i=e("../../component-library"),s=e("../../ui/menu"),l=d(e("./connected-accounts-list-item")),c=d(e("./connected-accounts-list-options"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends o.PureComponent{constructor(...e){super(...e),p(this,"state",{accountWithOptionsShown:null}),p(this,"disconnectAccount",(()=>{this.hideAccountOptions(),this.props.removePermittedAccount(this.state.accountWithOptionsShown)})),p(this,"switchAccount",(e=>{this.hideAccountOptions(),this.props.setSelectedAddress(e)})),p(this,"hideAccountOptions",(()=>{this.setState({accountWithOptionsShown:null})})),p(this,"showAccountOptions",(e=>{this.setState({accountWithOptionsShown:e})}))}renderUnconnectedAccount(){const{accountToConnect:e,connectAccount:t}=this.props,{t:n}=this.context;if(!e)return null;const{address:a,name:s}=e;return o.default.createElement(l.default,{className:"connected-accounts-list__row--highlight",backgroundColor:r.BackgroundColor.warningMuted,address:a,name:s,status:n("statusNotConnected"),action:o.default.createElement(i.Text,{variant:r.TextVariant.bodyMd},o.default.createElement(i.ButtonLink,{className:"connected-accounts-list__account-status-link",onClick:()=>t(e.address),size:i.ButtonLinkSize.Inherit},n("connect")))})}renderListItemOptions(e){const{accountWithOptionsShown:t}=this.state,{t:n}=this.context;return o.default.createElement(c.default,{onHideOptions:this.hideAccountOptions,onShowOptions:this.showAccountOptions.bind(null,e),show:t===e},o.default.createElement(s.MenuItem,{iconName:i.IconName.Logout,onClick:this.disconnectAccount},n("disconnectThisAccount")))}renderListItemAction(e){const{t:t}=this.context;return o.default.createElement(i.Text,{variant:r.TextVariant.bodyMd},o.default.createElement(i.ButtonLink,{className:"connected-accounts-list__account-status-link",onClick:()=>this.switchAccount(e),size:i.ButtonLinkSize.Inherit},t("switchToThisAccount")))}render(){const{connectedAccounts:e,selectedAddress:t,shouldRenderListOptions:n}=this.props,{t:a}=this.context;return o.default.createElement(o.default.Fragment,null,o.default.createElement("main",{className:"connected-accounts-list"},this.renderUnconnectedAccount(),e.map((({address:e,name:r},i)=>o.default.createElement(l.default,{key:e,address:e,name:r,status:0===i?a("active"):null,options:n?this.renderListItemOptions(e):null,action:e===t?null:this.renderListItemAction(e)})))))}}n.default=f,p(f,"contextTypes",{t:a.default.func.isRequired}),p(f,"defaultProps",{accountToConnect:null}),p(f,"propTypes",{accountToConnect:a.default.shape({address:a.default.string.isRequired,name:a.default.string.isRequired}),connectedAccounts:a.default.arrayOf(a.default.shape({address:a.default.string.isRequired,name:a.default.string.isRequired,lastActive:a.default.number})).isRequired,connectAccount:a.default.func.isRequired,selectedAddress:a.default.string.isRequired,removePermittedAccount:a.default.func,setSelectedAddress:a.default.func.isRequired,shouldRenderListOptions:(e,t,n)=>"boolean"!=typeof e[t]?new Error(`Warning: Failed prop type: '${t}' of component '${n}' must be a boolean. Received: ${typeof e[t]}`):e[t]&&!e.removePermittedAccount?new Error(`Warning: Failed prop type: '${t}' of component '${n}' requires prop 'removePermittedAccount'.`):undefined})}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/connected-accounts-list.component.js"}],[4188,{"./connected-accounts-list.component":4187},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./connected-accounts-list.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/connected-accounts-list/index.js"}],[4189,{"../../../helpers/constants/design-system":4892,"../../../helpers/utils/permission":4928,"../../../hooks/useI18nContext":4959,"../../component-library":4562,classnames:2468,lodash:3437,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("classnames")),o=p(e("prop-types")),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("lodash"),s=e("../../component-library"),l=e("../../../hooks/useI18nContext"),c=e("../../../helpers/utils/permission"),u=e("../../../helpers/constants/design-system");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}const f=({permissions:e})=>{const t=(0,l.useI18nContext)(),[n,o]=(0,r.useState)(!1),d=()=>{o((e=>!e))};if(!e.length)return null;const p=(0,i.flatten)(e.map((({key:e,value:n})=>(0,c.getPermissionDescription)({t:t,permissionName:e,permissionValue:n}))));return r.default.createElement(s.Box,{className:"connected-accounts-permissions",width:u.BlockSize.Full},r.default.createElement(s.Box,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,as:"button",onClick:d,width:u.BlockSize.Full,justifyContent:u.JustifyContent.spaceBetween,className:"connected-accounts-permissions__header",padding:0,backgroundColor:u.BackgroundColor.backgroundDefault},r.default.createElement(s.Text,{onClick:d,as:"h6",variant:u.TextVariant.bodyMdMedium},t("permissions")),r.default.createElement(s.ButtonIcon,{size:s.ButtonIconSize.Sm,iconName:n?s.IconName.ArrowUp:s.IconName.ArrowDown,ariaLabel:t("showPermissions")})),n?r.default.createElement(s.Box,{className:(0,a.default)("connected-accounts-permissions__list-container-expanded"),marginTop:4},r.default.createElement(s.Text,{as:"h6",variant:u.TextVariant.bodySm},t("authorizedPermissions"),":"),r.default.createElement("ul",{className:"connected-accounts-permissions__list"},p.map((({label:e},t)=>r.default.createElement("li",{key:`connected-permission-${t}`,className:"connected-accounts-permissions__list-item"},r.default.createElement(s.Checkbox,{isChecked:!0,isDisabled:!0,id:`connected-permission-${t}`,label:e})))))):null)};f.propTypes={permissions:o.default.arrayOf(o.default.shape({key:o.default.string.isRequired}))},f.defaultProps={permissions:[]},f.displayName="ConnectedAccountsPermissions";n.default=r.default.memo(f)}}},{package:"$root$",file:"ui/components/app/connected-accounts-permissions/connected-accounts-permissions.js"}],[4190,{"./connected-accounts-permissions":4189},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./connected-accounts-permissions"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/connected-accounts-permissions/index.js"}],[4191,{"../../../helpers/constants/design-system":4892,"../../../helpers/utils/util":4934,"../../component-library":4562,"../../ui/button":4733,"../../ui/site-origin":4835,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=u(e("prop-types")),r=u(e("../../ui/button")),i=e("../../component-library"),s=e("../../../helpers/utils/util"),l=u(e("../../ui/site-origin")),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends a.Component{render(){const{connectedSubjects:e,onDisconnect:t}=this.props,{t:n}=this.context;return a.default.createElement("main",{className:"connected-sites-list__content-rows"},e.map((e=>a.default.createElement("div",{key:e.origin,className:"connected-sites-list__content-row"},a.default.createElement("div",{className:"connected-sites-list__subject-info"},a.default.createElement(i.AvatarFavicon,{className:"connected-sites-list__subject-icon",name:e.name,size:c.Size.MD,src:e.iconUrl}),a.default.createElement(l.default,{className:"connected-sites-list__subject-name",title:e.extensionId||e.origin,siteOrigin:this.getSubjectDisplayName(e)})),a.default.createElement(r.default,{className:"connected-sites-list__content-row-link-button",onClick:()=>t(e.origin),type:"link"},n("disconnect"))))))}getSubjectDisplayName(e){return e.extensionId?this.context.t("externalExtension"):(0,s.stripHttpsSchemeWithoutPort)(e.origin)}}n.default=f,p(f,"contextTypes",{t:o.default.func}),p(f,"propTypes",{connectedSubjects:o.default.arrayOf(o.default.shape({name:o.default.string,iconUrl:o.default.string,origin:o.default.string})).isRequired,onDisconnect:o.default.func.isRequired})}}},{package:"$root$",file:"ui/components/app/connected-sites-list/connected-sites-list.component.js"}],[4192,{"../../../helpers/constants/design-system":4892,"../../../helpers/utils/util":4934,"../../../hooks/useI18nContext":4959,"../../../selectors":5306,"../../../store/actions":5313,"../../component-library":4562,"../../ui/menu":4801,"../connected-accounts-list/connected-accounts-list-options":4186,"../snaps/snap-avatar":4396,"@metamask/snaps-rpc-methods":1609,"@metamask/snaps-utils":1704,"prop-types":3575,react:3788,"react-redux":3753,"react-router-dom":3773},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=b(e("prop-types")),r=e("react-router-dom"),i=e("@metamask/snaps-utils"),s=e("react-redux"),l=e("@metamask/snaps-rpc-methods"),c=e("../../component-library"),u=e("../../../hooks/useI18nContext"),d=e("../../ui/menu"),p=b(e("../snaps/snap-avatar")),f=e("../../../helpers/constants/design-system"),m=b(e("../connected-accounts-list/connected-accounts-list-options")),g=e("../../../selectors"),h=e("../../../store/actions"),y=e("../../../helpers/utils/util");function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function _({connectedSubjects:e}){const[t,n]=(0,a.useState)(),o=(0,u.useI18nContext)(),b=(0,r.useHistory)(),v=(0,s.useDispatch)(),_=(0,s.useSelector)(g.getPermissionSubjects),T=(0,s.useSelector)(g.getOriginOfCurrentTab),k=e=>a.default.createElement(m.default,{onHideOptions:()=>n(),onShowOptions:()=>n(e),show:t===e},a.default.createElement(d.MenuItem,{iconName:c.IconName.Logout,onClick:t=>{t.preventDefault(),(e=>{const t={..._[T].permissions[i.WALLET_SNAP_PERMISSION_KEY].caveats[0].value};delete t[e],Object.keys(t).length>0?v((0,h.updateCaveat)(T,i.WALLET_SNAP_PERMISSION_KEY,l.SnapCaveatType.SnapIds,t)):v((0,h.removePermissionsFor)({[T]:[i.WALLET_SNAP_PERMISSION_KEY]}))})(e)}},o("disconnect")),a.default.createElement(d.MenuItem,{iconName:c.IconName.Setting,onClick:()=>b.push((0,y.getSnapRoute)(e))},o("snapsSettings")));return a.default.createElement(c.Box,{className:"connected-snaps-list__content-rows",width:f.BlockSize.Full},e.map((e=>a.default.createElement(c.Box,{key:e.origin,className:"connected-snaps-list__content-row",width:f.BlockSize.Full,display:f.Display.Flex,flexDirection:f.FlexDirection.Row,padding:4,justifyContent:f.JustifyContent.spaceBetween},a.default.createElement(c.Box,{className:"connected-snaps-list__subject-info",gap:4,display:f.Display.Flex,alignItems:f.AlignItems.center},a.default.createElement(p.default,{snapId:e.origin,badgeSize:c.IconSize.Xs,avatarSize:c.IconSize.Md}),a.default.createElement(c.Text,{variant:f.TextVariant.bodyLgMedium,className:"connected-accounts-list__account-name"},e.name)),k(e.origin)))))}_.propTypes={connectedSubjects:o.default.arrayOf(o.default.shape({name:o.default.string,origin:o.default.string})).isRequired}}}},{package:"$root$",file:"ui/components/app/connected-sites-list/connected-snaps.js"}],[4193,{"./connected-sites-list.component":4191},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./connected-sites-list.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/connected-sites-list/index.js"}],[4194,{"../../../helpers/constants/connected-sites":4891,"../../../helpers/constants/design-system":4892,"../../../hooks/useI18nContext":4959,"../../../selectors":5306,"../../multichain":4677,"@metamask/snaps-utils":1704,lodash:3437,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=f(e("react")),o=f(e("prop-types")),r=e("react-redux"),i=e("lodash"),s=e("@metamask/snaps-utils"),l=e("../../../helpers/constants/connected-sites"),c=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),d=e("../../../selectors"),p=e("../../multichain");function f(e){return e&&e.__esModule?e:{default:e}}function m({onClick:e}){const t=(0,u.useI18nContext)(),n=(0,r.useSelector)(d.getSelectedAddress),o=(0,r.useSelector)(d.getPermissionsForActiveTab).map((e=>e.key)).includes(s.WALLET_SNAP_PERMISSION_KEY),f=(0,r.useSelector)(d.getAddressConnectedSubjectMap),m=(0,r.useSelector)(d.getOriginOfCurrentTab),g=f[n];let h;h=Boolean(g&&g[m])?l.STATUS_CONNECTED:(0,i.findKey)(f,m)?l.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT:o?l.STATUS_CONNECTED_TO_SNAP:l.STATUS_NOT_CONNECTED;let y=c.Color.iconAlternative;h===l.STATUS_CONNECTED?y=c.Color.successDefault:h!==l.STATUS_CONNECTED_TO_ANOTHER_ACCOUNT&&h!==l.STATUS_CONNECTED_TO_SNAP||(y=c.BackgroundColor.backgroundDefault);const b=h===l.STATUS_CONNECTED?t("tooltipSatusConnected"):t("tooltipSatusNotConnected");return a.default.createElement(p.ConnectedSiteMenu,{status:h,globalMenuColor:y,text:b,as:"button",onClick:e})}m.propTypes={onClick:o.default.func}}}},{package:"$root$",file:"ui/components/app/connected-status-indicator/connected-status-indicator.js"}],[4195,{"./connected-status-indicator":4194},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./connected-status-indicator"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/connected-status-indicator/index.js"}],[4196,{"../../ui/button":4733,"./recipient-group/recipient-group.component":4198,lodash:3437,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=l(e("prop-types")),r=e("lodash"),i=l(e("../../ui/button")),s=l(e("./recipient-group/recipient-group.component"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends a.PureComponent{constructor(...e){super(...e),u(this,"state",{isShowingAllRecent:!1})}renderRecents(){const{t:e}=this.context,{isShowingAllRecent:t}=this.state,n=this.props.searchForRecents(),o=!t&&n.length>2;return a.default.createElement("div",{className:"send__select-recipient-wrapper__recent-group-wrapper"},o&&a.default.createElement(i.default,{type:"link",className:"send__select-recipient-wrapper__recent-group-wrapper__load-more",onClick:()=>this.setState({isShowingAllRecent:!0})},e("loadMore")))}renderAddressBook(){const e=this.props.searchForContacts().reduce(((e,t)=>{const n=t.name[0].toUpperCase();return{...e,[n]:[...e[n]||[],t]}}),{});return Object.keys(e).sort().map((t=>[t,(0,r.sortBy)(e[t],(e=>e.name.toLowerCase()))])).map((([e,t])=>a.default.createElement(s.default,{key:`${e}-contact-group`,label:e,items:t,onSelect:this.props.selectRecipient,selectedAddress:this.props.selectedAddress})))}renderMyAccounts(){const e=this.props.searchForMyAccounts();return a.default.createElement(s.default,{items:e,onSelect:this.props.selectRecipient,selectedAddress:this.props.selectedAddress})}render(){const{children:e,searchForRecents:t,searchForContacts:n,searchForMyAccounts:o}=this.props;return a.default.createElement("div",{className:"send__select-recipient-wrapper__list"},e||null,t?this.renderRecents():null,n?this.renderAddressBook():null,o?this.renderMyAccounts():null)}}n.default=d,u(d,"propTypes",{searchForContacts:o.default.func,searchForRecents:o.default.func,searchForMyAccounts:o.default.func,selectRecipient:o.default.func,children:o.default.node,selectedAddress:o.default.string}),u(d,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/components/app/contact-list/contact-list.component.js"}],[4197,{"./contact-list.component":4196},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./contact-list.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/contact-list/index.js"}],[4198,{"../../../../helpers/constants/design-system":4892,"../../../../pages/send/send.utils":5156,"../../../component-library":4562,"../../../multichain":4677,"../../../ui/box":4729,"../../../ui/identicon":4784,classnames:2468,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a=d(e("react")),o=d(e("prop-types")),r=d(e("classnames")),i=d(e("../../../ui/identicon")),s=e("../../../../pages/send/send.utils"),l=d(e("../../../ui/box")),c=e("../../../../helpers/constants/design-system"),u=e("../../../component-library");e("../../../multichain");function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){return String(e).toLowerCase()===String(t).toLowerCase()}function f({label:e,items:t,onSelect:n,selectedAddress:o}){return t&&t.length?a.default.createElement(l.default,{className:"send__select-recipient-wrapper__group","data-testid":"recipient-group"},e&&a.default.createElement(l.default,{className:"send__select-recipient-wrapper__group-label",marginTop:2,marginBottom:2,marginLeft:4,marginRight:4},a.default.createElement(u.Text,{variant:c.TextVariant.bodyMd},e)),t.map((({address:e,name:t})=>a.default.createElement(l.default,{key:e,onClick:()=>n(e,t),className:(0,r.default)({"send__select-recipient-wrapper__group-item":!p(e,o),"send__select-recipient-wrapper__group-item--selected":p(e,o)}),padding:4},a.default.createElement(i.default,{address:e,diameter:28}),a.default.createElement(l.default,{className:"send__select-recipient-wrapper__group-item__content","data-testid":"recipient"},a.default.createElement(u.Text,{variant:c.TextVariant.bodyLgMedium,className:"send__select-recipient-wrapper__group-item__title"},t||(0,s.ellipsify)(e)),t&&a.default.createElement(u.Text,{variant:c.TextVariant.bodyMd,color:c.TextColor.textAlternative,className:"send__select-recipient-wrapper__group-item__subtitle"},(0,s.ellipsify)(e))))))):null}f.propTypes={label:o.default.string,items:o.default.arrayOf(o.default.shape({address:o.default.string.isRequired,name:o.default.string})),onSelect:o.default.func.isRequired,selectedAddress:o.default.string}}}},{package:"$root$",file:"ui/components/app/contact-list/recipient-group/recipient-group.component.js"}],[4199,{"../../../helpers/constants/common":4890,"../../../hooks/useI18nContext":4959,"../../component-library":4562,"../../ui/check-box":4737,"../../ui/text-field":4845,"../srp-input":4428,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=d(e("prop-types")),r=e("../../../hooks/useI18nContext"),i=d(e("../../ui/text-field")),s=d(e("../../ui/check-box")),l=e("../../component-library"),c=d(e("../srp-input")),u=e("../../../helpers/constants/common");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f({disabled:e=!1,includeTerms:t=!1,onSubmit:n,submitText:o}){const[d,p]=(0,a.useState)(""),[f,m]=(0,a.useState)(""),[g,h]=(0,a.useState)(""),[y,b]=(0,a.useState)(""),[v,_]=(0,a.useState)(""),[T,k]=(0,a.useState)(!1),x=(0,r.useI18nContext)(),w=(0,a.useCallback)((e=>{let t="",n="";e&&e.length<u.PASSWORD_MIN_LENGTH&&(n=x("passwordNotLongEnough")),d&&e!==d&&(t=x("passwordsDontMatch")),h(e),b(n),m(t)}),[d,x]),E=(0,a.useCallback)((e=>{let t="";g!==e&&(t=x("passwordsDontMatch")),p(e),m(t)}),[g,x]),C=!e&&g&&d&&g===d&&v&&(!t||T)&&!y&&!f,O=(0,a.useCallback)((async e=>{e.preventDefault(),C&&await n(g,v)}),[C,n,g,v]),M=(0,a.useCallback)((()=>{k((e=>!e))}),[]),P=x("acceptTermsOfUse",[a.default.createElement("a",{className:"create-new-vault__terms-link",key:"create-new-vault__link-text",href:"https://metamask.io/terms.html",target:"_blank",rel:"noopener noreferrer"},x("terms"))]);return a.default.createElement("form",{className:"create-new-vault__form",onSubmit:O},a.default.createElement(c.default,{onChange:_,srpText:x("secretRecoveryPhrase")}),a.default.createElement("div",{className:"create-new-vault__create-password"},a.default.createElement(i.default,{"data-testid":"create-vault-password",id:"password",label:x("newPassword"),type:"password",value:g,onChange:e=>w(e.target.value),error:y,autoComplete:"new-password",margin:"normal",largeLabel:!0}),a.default.createElement(i.default,{"data-testid":"create-vault-confirm-password",id:"confirm-password",label:x("confirmPassword"),type:"password",value:d,onChange:e=>E(e.target.value),error:f,autoComplete:"new-password",margin:"normal",largeLabel:!0})),t?a.default.createElement("div",{className:"create-new-vault__terms"},a.default.createElement(s.default,{id:"create-new-vault__terms-checkbox",dataTestId:"create-new-vault__terms-checkbox",checked:T,onClick:M}),a.default.createElement("label",{className:"create-new-vault__terms-label",htmlFor:"create-new-vault__terms-checkbox"},a.default.createElement(l.Text,{as:"span"},P))):null,a.default.createElement(l.Button,{"data-testid":"create-new-vault-submit-button",className:"create-new-vault__submit-button",variant:l.BUTTON_VARIANT.PRIMARY,disabled:!C,type:"submit"},o))}f.propTypes={disabled:o.default.bool,includeTerms:o.default.bool,onSubmit:o.default.func.isRequired,submitText:o.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/create-new-vault/create-new-vault.js"}],[4200,{"./create-new-vault":4199},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./create-new-vault"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/create-new-vault/index.js"}],[4201,{"../../../../shared/constants/common":4056,"../../../../shared/modules/conversion.utils":4090,"../../../contexts/i18n":4868,"../../../ducks/metamask/metamask":4884,"../../../hooks/useIsOriginalNativeTokenSymbol":4961,"../../../selectors":5306,"../../ui/currency-display":4747,"../../ui/unit-input":4862,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=m(e("prop-types")),r=e("react-redux"),i=m(e("../../ui/unit-input")),s=m(e("../../ui/currency-display")),l=e("../../../contexts/i18n"),c=e("../../../ducks/metamask/metamask"),u=e("../../../selectors"),d=e("../../../../shared/modules/conversion.utils"),p=e("../../../../shared/constants/common"),f=e("../../../hooks/useIsOriginalNativeTokenSymbol");function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h({hexValue:e,featureSecondary:t,onChange:n,onPreferenceToggle:o,swapIcon:m,className:g=""}){const h=(0,a.useContext)(l.I18nContext),y=(0,r.useSelector)(c.getNativeCurrency),b=(0,r.useSelector)(u.getCurrentCurrency),v=(0,r.useSelector)(c.getConversionRate),_=(0,r.useSelector)(u.getShouldShowFiat),T=(0,r.useSelector)(u.getCurrentChainId),{ticker:k,type:x}=(0,r.useSelector)(c.getProviderConfig),w=(0,f.useIsOriginalNativeTokenSymbol)(T,k,x),E=!_,C=y||p.EtherDenomination.ETH,O=b.toUpperCase(),[M,P]=(0,a.useState)(!1),[S,j]=(0,a.useState)(e),[N,I]=(0,a.useState)(t),D=!E&&Boolean(N),A=e?(()=>{const t=D?(0,d.getValueFromWeiHex)({value:e,toCurrency:b,conversionRate:v,numberOfDecimals:2}):(0,d.getValueFromWeiHex)({value:e,toCurrency:p.EtherDenomination.ETH,numberOfDecimals:8});return Number(t)||0})():0,R=async()=>{await o(),P(!M),I(!N)},F=e=>{const t=D?(0,d.getWeiHexFromDecimalValue)({value:e,fromCurrency:b,conversionRate:v,invertConversionRate:!0}):(0,d.getWeiHexFromDecimalValue)({value:e,fromCurrency:p.EtherDenomination.ETH,fromDenomination:p.EtherDenomination.ETH,conversionRate:v});j(t),n(t),P(!M)};(0,a.useEffect)((()=>{j(e)}),[e]),(0,a.useEffect)((()=>{t&&F(A)}),[t,A]);return a.default.createElement(i.default,{hexValue:e,preferredCurrency:y,secondaryCurrency:b,hideSecondary:E,featureSecondary:t,conversionRate:v,onChange:n,onPreferenceToggle:o,dataTestId:"currency-input",suffix:D&&w?O:C,onChange:F,value:A,className:g,actionComponent:m?m(R):w?a.default.createElement("button",{className:"currency-input__swap-component","data-testid":"currency-swap",onClick:R},a.default.createElement("i",{className:"fa fa-retweet fa-lg"})):null},(()=>{let e,t;return E?a.default.createElement("div",{className:"currency-input__conversion-component"},h("noConversionRateAvailable")):w?(D?(e=y||p.EtherDenomination.ETH,t=8):(e=w?b:null,t=2),a.default.createElement(s.default,{className:"currency-input__conversion-component",currency:e,value:S,numberOfDecimals:t})):null})())}h.propTypes={hexValue:o.default.string,featureSecondary:o.default.bool,onChange:o.default.func,onPreferenceToggle:o.default.func,swapIcon:o.default.func,className:o.default.string}}}},{package:"$root$",file:"ui/components/app/currency-input/currency-input.js"}],[4202,{"./currency-input":4201},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./currency-input"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/currency-input/index.js"}],[4203,{"../../../../.storybook/i18n":1,"../../../helpers/constants/design-system":4892,"../../component-library":4562,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("../../../../.storybook/i18n"),s=e("../../component-library"),l=e("../../../helpers/constants/design-system");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u({nextNonce:e,customNonceValue:t,showCustomizeNonceModal:n}){const a=(0,o.useContext)(i.I18nContext);return o.default.createElement(s.Box,{display:l.Display.Flex,marginBottom:4,paddingTop:3,paddingRight:3,paddingBottom:4,paddingLeft:3,borderRadius:l.BorderRadius.MD,alignItems:l.AlignItems.center,className:"custom-nonce__content"},o.default.createElement(s.Box,{className:"custom-nonce__header",display:l.Display.InlineFlex,justifyContent:l.JustifyContent.flexStart,alignItems:l.AlignItems.center},o.default.createElement(s.Text,{variant:l.TextVariant.bodySm,as:"h6"},a("nonce")),o.default.createElement(s.ButtonLink,{key:"editCustomNonce",size:l.Size.auto,marginLeft:3,onClick:()=>n()},a("edit"))),o.default.createElement(s.Text,{className:"custom-nonce__value",variant:l.TextVariant.bodySmBold,as:"h6"},t||e))}u.propTypes={nextNonce:r.default.number,customNonceValue:r.default.string,showCustomizeNonceModal:r.default.func}}}},{package:"$root$",file:"ui/components/app/custom-nonce/custom-nonce.js"}],[4204,{"./custom-nonce":4203},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./custom-nonce"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/custom-nonce/index.js"}],[4205,{"../../../helpers/constants/design-system":4892,"../../component-library":4562,"../../ui/tooltip":4856,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CustomSpendingCapTooltip=void 0;var a=l(e("react")),o=l(e("prop-types")),r=l(e("../../ui/tooltip")),i=e("../../../helpers/constants/design-system"),s=e("../../component-library");function l(e){return e&&e.__esModule?e:{default:e}}const c=({tooltipContentText:e,tooltipIcon:t})=>a.default.createElement(s.Box,{display:i.Display.InlineFlex,alignItems:i.AlignItems.center},a.default.createElement(r.default,{interactive:!0,position:"top",html:a.default.createElement(s.Text,{variant:i.TextVariant.bodySm,color:i.TextColor.textAlternative},e)},t?a.default.createElement(s.Icon,{name:s.IconName.Danger,size:s.IconSize.Inherit,color:i.IconColor.errorDefault}):""!==t&&a.default.createElement(s.Icon,{name:s.IconName.Question,size:s.IconSize.Inherit,color:i.IconColor.iconAlternative})));n.CustomSpendingCapTooltip=c,c.propTypes={tooltipContentText:o.default.oneOfType([o.default.string,o.default.node]),tooltipIcon:o.default.oneOfType([o.default.string,o.default.bool])}}}},{package:"$root$",file:"ui/components/app/custom-spending-cap/custom-spending-cap-tooltip.js"}],[4206,{"../../../../shared/constants/tokens":4075,"../../../../shared/lib/transactions-controller-utils":4084,"../../../../shared/modules/Numeric":4086,"../../../../shared/modules/conversion.utils":4090,"../../../contexts/gasFee":4867,"../../../contexts/i18n":4868,"../../../ducks/app/app":4875,"../../../helpers/constants/design-system":4892,"../../../helpers/constants/zendesk-url":4903,"../../../pages/confirm-approve/confirm-approve.util":5005,"../../../store/actions":5313,"../../component-library":4562,"./custom-spending-cap-tooltip":4205,"bignumber.js":2353,"ethereumjs-util":2816,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=x;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=T(e("prop-types")),i=T(e("bignumber.js")),s=e("ethereumjs-util"),l=e("../../../contexts/i18n"),c=e("../../../helpers/constants/design-system"),u=e("../../component-library"),d=e("../../../ducks/app/app"),p=e("../../../../shared/lib/transactions-controller-utils"),f=e("../../../../shared/modules/conversion.utils"),m=e("../../../../shared/constants/tokens"),g=e("../../../../shared/modules/Numeric"),h=e("../../../store/actions"),y=e("../../../pages/confirm-approve/confirm-approve.util"),b=e("../../../contexts/gasFee"),v=T(e("../../../helpers/constants/zendesk-url")),_=e("./custom-spending-cap-tooltip");function T(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function x({txParams:e,tokenName:t,currentTokenBalance:n,dappProposedValue:r,siteOrigin:T,passTheErrorText:k,decimals:x,setInputChangeInProgress:w,customSpendingCap:E,setCustomSpendingCap:C}){const O=(0,a.useContext)(l.I18nContext),M=(0,o.useDispatch)(),{updateTransaction:P}=(0,b.useGasFeeContext)(),S=(0,a.useRef)(null),[j,N]=(0,a.useState)(""),[I,D]=(0,a.useState)(E!==String(r)&&!0),A=O("inputLogicEmptyState"),R=e=>e.replace(/,/gu,"."),F=(e,t)=>new g.Numeric(Number(R(e)),10).greaterThan(Number(t),10),L=e=>new g.Numeric(Number(R(e)),10).lessThanOrEqualTo(new g.Numeric(Number(n),10))?{className:"custom-spending-cap__lowerValue",description:O("inputLogicEqualOrSmallerNumber",[a.default.createElement(u.Text,{key:"custom-spending-cap",variant:c.TextVariant.bodySmBold,as:"span"},R(e)," ",t)])}:F(e,n)?{className:"custom-spending-cap__higherValue",description:O("inputLogicHigherNumber")}:{className:"custom-spending-cap__emptyState",description:O("inputLogicEmptyState")},[$,W]=(0,a.useState)(L(E).description),B=async t=>{var n;if(!e)return;w(!0);let a="";const o=L(t).description,r=m.DECIMAL_REGEX.exec(R(t));if((null==r||null===(n=r[1])||void 0===n?void 0:n.length)>x)return void w(!1);t&&!m.NUM_W_OPT_DECIMAL_COMMA_OR_DOT_REGEX.test(t)?(a=O("spendingCapError"),W(O("spendingCapErrorDescription",[T])),N(a)):(W(o),N(""));const l=(0,p.calcTokenAmount)(m.MAX_TOKEN_ALLOWANCE_AMOUNT,x);if(Number(t.length)>1&&Number(t)){new i.default(t).greaterThan(l)&&(a=O("spendLimitTooLarge"),N(a))}if(C(String(t)),M((0,d.setCustomTokenAmount)(String(t))),""!==String(t))try{const n=(0,y.getCustomTxParamsData)(e.data,{customPermissionAmount:t,decimals:x}),{from:a,to:o,value:r}=e,i=await(0,h.estimateGas)({from:a,to:o,value:r,data:n});i&&await P({gasLimit:(0,f.hexToDecimal)((0,s.addHexPrefix)(i))})}catch(e){console.error("Error in trying to update gas limit",e)}w(!1)};(0,a.useEffect)((()=>{E===String(r)?D(!1):D(!0)}),[E,r]),(0,a.useEffect)((()=>{k(j)}),[j,k]),(0,a.useEffect)((()=>{S.current&&S.current.focus({preventScroll:!0})}),[S.current]);const G=F(E,n)?O("warningTooltipText",[a.default.createElement(u.Text,{key:"tooltip-text",variant:c.TextVariant.bodySmBold,as:"span",color:c.TextColor.errorDefault},a.default.createElement(u.Icon,{name:u.IconName.Danger,size:u.IconSize.Inherit})," ",O("beCareful"))]):O("inputLogicEmptyState");return a.default.createElement(a.default.Fragment,null,a.default.createElement(u.Box,{className:"custom-spending-cap",display:c.Display.Flex,alignItems:c.AlignItems.flexStart,flexDirection:c.FlexDirection.Column,gap:2,padding:4,backgroundColor:c.BackgroundColor.backgroundAlternative,borderRadius:c.Size.SM},a.default.createElement(u.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,gap:1,width:c.BlockSize.Full},a.default.createElement("div",null,a.default.createElement(u.Label,{htmlFor:"custom-spending-cap",display:c.Display.Inline,marginRight:1},O("customSpendingCap")),a.default.createElement(_.CustomSpendingCapTooltip,{tooltipContentText:R(E)?G:"",tooltipIcon:R(E)?F(E,n):""})),I&&a.default.createElement(u.ButtonLink,{marginLeft:"auto",size:c.Size.auto,onClick:e=>{e.preventDefault(),D(!1),B(r)}},O("useSiteSuggestion"))),a.default.createElement(u.TextField,{inputRef:S,inputProps:{"data-testid":"custom-spending-cap-input",color:F(E,n)?c.TextColor.errorDefault:c.TextColor.textDefault,paddingInlineEnd:4},id:"custom-spending-cap",onChange:e=>B(e.target.value),placeholder:O("enterANumber"),value:E,endAccessory:a.default.createElement(u.ButtonLink,{onClick:e=>{e.preventDefault(),B(n)},"data-testid":"custom-spending-cap-max-button"},O("max")),width:c.BlockSize.Full}),a.default.createElement(u.HelpText,{color:j?c.TextColor.errorDefault:c.TextColor.textDefault,variant:c.TextVariant.bodySm},j||(R(E)?$:A)),a.default.createElement(u.ButtonLink,{size:c.Size.SM,href:v.default.TOKEN_ALLOWANCE_WITH_SPENDING_CAP,externalLink:!0},O("learnMoreUpperCase"))))}x.propTypes={txParams:r.default.object.isRequired,tokenName:r.default.string,currentTokenBalance:r.default.string,dappProposedValue:r.default.string,siteOrigin:r.default.string,passTheErrorText:r.default.func,decimals:r.default.string,setInputChangeInProgress:r.default.func.isRequired,customSpendingCap:r.default.string,setCustomSpendingCap:r.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/custom-spending-cap/custom-spending-cap.js"}],[4207,{"../../../../helpers/constants/design-system":4892,"../../../../helpers/utils/util":4934,"../../../../hooks/useCopyToClipboard":4952,"../../../../hooks/useI18nContext":4959,"../../../component-library":4562,"../../../ui/tooltip":4856,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),o=d(e("prop-types")),r=e("../../../../hooks/useI18nContext"),i=e("../../../../hooks/useCopyToClipboard"),s=d(e("../../../ui/tooltip")),l=e("../../../../helpers/constants/design-system"),c=e("../../../../helpers/utils/util"),u=e("../../../component-library");function d(e){return e&&e.__esModule?e:{default:e}}const p=({tokenAddress:e})=>{const t=(0,r.useI18nContext)(),[n,o]=(0,i.useCopyToClipboard)();return a.default.createElement(u.Box,{display:l.Display.InlineFlex,className:"detected-token-address"},a.default.createElement(u.Text,{color:l.TextColor.textDefault},`${t("tokenAddress")}:`),a.default.createElement(s.default,{position:"bottom",title:t(n?"copiedExclamation":"copyToClipboard")},a.default.createElement(u.ButtonLink,{className:"detected-token-address__copy-link",onClick:()=>{o(e)},endIconName:u.IconName.Copy,marginLeft:2,marginRight:2},(0,c.shortenAddress)(e))))};p.propTypes={tokenAddress:o.default.string};n.default=p}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-address/detected-token-address.js"}],[4208,{"../../../../helpers/constants/design-system":4892,"../../../../hooks/useI18nContext":4959,"../../../component-library":4562,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("../../../../hooks/useI18nContext"),s=e("../../../../helpers/constants/design-system"),l=e("../../../component-library");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const u=({aggregators:e})=>{const t=(0,i.useI18nContext)(),n=parseInt(e.length,10)-2,[a,r]=(0,o.useState)(!1);return o.default.createElement(l.Box,{display:s.Display.InlineFlex,className:"detected-token-aggregators"},o.default.createElement(l.Text,{variant:s.TextVariant.bodySm,as:"h6",fontWeight:s.FontWeight.Normal},t("fromTokenLists",[n>0&&!a?o.default.createElement(l.Text,{as:"h6",fontWeight:s.FontWeight.Normal,key:"detected-token-aggrgators-with-more"},`${e.slice(0,2).join(", ")}`,o.default.createElement(l.ButtonLink,{className:"detected-token-aggregators__link",onClick:()=>r(!0),key:"detected-token-aggrgators-link"},t("plusXMore",[n]))):o.default.createElement(l.Text,{as:"h6",fontWeight:s.FontWeight.Normal,key:"detected-token-aggrgators-without-more"},`${e.join(", ")}.`)])))};u.propTypes={aggregators:r.default.array.isRequired};n.default=u}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-aggregators/detected-token-aggregators.js"}],[4209,{"../../../../helpers/constants/design-system":4892,"../../../../selectors":5306,"../../../component-library":4562,"../../../ui/identicon":4784,"../detected-token-address/detected-token-address":4207,"../detected-token-aggregators/detected-token-aggregators":4208,"../detected-token-values/detected-token-values":4212,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),o=f(e("prop-types")),r=e("react-redux"),i=e("../../../component-library"),s=f(e("../../../ui/identicon")),l=f(e("../detected-token-values/detected-token-values")),c=f(e("../detected-token-address/detected-token-address")),u=f(e("../detected-token-aggregators/detected-token-aggregators")),d=e("../../../../helpers/constants/design-system"),p=e("../../../../selectors");function f(e){return e&&e.__esModule?e:{default:e}}const m=({token:e,handleTokenSelection:t,tokensListDetected:n})=>{var o;const f=(0,r.useSelector)(p.getTokenList)[null===(o=e.address)||void 0===o?void 0:o.toLowerCase()];return a.default.createElement(i.Box,{display:d.Display.Flex,className:"detected-token-details",marginBottom:4},a.default.createElement(s.default,{className:"detected-token-details__identicon",address:e.address,diameter:40}),a.default.createElement(i.Box,{display:d.Display.Grid,marginLeft:2,className:"detected-token-details__data"},a.default.createElement(l.default,{token:e,handleTokenSelection:t,tokensListDetected:n}),a.default.createElement(c.default,{tokenAddress:e.address}),(null==f?void 0:f.aggregators.length)>0&&a.default.createElement(u.default,{aggregators:null==f?void 0:f.aggregators})))};m.propTypes={token:o.default.shape({address:o.default.string.isRequired,decimals:o.default.number,symbol:o.default.string,iconUrl:o.default.string,aggregators:o.default.array}),handleTokenSelection:o.default.func.isRequired,tokensListDetected:o.default.object};n.default=m}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-details/detected-token-details.js"}],[4210,{"../../../../helpers/constants/design-system":4892,"../../../../hooks/useI18nContext":4959,"../../../component-library":4562,"../../../component-library/modal-content/deprecated":4570,"../../../component-library/modal-header/deprecated":4579,classnames:2468,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),o=d(e("prop-types")),r=d(e("classnames")),i=e("../../../../hooks/useI18nContext"),s=e("../../../../helpers/constants/design-system"),l=e("../../../component-library"),c=e("../../../component-library/modal-content/deprecated"),u=e("../../../component-library/modal-header/deprecated");function d(e){return e&&e.__esModule?e:{default:e}}const p=({partiallyIgnoreDetectedTokens:e,onCancelIgnore:t,handleClearTokensSelection:n,isOpen:o})=>{const d=(0,i.useI18nContext)();return a.default.createElement(l.Modal,{isOpen:o,className:(0,r.default)("detected-token-ignored-popover",{"detected-token-ignored-popover--import":e,"detected-token-ignored-popover--ignore":!e}),onClose:t,autoFocus:!1},a.default.createElement(l.ModalOverlay,null),a.default.createElement(c.ModalContent,null,a.default.createElement(u.ModalHeader,{marginBottom:4},d(e?"importSelectedTokens":"areYouSure")),a.default.createElement(l.Text,{marginBottom:4},d(e?"importSelectedTokensDescription":"ignoreTokenWarning")),a.default.createElement(l.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.center,gap:4},a.default.createElement(l.Button,{className:"detected-token-ignored-popover__ignore-button",block:!0,variant:l.BUTTON_VARIANT.SECONDARY,onClick:t,size:l.BUTTON_SIZES.LG},d("cancel")),a.default.createElement(l.Button,{className:"detected-token-ignored-popover__import-button",block:!0,variant:l.BUTTON_VARIANT.PRIMARY,onClick:n,size:l.BUTTON_SIZES.LG},d("confirm")))))};p.propTypes={partiallyIgnoreDetectedTokens:o.default.bool.isRequired,onCancelIgnore:o.default.func.isRequired,handleClearTokensSelection:o.default.func.isRequired,isOpen:o.default.bool.isRequired};n.default=p}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-ignored-popover/detected-token-ignored-popover.js"}],[4211,{"../../../../../shared/constants/metametrics":4063,"../../../../contexts/metametrics":4869,"../../../../hooks/useI18nContext":4959,"../../../../selectors":5306,"../../../ui/box":4729,"../../../ui/button":4733,"../../../ui/popover":4819,"../detected-token-details/detected-token-details":4209,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=m(e("prop-types")),r=e("react-redux"),i=e("../../../../hooks/useI18nContext"),s=e("../../../../contexts/metametrics"),l=e("../../../../../shared/constants/metametrics"),c=e("../../../../selectors"),u=m(e("../../../ui/popover")),d=m(e("../../../ui/box")),p=m(e("../../../ui/button")),f=m(e("../detected-token-details/detected-token-details"));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const h=({tokensListDetected:e,handleTokenSelection:t,onImport:n,onIgnoreAll:o,setShowDetectedTokens:m,sortingBasedOnTokenSelection:g})=>{const h=(0,i.useI18nContext)(),y=(0,a.useContext)(s.MetaMetricsContext),b=(0,r.useSelector)(c.getCurrentChainId),v=(0,r.useSelector)(c.getDetectedTokensInCurrentNetwork),{selected:_=[]}=g(e),T=a.default.createElement(a.default.Fragment,null,a.default.createElement(p.default,{className:"detected-token-selection-popover__ignore-button",type:"secondary",onClick:()=>o()},h("ignoreAll")),a.default.createElement(p.default,{className:"detected-token-selection-popover__import-button",type:"primary",onClick:n,disabled:0===_.length},h("importWithCount",[`(${_.length})`])));return a.default.createElement(u.default,{className:"detected-token-selection-popover",title:1===v.length?h("tokenFoundTitle"):h("tokensFoundTitle",[v.length]),onClose:()=>{m(!1);const e=v.map((({address:e,symbol:t})=>`${t} - ${e}`));y({event:l.MetaMetricsEventName.TokenImportCanceled,category:l.MetaMetricsEventCategory.Wallet,properties:{source_connection_method:l.MetaMetricsTokenEventSource.Detected,chain_id:b,tokens:e}})},footer:T},a.default.createElement(d.default,{margin:3},v.map(((n,o)=>a.default.createElement(f.default,{key:o,token:n,handleTokenSelection:t,tokensListDetected:e})))))};h.propTypes={tokensListDetected:o.default.object,handleTokenSelection:o.default.func.isRequired,onIgnoreAll:o.default.func.isRequired,onImport:o.default.func.isRequired,setShowDetectedTokens:o.default.func.isRequired,sortingBasedOnTokenSelection:o.default.func.isRequired};n.default=h}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-selection-popover/detected-token-selection-popover.js"}],[4212,{"../../../../helpers/constants/design-system":4892,"../../../../hooks/useTokenFiatAmount":4981,"../../../../hooks/useTokenTracker":4982,"../../../../selectors":5306,"../../../component-library":4562,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("react-redux"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../hooks/useTokenTracker"),c=e("../../../../hooks/useTokenFiatAmount"),u=e("../../../../selectors"),d=e("../../../component-library");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({token:e,handleTokenSelection:t,tokensListDetected:n})=>{var a;const[r,p]=(0,o.useState)((()=>{var t;return null===(t=n[e.address])||void 0===t?void 0:t.selected})),{tokensWithBalances:f}=(0,l.useTokenTracker)({tokens:[e]}),m=null===(a=f[0])||void 0===a?void 0:a.string,g=(0,c.useTokenFiatAmount)(e.address,m,e.symbol),h=(0,i.useSelector)(u.getUseCurrencyRateCheck);(0,o.useEffect)((()=>{var t;p(null===(t=n[e.address])||void 0===t?void 0:t.selected)}),[n,e.address,r,p]);return o.default.createElement(d.Box,{display:s.Display.InlineFlex,className:"detected-token-values"},o.default.createElement(d.Box,{marginBottom:1},o.default.createElement(d.Text,{variant:s.TextVariant.bodyLgMedium,as:"h4"},`${m||"0"} ${e.symbol}`),o.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative},h?g||"$0":g)),o.default.createElement(d.Box,{className:"detected-token-values__checkbox"},o.default.createElement(d.Checkbox,{isChecked:r,onClick:()=>{p(!r),t(e)}})))};f.propTypes={token:r.default.shape({address:r.default.string.isRequired,decimals:r.default.number,symbol:r.default.string,iconUrl:r.default.string,aggregators:r.default.array}),handleTokenSelection:r.default.func.isRequired,tokensListDetected:r.default.object};n.default=f}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token-values/detected-token-values.js"}],[4213,{"../../../../shared/constants/metametrics":4063,"../../../../shared/constants/transaction":4076,"../../../contexts/metametrics":4869,"../../../selectors":5306,"../../../store/actions":5313,"./detected-token-ignored-popover/detected-token-ignored-popover":4210,"./detected-token-selection-popover/detected-token-selection-popover":4211,lodash:3437,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=m(e("prop-types")),r=e("react-redux"),i=e("lodash"),s=e("../../../store/actions"),l=e("../../../selectors"),c=e("../../../contexts/metametrics"),u=e("../../../../shared/constants/transaction"),d=e("../../../../shared/constants/metametrics"),p=m(e("./detected-token-selection-popover/detected-token-selection-popover")),f=m(e("./detected-token-ignored-popover/detected-token-ignored-popover"));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const h=e=>(0,i.chain)(e).values().groupBy((e=>e.selected?"selected":"deselected")).mapValues((e=>e.map((({token:e})=>{const{address:t,symbol:n,decimals:a,aggregators:o}=e;return{address:t,symbol:n,decimals:a,aggregators:o}})))).value(),y=({setShowDetectedTokens:e})=>{const t=(0,r.useDispatch)(),n=(0,a.useContext)(c.MetaMetricsContext),o=(0,r.useSelector)(l.getCurrentChainId),i=(0,r.useSelector)(l.getDetectedTokensInCurrentNetwork),m=(0,r.useSelector)(l.getSelectedNetworkClientId),[g,y]=(0,a.useState)((()=>i.reduce(((e,t)=>(e[t.address]={token:t,selected:!0},e)),{}))),[b,v]=(0,a.useState)(!1),[_,T]=(0,a.useState)(!1),k=async e=>{e.forEach((e=>{n({event:d.MetaMetricsEventName.TokenAdded,category:d.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,source:d.MetaMetricsTokenEventSource.Detected,token_standard:u.TokenStandard.ERC20,asset_type:u.AssetType.token,token_added_type:"detected",chain_id:o}})})),await t((0,s.addImportedTokens)(e,m));const a=e.map((({symbol:e})=>e));t((0,s.setNewTokensImported)(a.join(", ")))};return a.default.createElement(a.default.Fragment,null,b&&a.default.createElement(f.default,{isOpen:!0,onCancelIgnore:()=>{v(!1),T(!1)},handleClearTokensSelection:async()=>{const{selected:a=[],deselected:o=[]}=h(g);o.length<i.length&&await k(a);const r=o.map((({symbol:e,address:t})=>`${e} - ${t}`));n({event:d.MetaMetricsEventName.TokenHidden,category:d.MetaMetricsEventCategory.Wallet,sensitiveProperties:{tokens:r,location:d.MetaMetricsEventLocation.TokenDetection,token_standard:u.TokenStandard.ERC20,asset_type:u.AssetType.token}});const l=o.map((({address:e})=>e));await t((0,s.ignoreTokens)({tokensToIgnore:l,dontShowLoadingIndicator:!0})),e(!1),T(!1)},partiallyIgnoreDetectedTokens:_}),i.length>0&&a.default.createElement(p.default,{detectedTokens:i,tokensListDetected:g,handleTokenSelection:e=>{y((t=>({...t,[e.address]:{...t[e.address],selected:!t[e.address].selected}})))},onImport:async()=>{const{selected:t=[]}=h(g);t.length<i.length?(v(!0),T(!0)):(await k(t),e(!1))},onIgnoreAll:()=>{const e={...g};for(const t of Object.keys(g))e[t].selected=!1;y(e),v(!0)},setShowDetectedTokens:e,sortingBasedOnTokenSelection:h}))};y.propTypes={setShowDetectedTokens:o.default.func.isRequired};n.default=y}}},{package:"$root$",file:"ui/components/app/detected-token/detected-token.js"}],[4214,{"../../../../shared/constants/gas":4058,"../../../contexts/i18n":4868,"../../../helpers/constants/design-system":4892,"../../../helpers/utils/confirm-tx.util":4916,"../../component-library":4562,"../../ui/button":4733,"../../ui/info-tooltip":4785,"../advanced-gas-controls/advanced-gas-controls.component":4112,"bignumber.js":2353,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=m(e("prop-types")),r=m(e("bignumber.js")),i=e("../../../../shared/constants/gas"),s=m(e("../../ui/button")),l=e("../../../helpers/constants/design-system"),c=e("../../component-library"),u=e("../../../helpers/utils/confirm-tx.util"),d=m(e("../../ui/info-tooltip")),p=m(e("../advanced-gas-controls/advanced-gas-controls.component")),f=e("../../../contexts/i18n");function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h({mode:e=i.EditGasModes.modifyInPlace,estimatedMinimumNative:t,transaction:n,gasPrice:o,setGasPrice:m,gasLimit:g,setGasLimit:h,properGasLimit:y,dappSuggestedGasFeeAcknowledged:b,setDappSuggestedGasFeeAcknowledged:v,onManualChange:_,minimumGasLimit:T,balanceError:k,gasErrors:x,txParamsHaveBeenCustomized:w}){const E=(0,a.useContext)(f.I18nContext),C=(0,a.useRef)(null),O=(0,u.areDappSuggestedAndTxParamGasFeesTheSame)(n),M=Boolean((null==n?void 0:n.dappSuggestedGasFees)&&!b&&O);let P;g!==undefined&&y!==undefined&&new r.default(g).lessThan(new r.default(y))&&(P=E("gasLimitRecommended",[y]));const S=k&&w;return a.default.createElement("div",{className:"edit-gas-display"},a.default.createElement("div",{className:"edit-gas-display__content"},S&&a.default.createElement(c.BannerAlert,{severity:l.Severity.Danger,description:E("insufficientFunds"),marginBottom:6}),P&&a.default.createElement(c.BannerAlert,{severity:l.Severity.Warning,description:P,marginBottom:6}),M&&a.default.createElement(c.BannerAlert,{severity:l.Severity.Warning,className:"banner-alert--warning",description:E("gasDisplayDappWarning",[n.origin]),marginBottom:6}),e===i.EditGasModes.speedUp&&a.default.createElement("div",{className:"edit-gas-display__top-tooltip"},a.default.createElement(c.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.bodySm,as:"h6",fontWeight:l.FontWeight.Bold},E("speedUpTooltipText")," ",a.default.createElement(d.default,{position:"top",contentText:E("speedUpExplanation")}))),a.default.createElement(c.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.headingLg,as:"h1",textAlign:l.TextAlign.Center},t),M&&a.default.createElement(s.default,{className:"edit-gas-display__dapp-acknowledgement-button",onClick:()=>v(!0)},E("gasDisplayAcknowledgeDappButtonText")),!M&&a.default.createElement(p.default,{gasLimit:g,setGasLimit:h,gasPrice:o,setGasPrice:m,onManualChange:_,minimumGasLimit:T,gasErrors:x})),a.default.createElement("div",{ref:C,className:"edit-gas-display__scroll-bottom"}))}h.propTypes={mode:o.default.oneOf(Object.values(i.EditGasModes)),estimatedMinimumNative:o.default.string,gasPrice:o.default.string,setGasPrice:o.default.func,gasLimit:o.default.number,setGasLimit:o.default.func,properGasLimit:o.default.number,dappSuggestedGasFeeAcknowledged:o.default.bool,setDappSuggestedGasFeeAcknowledged:o.default.func,transaction:o.default.object,onManualChange:o.default.func,minimumGasLimit:o.default.string,balanceError:o.default.bool,gasErrors:o.default.object,txParamsHaveBeenCustomized:o.default.bool}}}},{package:"$root$",file:"ui/components/app/edit-gas-display/edit-gas-display.component.js"}],[4215,{"./edit-gas-display.component":4214},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./edit-gas-display.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-display/index.js"}],[4216,{"../../../../shared/constants/gas":4058,"../../../contexts/gasFee":4867,"../../../contexts/transaction-modal":4870,"../../../helpers/constants/design-system":4892,"../../../helpers/constants/gas":4894,"../../../hooks/useI18nContext":4959,"../../../hooks/useTransactionEventFragment":4985,"../../component-library":4562,"../../ui/info-tooltip/info-tooltip":4787,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var a=m(e("react")),o=m(e("prop-types")),r=e("../../../../shared/constants/gas"),i=e("../../../helpers/constants/design-system"),s=e("../../../helpers/constants/gas"),l=e("../../../contexts/gasFee"),c=e("../../../hooks/useI18nContext"),u=e("../../../hooks/useTransactionEventFragment"),d=e("../../../contexts/transaction-modal"),p=m(e("../../ui/info-tooltip/info-tooltip")),f=e("../../component-library");function m(e){return e&&e.__esModule?e:{default:e}}function g({userAcknowledgedGasMissing:e}){const t=(0,c.useI18nContext)(),{editGasMode:n,gasLimit:o,hasSimulationError:m,estimateUsed:g,maxFeePerGas:h,maxPriorityFeePerGas:y,supportsEIP1559:b,transaction:v}=(0,l.useGasFeeContext)(),{updateTransactionEventFragment:_}=(0,u.useTransactionEventFragment)(),{openModal:T}=(0,d.useTransactionModalContext)();if(!b||!g||!(!m||!0===e))return null;let k=g,x=g;g===r.PriorityLevels.high&&n===r.EditGasModes.swaps?(k="swapSuggested",x="swapSuggested"):g===r.PriorityLevels.tenPercentIncreased&&(k=undefined,x="tenPercentIncreased");return a.default.createElement("div",{className:"edit-gas-fee-button"},a.default.createElement("button",{onClick:()=>{_({gas_edit_attempted:"basic"}),T("editGasFee")},"data-testid":"edit-gas-fee-button"},k&&a.default.createElement("span",{className:"edit-gas-fee-button__icon"},s.PRIORITY_LEVEL_ICON_MAP[k]),a.default.createElement("span",{className:"edit-gas-fee-button__label"},t(x)),a.default.createElement(f.Icon,{name:f.IconName.ArrowRight,color:i.Color.primaryDefault,size:f.IconSize.Xs})),"custom"===g&&a.default.createElement("button",{onClick:()=>{_({gas_edit_attempted:"advanced"}),T("advancedGasFee")}},t("edit")),"dappSuggested"===g&&a.default.createElement(p.default,{contentText:a.default.createElement("div",{className:"edit-gas-fee-button__tooltip"},(null==v?void 0:v.origin)&&a.default.createElement(f.Text,{variant:i.TextVariant.bodySm,as:"h6",color:i.TextColor.textAlternative},t("dappSuggestedTooltip",[v.origin])),a.default.createElement(f.Text,{variant:i.TextVariant.bodySm,as:"h6"},a.default.createElement("b",null,t("maxBaseFee"))," ",h),a.default.createElement(f.Text,{variant:i.TextVariant.bodySm,as:"h6"},a.default.createElement("b",null,t("maxPriorityFee"))," ",y),a.default.createElement(f.Text,{variant:i.TextVariant.bodySm,as:"h6"},a.default.createElement("b",null,t("gasLimit"))," ",o)),position:"top"}))}g.propTypes={userAcknowledgedGasMissing:o.default.bool}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-button/edit-gas-fee-button.js"}],[4217,{"./edit-gas-fee-button":4216},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./edit-gas-fee-button"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-button/index.js"}],[4218,{"../../../contexts/gasFee":4867,"../../../contexts/transaction-modal":4870,"../../../helpers/constants/design-system":4892,"../../../hooks/useTransactionEventFragment":4985,"../../component-library":4562,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=u(e("react")),o=u(e("prop-types")),r=e("../../../contexts/gasFee"),i=e("../../../hooks/useTransactionEventFragment"),s=e("../../../contexts/transaction-modal"),l=e("../../component-library"),c=e("../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d({userAcknowledgedGasMissing:e=!1}){const{hasSimulationError:t,estimateUsed:n,supportsEIP1559:o}=(0,r.useGasFeeContext)(),{updateTransactionEventFragment:u}=(0,i.useTransactionEventFragment)(),{openModal:d}=(0,s.useTransactionModalContext)();if(!o||!n||!(!t||e))return null;return a.default.createElement(l.Button,{style:{textDecoration:"none"},size:c.Size.SM,variant:l.BUTTON_VARIANT.LINK,startIconName:l.IconName.Edit,color:c.IconColor.primaryDefault,"data-testid":"edit-gas-fee-icon",onClick:()=>{u({gas_edit_attempted:"basic"}),d("editGasFee")}})}d.propTypes={userAcknowledgedGasMissing:o.default.bool}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-icon/edit-gas-fee-icon.js"}],[4219,{"../../../../shared/constants/gas":4058,"../../../contexts/gasFee":4867,"../../../contexts/transaction-modal":4870,"../../../helpers/constants/design-system":4892,"../../../helpers/constants/error-keys":4893,"../../../helpers/constants/zendesk-url":4903,"../../../hooks/useI18nContext":4959,"../../component-library":4562,"../../ui/box":4729,"../../ui/error-message":4759,"../../ui/popover":4819,"../app-loading-spinner":4141,"./edit-gas-item":4221,"./network-statistics":4226,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=b(e("react")),o=e("../../../../shared/constants/gas"),r=e("../../../hooks/useI18nContext"),i=e("../../../contexts/transaction-modal"),s=b(e("../../ui/box")),l=b(e("../../ui/error-message")),c=b(e("../../ui/popover")),u=e("../../../helpers/constants/design-system"),d=e("../../../helpers/constants/error-keys"),p=e("../../../contexts/gasFee"),f=b(e("../app-loading-spinner")),m=b(e("../../../helpers/constants/zendesk-url")),g=e("../../component-library"),h=b(e("./edit-gas-item")),y=b(e("./network-statistics"));function b(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const{balanceError:e,editGasMode:t}=(0,p.useGasFeeContext)(),n=(0,r.useI18nContext)(),{closeAllModals:b,closeModal:v,currentModal:_,openModalCount:T}=(0,i.useTransactionModalContext)();if("editGasFee"!==_)return null;let k="editGasFeeModalTitle";return t===o.EditGasModes.cancel?k="editCancellationGasFeeModalTitle":t===o.EditGasModes.speedUp&&(k="editSpeedUpEditGasFeeModalTitle"),a.default.createElement(c.default,{title:n(k),onBack:1===T?undefined:()=>v(["editGasFee"]),onClose:b,className:"edit-gas-fee-popover"},a.default.createElement(a.default.Fragment,null,a.default.createElement(f.default,null),a.default.createElement("div",{className:"edit-gas-fee-popover__wrapper"},a.default.createElement("div",{className:"edit-gas-fee-popover__content"},a.default.createElement(s.default,null,e&&a.default.createElement(l.default,{errorKey:d.INSUFFICIENT_FUNDS_ERROR_KEY}),a.default.createElement("div",{className:"edit-gas-fee-popover__content__header"},a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-option"},n("gasOption")),a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-time"},t!==o.EditGasModes.swaps&&n("time")),a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-max-fee"},n("maxFee"))),(t===o.EditGasModes.cancel||t===o.EditGasModes.speedUp)&&a.default.createElement(h.default,{priorityLevel:o.PriorityLevels.tenPercentIncreased}),t===o.EditGasModes.modifyInPlace&&a.default.createElement(h.default,{priorityLevel:o.PriorityLevels.low}),a.default.createElement(h.default,{priorityLevel:o.PriorityLevels.medium}),a.default.createElement(h.default,{priorityLevel:o.PriorityLevels.high}),a.default.createElement("div",{className:"edit-gas-fee-popover__content__separator"}),t===o.EditGasModes.modifyInPlace&&a.default.createElement(h.default,{priorityLevel:o.PriorityLevels.dAppSuggested}),a.default.createElement(h.default,{priorityLevel:o.PriorityLevels.custom})),a.default.createElement(s.default,null,a.default.createElement(y.default,null),a.default.createElement(g.Text,{className:"edit-gas-fee-popover__know-more",align:"center",color:u.TextColor.textAlternative,tag:u.TextVariant.bodyMd,variant:u.TextVariant.bodySm,as:"h6"},n("learnMoreAboutGas",[a.default.createElement("a",{key:"learnMoreLink",target:"_blank",rel:"noopener noreferrer",href:m.default.USER_GUIDE_GAS},n("learnMore"))])))))))}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-fee-popover.js"}],[4220,{"../../../../../shared/constants/gas":4058,"../../../../contexts/gasFee":4867,"../../../../contexts/transaction-modal":4870,"../../../../helpers/constants/common":4890,"../../../../helpers/constants/gas":4894,"../../../../helpers/utils/util":4934,"../../../../hooks/useI18nContext":4959,"../../../../hooks/useTransactionEventFragment":4985,"../../../ui/info-tooltip":4785,"../../../ui/loading-heartbeat":4790,"../../user-preferenced-currency-display":4481,"../edit-gas-tooltip/edit-gas-tooltip":4224,"./useGasItemFeeDetails":4223,classnames:2468,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=v(e("classnames")),o=v(e("prop-types")),r=v(e("react")),i=e("../../../../../shared/constants/gas"),s=e("../../../../helpers/constants/gas"),l=e("../../../../helpers/constants/common"),c=e("../../../../helpers/utils/util"),u=e("../../../../contexts/gasFee"),d=e("../../../../hooks/useI18nContext"),p=e("../../../../hooks/useTransactionEventFragment"),f=e("../../../../contexts/transaction-modal"),m=v(e("../../../ui/info-tooltip")),g=v(e("../../../ui/loading-heartbeat")),h=v(e("../../user-preferenced-currency-display")),y=v(e("../edit-gas-tooltip/edit-gas-tooltip")),b=e("./useGasItemFeeDetails");function v(e){return e&&e.__esModule?e:{default:e}}const _=({priorityLevel:e})=>{const{editGasMode:t,estimateUsed:n,gasLimit:o,updateTransactionToTenPercentIncreasedGasFee:v,updateTransactionUsingDAPPSuggestedValues:_,updateTransactionUsingEstimate:T,transaction:k}=(0,u.useGasFeeContext)(),{updateTransactionEventFragment:x}=(0,p.useTransactionEventFragment)(),w=(0,d.useI18nContext)(),{closeModal:E,openModal:C}=(0,f.useTransactionModalContext)(),{dappSuggestedGasFees:O}=k,{estimateGreaterThanGasUse:M,hexMaximumTransactionFee:P,maxFeePerGas:S,maxPriorityFeePerGas:j,minWaitTime:N}=(0,b.useGasItemFeeDetails)(e);if(!(e!==i.PriorityLevels.dAppSuggested||null!=O&&O.maxFeePerGas||null!=O&&O.gasPrice))return null;const{title:I,icon:D}=((e,t)=>{let n=e,a=e;return e===i.PriorityLevels.dAppSuggested?a="dappSuggestedShortLabel":e===i.PriorityLevels.dappSuggestedHigh?a="dappSuggestedHighShortLabel":e===i.PriorityLevels.tenPercentIncreased?(n=null,a="tenPercentIncreased"):e===i.PriorityLevels.high&&t===i.EditGasModes.swaps&&(n="swapSuggested",a="swapSuggested"),{title:a,icon:n}})(e,t);return r.default.createElement("button",{className:(0,a.default)("edit-gas-item",{"edit-gas-item--selected":e===n,"edit-gas-item--disabled":M}),onClick:()=>{e===i.PriorityLevels.custom?(x({properties:{gas_edit_attempted:"advanced"}}),C("advancedGasFee")):(x({properties:{gas_edit_type:"basic"}}),E(["editGasFee"]),e===i.PriorityLevels.tenPercentIncreased?v():e===i.PriorityLevels.dAppSuggested?_():T(e))},"aria-label":e,autoFocus:e===n,disabled:M,"data-testid":`edit-gas-fee-item-${e}`},r.default.createElement("span",{className:"edit-gas-item__name"},D&&r.default.createElement("span",{className:`edit-gas-item__icon edit-gas-item__icon-${e}`},s.PRIORITY_LEVEL_ICON_MAP[D]),w(I)),r.default.createElement("span",{className:`edit-gas-item__time-estimate edit-gas-item__time-estimate-${e}`},t!==i.EditGasModes.swaps&&(N?(0,c.toHumanReadableTime)(w,N):"--")),r.default.createElement("span",{className:`edit-gas-item__fee-estimate edit-gas-item__fee-estimate-${e}`},P?r.default.createElement("div",{className:"edit-gas-item__maxfee"},r.default.createElement(g.default,{backgroundColor:e===n?"var(--color-background-alternative)":"var(--color-background-default)",estimateUsed:e}),r.default.createElement(h.default,{key:"editGasSubTextFeeAmount",type:l.PRIMARY,value:P})):"--"),r.default.createElement("span",{className:"edit-gas-item__tooltip","data-testid":"gas-tooltip"},r.default.createElement(m.default,{contentText:r.default.createElement(y.default,{t:w,priorityLevel:e,maxFeePerGas:S,maxPriorityFeePerGas:j,editGasMode:t,gasLimit:o,transaction:k,estimateGreaterThanGasUse:M}),position:"top"})))};_.propTypes={priorityLevel:o.default.string};n.default=_}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-item/edit-gas-item.js"}],[4221,{"./edit-gas-item":4220},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./edit-gas-item"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-item/index.js"}],[4222,{"../../../../../shared/constants/gas":4058,"../../../../ducks/metamask/metamask":4884,"../../../../store/actions":5313,"bignumber.js":2353,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCustomTimeEstimate=void 0;var a,o=e("react"),r=e("react-redux"),i=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},s=e("../../../../../shared/constants/gas"),l=e("../../../../ducks/metamask/metamask"),c=e("../../../../store/actions");n.useCustomTimeEstimate=({gasFeeEstimates:e,maxFeePerGas:t,maxPriorityFeePerGas:n})=>{const a=(0,r.useSelector)(l.getGasEstimateType),u=(0,r.useSelector)(l.getIsGasEstimatesLoading),[d,p]=(0,o.useState)(null),f=u||a!==s.GasEstimateTypes.feeMarket||!n,m=(null==e?void 0:e.low)&&Number(n)<Number(e.low.suggestedMaxPriorityFeePerGas);if((0,o.useEffect)((()=>{!u&&a===s.GasEstimateTypes.feeMarket&&n&&m&&(0,c.getGasFeeTimeEstimate)(new i.default(n,10).toString(10),new i.default(t,10).toString(10)).then((e=>{p(e)}))}),[a,m,u,t,n,f]),f)return{};const{low:g={},medium:h={},high:y={}}=e;let b="";return b=m&&d&&"unknown"!==d&&"unknown"!==(null==d?void 0:d.upperTimeBound)?Number(null==d?void 0:d.upperTimeBound):Number(n)>=Number(h.suggestedMaxPriorityFeePerGas)?y.minWaitTimeEstimate:g.maxWaitTimeEstimate,{waitTimeEstimate:b}}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-item/useCustomTimeEstimate.js"}],[4223,{"../../../../../shared/constants/gas":4058,"../../../../../shared/modules/conversion.utils":4090,"../../../../../shared/modules/gas.utils":4094,"../../../../contexts/gasFee":4867,"../../../../helpers/utils/gas":4919,"../../../../selectors":5306,"./useCustomTimeEstimate":4222,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasItemFeeDetails=void 0;var a=e("react"),o=e("react-redux"),r=e("../../../../../shared/constants/gas"),i=e("../../../../../shared/modules/gas.utils"),s=e("../../../../helpers/utils/gas"),l=e("../../../../selectors"),c=e("../../../../contexts/gasFee"),u=e("../../../../../shared/modules/conversion.utils"),d=e("./useCustomTimeEstimate");n.useGasItemFeeDetails=e=>{const{editGasMode:t,estimateUsed:n,gasFeeEstimates:p,gasLimit:f,maxFeePerGas:m,maxPriorityFeePerGas:g,transaction:h}=(0,c.useGasFeeContext)(),[y,b]=(0,a.useState)(!1),v=(0,o.useSelector)(l.getAdvancedGasFeeValues);let _,T,k;const{dappSuggestedGasFees:x}=h;if(null!=p&&p[e])_=p[e].suggestedMaxFeePerGas,T=p[e].suggestedMaxPriorityFeePerGas;else if(e===r.PriorityLevels.dAppSuggested&&x)_=(0,u.hexWEIToDecGWEI)(x.maxFeePerGas||x.gasPrice),T=(0,u.hexWEIToDecGWEI)(x.maxPriorityFeePerGas||_);else if(e===r.PriorityLevels.custom)n===r.PriorityLevels.custom?(_=m,T=g):v&&t!==r.EditGasModes.swaps&&(_=v.maxBaseFee,T=v.priorityFee);else if(e===r.PriorityLevels.tenPercentIncreased&&h.previousGas){var w,E;_=(0,u.hexWEIToDecGWEI)((0,s.addTenPercentAndRound)(null===(w=h.previousGas)||void 0===w?void 0:w.maxFeePerGas)),T=(0,u.hexWEIToDecGWEI)((0,s.addTenPercentAndRound)(null===(E=h.previousGas)||void 0===E?void 0:E.maxPriorityFeePerGas))}const{waitTimeEstimate:C}=(0,d.useCustomTimeEstimate)({gasFeeEstimates:p,maxFeePerGas:_,maxPriorityFeePerGas:T});k=p[e]?e===r.PriorityLevels.high?null==p?void 0:p.high.minWaitTimeEstimate:null==p?void 0:p.low.maxWaitTimeEstimate:C;const O=_?(0,i.getMaximumGasTotalInHexWei)({gasLimit:(0,u.decimalToHex)(f),maxFeePerGas:(0,u.decGWEIToHexWEI)(_)}):null;return(0,a.useEffect)((()=>{if(!(t!==r.EditGasModes.cancel&&t!==r.EditGasModes.speedUp||e!==r.PriorityLevels.medium&&e!==r.PriorityLevels.high)){const t=!(0,s.gasEstimateGreaterThanGasUsedPlusTenPercent)(h.previousGas||h.txParams,p,e);b(t)}}),[t,p,e,h]),{estimateGreaterThanGasUse:y,maxFeePerGas:_,maxPriorityFeePerGas:T,minWaitTime:k,hexMaximumTransactionFee:O}}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-item/useGasItemFeeDetails.js"}],[4224,{"../../../../../shared/constants/gas":4058,"../../../../helpers/constants/design-system":4892,"../../../../helpers/utils/gas":4919,"../../../../helpers/utils/util":4934,"../../../component-library":4562,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("../../../../../shared/constants/gas"),s=e("../../../../helpers/constants/design-system"),l=e("../../../../helpers/utils/gas"),c=e("../../../../helpers/utils/util"),u=e("../../../component-library");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({editGasMode:e,estimateGreaterThanGasUse:t,gasLimit:n,priorityLevel:a,maxFeePerGas:r,maxPriorityFeePerGas:d,transaction:p,t:f})=>{const m=(0,o.useMemo)((()=>{switch(a){case i.PriorityLevels.low:return f("lowGasSettingToolTipMessage",[o.default.createElement("span",{key:a},o.default.createElement("b",null,f("low")))]);case i.PriorityLevels.medium:return t?f("disabledGasOptionToolTipMessage",[o.default.createElement("span",{key:`disabled-priority-level-${a}`},f(a))]):f("mediumGasSettingToolTipMessage",[o.default.createElement("span",{key:a},o.default.createElement("b",null,f("medium")))]);case i.PriorityLevels.high:return t?f("disabledGasOptionToolTipMessage",[o.default.createElement("span",{key:`disabled-priority-level-${a}`},f(a))]):e===i.EditGasModes.swaps?f("swapSuggestedGasSettingToolTipMessage"):f("highGasSettingToolTipMessage",[o.default.createElement("span",{key:a},o.default.createElement("b",null,f("high")))]);case i.PriorityLevels.custom:return f("customGasSettingToolTipMessage",[o.default.createElement("span",{key:a},o.default.createElement("b",null,f("custom")))]);case i.PriorityLevels.dAppSuggested:return null!=p&&p.origin?f("dappSuggestedGasSettingToolTipMessage",[o.default.createElement("span",{key:null==p?void 0:p.origin},null==p?void 0:p.origin)]):null;default:return""}}),[e,t,a,p,f]);let g;a===i.PriorityLevels.low?g=f("curveLowGasEstimate"):a===i.PriorityLevels.medium?g=f("curveMediumGasEstimate"):a===i.PriorityLevels.high&&(g=f("curveHighGasEstimate"));const h=(0,l.isMetamaskSuggestedGasEstimate)(a)&&!(a===i.PriorityLevels.high&&e===i.EditGasModes.swaps)&&!t;return o.default.createElement("div",{className:"edit-gas-tooltip__container"},h?o.default.createElement("img",{alt:g,src:`./images/curve-${a}.svg`}):null,m&&o.default.createElement("div",{className:"edit-gas-tooltip__container__message"},o.default.createElement(u.Text,{variant:s.TextVariant.bodySm,as:"h6"},m)),a===i.PriorityLevels.custom||t?null:o.default.createElement("div",{className:"edit-gas-tooltip__container__values"},o.default.createElement("div",null,o.default.createElement(u.Text,{variant:s.TextVariant.bodySm,as:"h6",fontWeight:s.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("maxBaseFee")),r&&o.default.createElement(u.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,c.roundToDecimalPlacesRemovingExtraZeroes)(r,4))),o.default.createElement("div",null,o.default.createElement(u.Text,{variant:s.TextVariant.bodySm,as:"h6",fontWeight:s.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("priorityFeeProperCase")),d&&o.default.createElement(u.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,c.roundToDecimalPlacesRemovingExtraZeroes)(d,4))),o.default.createElement("div",null,o.default.createElement(u.Text,{variant:s.TextVariant.bodySm,as:"h6",fontWeight:s.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("gasLimit")),n&&o.default.createElement(u.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,c.roundToDecimalPlacesRemovingExtraZeroes)(n,4)))))};p.propTypes={estimateGreaterThanGasUse:r.default.bool,priorityLevel:r.default.string,maxFeePerGas:r.default.oneOfType([r.default.number,r.default.string]),maxPriorityFeePerGas:r.default.oneOfType([r.default.number,r.default.string]),t:r.default.func,editGasMode:r.default.string,gasLimit:r.default.number,transaction:r.default.object};n.default=p}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/edit-gas-tooltip/edit-gas-tooltip.js"}],[4225,{"./edit-gas-fee-popover":4219},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./edit-gas-fee-popover"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/index.js"}],[4226,{"./network-statistics":4227},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./network-statistics"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/index.js"}],[4227,{"../../../../contexts/gasFee":4867,"../../../../contexts/i18n":4868,"../../../../helpers/constants/design-system":4892,"../../../../helpers/utils/gas":4919,"../../../../helpers/utils/util":4934,"../../../component-library":4562,"./status-slider":4228,"./tooltips":4230,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../helpers/constants/design-system"),i=e("../../../../helpers/utils/util"),s=e("../../../../helpers/utils/gas"),l=e("../../../../contexts/i18n"),c=e("../../../../contexts/gasFee"),u=e("../../../component-library"),d=e("./tooltips"),p=(a=e("./status-slider"))&&a.__esModule?a:{default:a};function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,o.useContext)(l.I18nContext),{gasFeeEstimates:t}=(0,c.useGasFeeContext)(),n=(0,s.formatGasFeeOrFeeRange)(null==t?void 0:t.estimatedBaseFee,{precision:0}),a=(0,s.formatGasFeeOrFeeRange)(null==t?void 0:t.latestPriorityFeeRange,{precision:[1,0]}),f=null==t?void 0:t.networkCongestion;return o.default.createElement("div",{className:"network-statistics"},o.default.createElement(u.Text,{color:r.TextColor.textAlternative,fontWeight:r.FontWeight.Bold,marginTop:3,marginBottom:3,variant:r.TextVariant.bodyXs,as:"h6"},e("networkStatus")),o.default.createElement("div",{className:"network-statistics__info"},(0,i.isNullish)(n)?null:o.default.createElement("div",{className:"network-statistics__field","data-testid":"formatted-latest-base-fee"},o.default.createElement(d.BaseFeeTooltip,null,o.default.createElement("span",{className:"network-statistics__field-data"},n),o.default.createElement("span",{className:"network-statistics__field-label"},e("baseFee")))),(0,i.isNullish)(a)?null:o.default.createElement("div",{className:"network-statistics__field","data-testid":"formatted-latest-priority-fee-range"},o.default.createElement(d.PriorityFeeTooltip,null,o.default.createElement("span",{className:"network-statistics__field-data"},a),o.default.createElement("span",{className:"network-statistics__field-label"},e("priorityFee")))),(0,i.isNullish)(f)?null:o.default.createElement("div",{className:"network-statistics__field"},o.default.createElement(p.default,null))))}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/network-statistics.js"}],[4228,{"./status-slider":4229},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./status-slider"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/status-slider/index.js"}],[4229,{"../../../../../../shared/constants/gas":4058,"../../../../../contexts/gasFee":4867,"../../../../../hooks/useI18nContext":4959,"../tooltips":4230,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("../../../../../../shared/constants/gas"),i=e("../../../../../contexts/gasFee"),s=e("../../../../../hooks/useI18nContext"),l=e("../tooltips");const c=["#037DD6","#1876C8","#2D70BA","#4369AB","#57629E","#6A5D92","#805683","#9A4D71","#B44561","#C54055","#D73A49"];n.default=()=>{const e=(0,s.useI18nContext)(),{gasFeeEstimates:t}=(0,i.useGasFeeContext)(),n=(e=>{const t=e??.5,n=Math.round(10*t),a=c[n],o=10*n;return t>=r.NetworkCongestionThresholds.busy?{statusLabel:"busy",tooltipLabel:"highLowercase",color:a,sliderTickValue:o}:t>=r.NetworkCongestionThresholds.stable?{statusLabel:"stable",tooltipLabel:"stableLowercase",color:a,sliderTickValue:o}:{statusLabel:"notBusy",tooltipLabel:"lowLowercase",color:a,sliderTickValue:o}})(t.networkCongestion);return o.default.createElement(l.NetworkStabilityTooltip,{color:n.color,tooltipLabel:n.tooltipLabel},o.default.createElement("div",{className:"status-slider"},o.default.createElement("div",{className:"status-slider__arrow-container"},o.default.createElement("div",{className:"status-slider__arrow-border",style:{marginLeft:`${n.sliderTickValue}%`},"data-testid":"status-slider-arrow-border"},o.default.createElement("div",{className:"status-slider__arrow",style:{borderTopColor:n.color},"data-testid":"status-slider-arrow"}))),o.default.createElement("div",{className:"status-slider__line"}),o.default.createElement("div",{className:"status-slider__label",style:{color:n.color},"data-testid":"status-slider-label"},e(n.statusLabel))))}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/status-slider/status-slider.js"}],[4230,{"../../../../helpers/constants/design-system":4892,"../../../../hooks/useI18nContext":4959,"../../../ui/box":4729,"../../../ui/tooltip":4856,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PriorityFeeTooltip=n.NetworkStabilityTooltip=n.BaseFeeTooltip=void 0;var a=c(e("react")),o=c(e("prop-types")),r=e("../../../../hooks/useI18nContext"),i=c(e("../../../ui/box")),s=c(e("../../../ui/tooltip")),l=e("../../../../helpers/constants/design-system");function c(e){return e&&e.__esModule?e:{default:e}}const u=({children:e,html:t,title:n})=>a.default.createElement(s.default,{position:"top",html:t,title:n},a.default.createElement(i.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN},e));u.propTypes={children:o.default.node.isRequired,html:o.default.node,title:o.default.string};const d=({children:e})=>{const t=(0,r.useI18nContext)();return a.default.createElement(u,{html:t("networkStatusBaseFeeTooltip",[a.default.createElement("strong",{key:"base_fee_medium_estimate",className:"network-status__tooltip-label"},t("medium")),a.default.createElement("strong",{key:"base_fee_high_estimate",className:"network-status__tooltip-label"},t("high"))])},e)};n.BaseFeeTooltip=d,d.propTypes={children:o.default.node.isRequired};const p=({children:e})=>{const t=(0,r.useI18nContext)();return a.default.createElement(u,{title:t("networkStatusPriorityFeeTooltip")},e)};n.PriorityFeeTooltip=p,p.propTypes={children:o.default.node.isRequired};const f=({children:e,color:t,tooltipLabel:n})=>{const o=(0,r.useI18nContext)();return a.default.createElement(u,{html:o("networkStatusStabilityFeeTooltip",[a.default.createElement("strong",{key:"network-status__tooltip",className:"network-status__tooltip-label",style:{color:t}},o(n))])},e)};n.NetworkStabilityTooltip=f,f.propTypes={children:o.default.node.isRequired,color:o.default.string.isRequired,tooltipLabel:o.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/edit-gas-fee-popover/network-statistics/tooltips.js"}],[4231,{"../../../../shared/constants/gas":4058,"../../../../shared/modules/conversion.utils":4090,"../../../../shared/modules/transaction.utils":4106,"../../../contexts/i18n":4868,"../../../hooks/gasFeeInput/useGasFeeInputs":4940,"../../../hooks/useIncrementedGasFees":4960,"../../../store/actions":5313,"../../component-library":4562,"../../component-library/modal-content/deprecated":4570,"../../component-library/modal-header/deprecated":4579,"../../ui/loading-heartbeat":4790,"../edit-gas-display":4215,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=T;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=b(e("prop-types")),r=e("react-redux"),i=e("../../../hooks/gasFeeInput/useGasFeeInputs"),s=e("../../../../shared/modules/transaction.utils"),l=e("../../../../shared/constants/gas"),c=e("../../component-library"),u=e("../../component-library/modal-content/deprecated"),d=e("../../component-library/modal-header/deprecated"),p=b(e("../edit-gas-display")),f=e("../../../contexts/i18n"),m=e("../../../store/actions"),g=b(e("../../ui/loading-heartbeat")),h=e("../../../hooks/useIncrementedGasFees"),y=e("../../../../shared/modules/conversion.utils");function b(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},_.apply(this,arguments)}function T({popoverTitle:e="",confirmButtonText:t="",editGasDisplayProps:n={},transaction:o,mode:b,onClose:v,minimumGasLimit:T=l.GAS_LIMITS.SIMPLE}){const k=(0,a.useContext)(f.I18nContext),x=(0,r.useDispatch)(),[w,E]=(0,a.useState)(!1),C=(0,y.hexToDecimal)(T),O=(0,h.useIncrementedGasFees)(o);let M=o;b!==l.EditGasModes.speedUp&&b!==l.EditGasModes.cancel||(M={...o,userFeeLevel:l.CUSTOM_GAS_ESTIMATE,txParams:{...o.txParams,...O}});const{estimatedMinimumNative:P,gasPrice:S,setGasPrice:j,gasLimit:N,setGasLimit:I,properGasLimit:D,estimateToUse:A,hasGasErrors:R,gasErrors:F,onManualChange:L,balanceError:$}=(0,i.useGasFeeInputs)(l.GasRecommendations.medium,M,T,b),W=A===l.CUSTOM_GAS_ESTIMATE||(0,s.txParamsAreDappSuggested)(M),B=(0,a.useCallback)((()=>{v?v():x((0,m.hideModal)())}),[v,x]),G=(0,a.useCallback)((async()=>{M&&b||B();const e={gas:(0,y.decimalToHex)(N),gasLimit:(0,y.decimalToHex)(N),estimateUsed:A,gasPrice:(0,y.decGWEIToHexWEI)(S)},t={...M.txParams},n={...M,userEditedGasLimit:N!==Number(o.originalGasEstimate),userFeeLevel:A||l.CUSTOM_GAS_ESTIMATE,txParams:{...t,...e}};switch(b){case l.EditGasModes.cancel:x((0,m.createCancelTransaction)(M.id,e));break;case l.EditGasModes.speedUp:x((0,m.createSpeedUpTransaction)(M.id,e));break;case l.EditGasModes.modifyInPlace:e.userEditedGasLimit=n.userEditedGasLimit,e.userFeeLevel=n.userFeeLevel,x((0,m.showLoadingIndication)()),await x((0,m.updateTransactionGasFees)(n.id,e)),x((0,m.hideLoadingIndication)())}B()}),[M,b,x,B,N,S,o.originalGasEstimate,A]);let U=k("editGasTitle");e?U=e:b===l.EditGasModes.speedUp?U=k("speedUpPopoverTitle"):b===l.EditGasModes.cancel&&(U=k("cancelPopoverTitle"));const V=t||k("save");return a.default.createElement(c.Modal,{isOpen:!0,onClose:B},a.default.createElement(c.ModalOverlay,null),a.default.createElement(u.ModalContent,{autoFocus:!1,className:"edit-gas-popover"},a.default.createElement(d.ModalHeader,{onClose:B,marginBottom:4},U),a.default.createElement("div",{className:"edit-gas-popover__edit-gas-display"},a.default.createElement(g.default,null),a.default.createElement(p.default,_({dappSuggestedGasFeeAcknowledged:w,setDappSuggestedGasFeeAcknowledged:E,estimatedMinimumNative:P,gasPrice:S,setGasPrice:j,gasLimit:N,setGasLimit:I,properGasLimit:D,mode:b,transaction:M,onManualChange:L,minimumGasLimit:C,balanceError:$,txParamsHaveBeenCustomized:W,gasErrors:F},n))),a.default.createElement(c.Button,{block:!0,variant:c.ButtonVariant.Primary,size:c.ButtonSize.LG,marginTop:4,onClick:G,disabled:R||$||!W},V)))}T.propTypes={popoverTitle:o.default.string,editGasDisplayProps:o.default.object,confirmButtonText:o.default.string,onClose:o.default.func,transaction:o.default.object,mode:o.default.oneOf(Object.values(l.EditGasModes)),minimumGasLimit:o.default.string}}}},{package:"$root$",file:"ui/components/app/edit-gas-popover/edit-gas-popover.component.js"}],[4232,{"./edit-gas-popover.component":4231},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./edit-gas-popover.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/edit-gas-popover/index.js"}],[4233,{"../../../../shared/modules/conversion.utils":4090,"../../../contexts/gasFee":4867,"../../../helpers/constants/common":4890,"../../../helpers/constants/design-system":4892,"../../../helpers/utils/optimism/fetchEstimatedL1Fee":4927,"../../../hooks/useI18nContext":4959,"../../../selectors":5306,"../../component-library":4562,"../../ui/loading-heartbeat":4790,"../transaction-detail-item/transaction-detail-item.component":4467,"../user-preferenced-currency-display/user-preferenced-currency-display.component":4482,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=y(e("prop-types")),i=e("../../../helpers/constants/design-system"),s=e("../../component-library"),l=y(e("../transaction-detail-item/transaction-detail-item.component")),c=e("../../../selectors"),u=e("../../../hooks/useI18nContext"),d=y(e("../../ui/loading-heartbeat")),p=y(e("../user-preferenced-currency-display/user-preferenced-currency-display.component")),f=e("../../../helpers/constants/common"),m=e("../../../../shared/modules/conversion.utils"),g=y(e("../../../helpers/utils/optimism/fetchEstimatedL1Fee")),h=e("../../../contexts/gasFee");function y(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function v({txData:e,useCurrencyRateCheck:t,hideGasDetails:n=!1}){const[r,y]=(0,a.useState)(!1),[b,v]=(0,a.useState)(null),_=(0,o.useSelector)(c.getIsMultiLayerFeeNetwork),{useNativeCurrencyAsPrimaryCurrency:T}=(0,o.useSelector)(c.getPreferences),k=(0,u.useI18nContext)(),{maximumCostInHexWei:x,minimumCostInHexWei:w}=(0,h.useGasFeeContext)();(0,a.useEffect)((()=>{_&&(0,g.default)(null==e?void 0:e.chainId,e).then((e=>{v(e)})).catch((e=>{v(null)}))}),[_,e]);const E=(0,a.useMemo)((()=>_?(0,m.addHexes)(x,b||0):x),[_,x,b]),C=(0,a.useCallback)((t=>a.default.createElement("div",{className:"confirm-page-container-content__total-value"},a.default.createElement(d.default,{estimateUsed:null==e?void 0:e.userFeeLevel}),a.default.createElement(p.default,{type:f.SECONDARY,key:"total-detail-text",value:t,hideLabel:Boolean(T)}))),[e,T]),O=(0,a.useCallback)((t=>a.default.createElement("div",{className:"confirm-page-container-content__total-value"},a.default.createElement(d.default,{estimateUsed:null==e?void 0:e.userFeeLevel}),a.default.createElement(p.default,{type:f.PRIMARY,key:"total-detail-value",value:t,hideLabel:!T}))),[e,T]);return a.default.createElement(a.default.Fragment,null,a.default.createElement(s.Box,{display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center,flexDirection:i.FlexDirection.Column},!n&&a.default.createElement(s.Box,{padding:4,display:i.Display.Flex,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center},a.default.createElement(s.Button,{style:{textDecoration:"none"},size:i.Size.Xs,variant:s.BUTTON_VARIANT.LINK,endIconName:r?s.IconName.ArrowUp:s.IconName.ArrowDown,color:i.IconColor.primaryDefault,"data-testid":"expand-fee-details-button",onClick:()=>y(!r)},a.default.createElement(s.Text,{variant:i.TextVariant.bodySm,color:i.IconColor.primaryDefault},k("feeDetails"))))),!n&&r&&a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column},_&&a.default.createElement(l.default,{detailTitle:k("optimismFees"),detailText:t&&C(w),detailTotal:O(w),boldHeadings:!1}),_&&b&&a.default.createElement(l.default,{detailTitle:k("layer1Fees"),detailText:t&&C(b),detailTotal:O(b),boldHeadings:!1}),a.default.createElement(l.default,{detailTitle:k("total"),detailText:t&&C(E),detailTotal:O(E)})))}v.propTypes={txData:r.default.object,useCurrencyRateCheck:r.default.bool,hideGasDetails:r.default.bool}}}},{package:"$root$",file:"ui/components/app/fee-details-component/fee-details-component.js"}],[4234,{"../../../../shared/constants/gas":4058,"../../../../shared/modules/conversion.utils":4090,"../../../contexts/gasFee":4867,"../../../ducks/send":4886,"../../../helpers/constants/common":4890,"../../../helpers/constants/design-system":4892,"../../../helpers/utils/optimism/fetchEstimatedL1Fee":4927,"../../../hooks/useDraftTransactionWithTxParams":4955,"../../../hooks/useI18nContext":4959,"../../../selectors":5306,"../../component-library":4562,"../../ui/box":4729,"../../ui/loading-heartbeat":4790,"../edit-gas-fee-icon/edit-gas-fee-icon":4218,"../gas-timing/gas-timing.component":4236,"../transaction-detail-item/transaction-detail-item.component":4467,"../user-preferenced-currency-display":4481,classnames:2468,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=w(e("prop-types")),r=w(e("classnames")),i=e("react-redux"),s=e("../../component-library"),l=e("../../../helpers/constants/design-system"),c=e("../../../helpers/constants/common"),u=e("../../../../shared/constants/gas"),d=e("../../../selectors"),p=e("../../../ducks/send"),f=e("../../../../shared/modules/conversion.utils"),m=e("../../../hooks/useDraftTransactionWithTxParams"),g=e("../../../contexts/gasFee"),h=e("../../../hooks/useI18nContext"),y=w(e("../../ui/box")),b=w(e("../../ui/loading-heartbeat")),v=w(e("../edit-gas-fee-icon/edit-gas-fee-icon")),_=w(e("../gas-timing/gas-timing.component")),T=w(e("../../../helpers/utils/optimism/fetchEstimatedL1Fee")),k=w(e("../transaction-detail-item/transaction-detail-item.component")),x=w(e("../user-preferenced-currency-display"));function w(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const C=({"data-testid":e,userAcknowledgedGasMissing:t=!1})=>{var n,o;const w=(0,h.useI18nContext)(),E=(0,i.useSelector)(d.getIsMultiLayerFeeNetwork),C=(0,i.useSelector)(d.getTxData),[O,M]=(0,a.useState)(null);(0,a.useEffect)((()=>{E&&(0,T.default)(null==C?void 0:C.chainId,C).then((e=>{M(e)})).catch((e=>{M(null)}))}),[E,C]);const P=(0,i.useSelector)(p.getCurrentDraftTransaction),S=(0,m.useDraftTransactionWithTxParams)(),{hexMinimumTransactionFee:j,hexMaximumTransactionFee:N}=(0,i.useSelector)((e=>(0,d.transactionFeeSelector)(e,S))),{estimateUsed:I,hasSimulationError:D,maximumCostInHexWei:A,maxPriorityFeePerGas:R,maxFeePerGas:F}=(0,g.useGasFeeContext)(),{useNativeCurrencyAsPrimaryCurrency:L}=(0,i.useSelector)(d.getPreferences),$=(0,i.useSelector)(d.getUseCurrencyRateCheck),W=(0,a.useMemo)((()=>E?(0,f.sumHexes)(A,O||0):A),[E,A,O]);if(D&&!t)return null;const B=(R??(0,f.hexWEIToDecGWEI)((null===(n=S.txParams)||void 0===n?void 0:n.maxPriorityFeePerGas)??"0x0")).toString(),G=(F??(0,f.hexWEIToDecGWEI)((null===(o=S.txParams)||void 0===o?void 0:o.maxFeePerGas)??"0x0")).toString();return a.default.createElement(k.default,{key:"gas-details-item","data-testid":e,detailTitle:a.default.createElement(s.Text,null,w("estimatedFee")),detailTitleColor:l.TextColor.textDefault,detailText:$&&0===Object.keys(P).length&&a.default.createElement("div",{className:"gas-details-item__currency-container"},a.default.createElement(b.default,{estimateUsed:I}),a.default.createElement(v.default,{userAcknowledgedGasMissing:t}),a.default.createElement(x.default,{type:c.SECONDARY,value:W,hideLabel:Boolean(L)})),detailTotal:a.default.createElement("div",{className:"gas-details-item__currency-container"},a.default.createElement(b.default,{estimateUsed:I}),a.default.createElement(x.default,{type:c.PRIMARY,value:W||j,hideLabel:!L})),subText:a.default.createElement(a.default.Fragment,null,a.default.createElement(y.default,{key:"editGasSubTextFeeLabel",display:"inline-flex",className:(0,r.default)("gas-details-item__gasfee-label",{"gas-details-item__gas-fee-warning":I===u.PriorityLevels.high||I===u.PriorityLevels.dappSuggestedHigh})},a.default.createElement(b.default,{estimateUsed:I}),a.default.createElement(y.default,{marginRight:1},a.default.createElement("strong",null,(I===u.PriorityLevels.high||I===u.PriorityLevels.dappSuggestedHigh)&&"⚠ ",w("editGasSubTextFeeLabel"))),a.default.createElement("div",{key:"editGasSubTextFeeValue",className:"gas-details-item__currency-container"},a.default.createElement(b.default,{estimateUsed:I}),a.default.createElement(x.default,{key:"editGasSubTextFeeAmount",type:c.PRIMARY,value:W||N,hideLabel:!L})))),subTitle:a.default.createElement(_.default,{maxPriorityFeePerGas:B,maxFeePerGas:G})})};C.propTypes={"data-testid":o.default.string,userAcknowledgedGasMissing:o.default.bool};n.default=C}}},{package:"$root$",file:"ui/components/app/gas-details-item/gas-details-item.js"}],[4235,{"./gas-details-item":4234},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./gas-details-item"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/gas-details-item/index.js"}],[4236,{"../../../../shared/constants/gas":4058,"../../../contexts/gasFee":4867,"../../../contexts/i18n":4868,"../../../ducks/metamask/metamask":4884,"../../../helpers/constants/design-system":4892,"../../../helpers/constants/gas":4894,"../../../hooks/useDraftTransactionWithTxParams":4955,"../../../hooks/usePrevious":4967,"../../../store/actions":5313,"../../component-library":4562,"../../ui/typography/typography":4861,"bignumber.js":2353,classnames:2468,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=k;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=v(e("bignumber.js")),r=v(e("prop-types")),i=v(e("classnames")),s=e("react-redux"),l=e("../../component-library"),c=e("../../../helpers/constants/design-system"),u=e("../../../ducks/metamask/metamask"),d=e("../../../helpers/constants/gas"),p=e("../../../../shared/constants/gas"),f=e("../../../contexts/i18n"),m=v(e("../../ui/typography/typography")),g=e("../../../store/actions"),h=e("../../../contexts/gasFee"),y=e("../../../hooks/usePrevious"),b=e("../../../hooks/useDraftTransactionWithTxParams");function v(e){return e&&e.__esModule?e:{default:e}}function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}const T=(e=1,t)=>{const n=Math.ceil(e/1e3);return n<=90?t("gasTimingSecondsShort",[n]):t("gasTimingMinutesShort",[Math.ceil(n/60)])};function k({maxFeePerGas:e=0,maxPriorityFeePerGas:t=0,gasWarnings:n}){const r=(0,s.useSelector)(u.getGasEstimateType),v=(0,s.useSelector)(u.getGasFeeEstimates),_=(0,s.useSelector)(u.getIsGasEstimatesLoading),[k,x]=(0,a.useState)(null),w=(0,a.useContext)(f.I18nContext),{estimateUsed:E}=(0,h.useGasFeeContext)(),C=(0,b.useDraftTransactionWithTxParams)(),O=(null==v?void 0:v.low)&&Number(t)<Number(v.low.suggestedMaxPriorityFeePerGas),M=(0,y.usePrevious)(e),P=(0,y.usePrevious)(t),S=(0,y.usePrevious)(O);if((0,a.useEffect)((()=>{const n=t,a=e;(O||n&&n!==P||a&&a!==M)&&(0,g.getGasFeeTimeEstimate)(new o.default(n,10).toString(10),new o.default(a,10).toString(10)).then((o=>{e===a&&t===n&&x(o)})),!1!==O&&!0===S&&x(null)}),[t,e,O,M,P,S]),(null==n?void 0:n.maxPriorityFee)===d.GAS_FORM_ERRORS.MAX_PRIORITY_FEE_TOO_LOW||(null==n?void 0:n.maxFee)===d.GAS_FORM_ERRORS.MAX_FEE_TOO_LOW)return a.default.createElement(m.default,{variant:c.TypographyVariant.H7,fontWeight:c.FONT_WEIGHT.BOLD,className:(0,i.default)("gas-timing","gas-timing--negative")},w("editGasTooLow"));if(_||r!==p.GasEstimateTypes.feeMarket)return null;const{low:j={},medium:N={},high:I={}}=v,D=E||C.userFeeLevel||"medium";let A=w(D),R="",F="positive";"low"===D&&(A=w("gasTimingLow")),Number(t)>=Number(N.suggestedMaxPriorityFeePerGas)?R=Number(t)<Number(I.suggestedMaxPriorityFeePerGas)?T(j.maxWaitTimeEstimate,w):T(I.minWaitTimeEstimate,w):O?("low"===D&&(F="negative"),k&&"unknown"!==k&&"unknown"!==(null==k?void 0:k.upperTimeBound)?R=T(Number(null==k?void 0:k.upperTimeBound),w):(A=w("editGasTooLow"),F="negative")):R=T(j.maxWaitTimeEstimate,w);return a.default.createElement(l.Box,{display:c.Display.Flex},a.default.createElement(l.Text,{color:c.TextColor.textMuted,variant:c.TextVariant.bodyXs},A),a.default.createElement(l.Text,{variant:c.TextVariant.bodyXs,marginLeft:1,color:(()=>{switch(F){case"positive":default:return c.TextColor.successDefault;case"warning":return c.TextColor.warningDefault;case"negative":return c.TextColor.errorDefault}})()},a.default.createElement("span",{"data-testid":"gas-timing-time"},"~",R)))}k.propTypes={maxPriorityFeePerGas:r.default.string,maxFeePerGas:r.default.string,gasWarnings:r.default.object}}}},{package:"$root$",file:"ui/components/app/gas-timing/gas-timing.component.js"}],[4237,{"../../../../shared/constants/metametrics":4063,"../../../contexts/i18n":4868,"../../../contexts/metametrics":4869,"../../../helpers/constants/design-system":4892,"../../component-library":4562,classnames:2468,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=d(e("prop-types")),r=d(e("classnames")),i=e("../../../contexts/i18n"),s=e("../../../helpers/constants/design-system"),l=e("../../../contexts/metametrics"),c=e("../../../../shared/constants/metametrics"),u=e("../../component-library");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=14,m=f-1;function g({buttonText:e,onLongPressed:t}){const n=(0,a.useContext)(i.I18nContext),o=(0,a.useRef)(!1),[d,p]=(0,a.useState)(!1),[g,h]=(0,a.useState)(!1),y=(0,a.useContext)(l.MetaMetricsContext),b=e=>{e.stopPropagation()},v=()=>{o.current&&p(!0)},_=(0,a.useCallback)((e=>{y({category:c.MetaMetricsEventCategory.Keys,event:c.MetaMetricsEventName.SrpHoldToRevealCompleted,properties:{key_type:c.MetaMetricsEventKeyType.Srp}}),y({category:c.MetaMetricsEventCategory.Keys,event:c.MetaMetricsEventName.SrpRevealViewed,properties:{key_type:c.MetaMetricsEventKeyType.Srp}}),t(),h(!0),b(e)}),[t,y]),T=()=>{p(!1),h(!1)},k=(0,a.useCallback)((()=>a.default.createElement(u.Box,{className:(0,r.default)("hold-to-reveal-button__absolute-fill",{"hold-to-reveal-button__absolute-fill":d,"hold-to-reveal-button__main-icon-show":g})},a.default.createElement(u.Box,{className:"hold-to-reveal-button__absolute-fill"},a.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},a.default.createElement("circle",{className:"hold-to-reveal-button__circle-background",cx:f,cy:f,r:m}))),a.default.createElement(u.Box,{className:"hold-to-reveal-button__absolute-fill"},a.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},a.default.createElement("circle",{"aria-label":n("holdToRevealLockedLabel"),onTransitionEnd:v,className:"hold-to-reveal-button__circle-foreground",cx:f,cy:f,r:m}))),a.default.createElement(u.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,className:"hold-to-reveal-button__lock-icon-container"},a.default.createElement("img",{src:"images/lock-icon.svg",alt:n("padlock"),className:"hold-to-reveal-button__lock-icon"})))),[d,g,n]),x=(0,a.useCallback)((()=>d?a.default.createElement("div",{className:(0,r.default)("hold-to-reveal-button__absolute-fill",{"hold-to-reveal-button__unlock-icon-hide":g}),onAnimationEnd:T},a.default.createElement("div",{onAnimationEnd:b,className:"hold-to-reveal-button__absolute-fill hold-to-reveal-button__circle-static-outer-container"},a.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},a.default.createElement("circle",{className:"hold-to-reveal-button__circle-static-outer",cx:14,cy:14,r:14}))),a.default.createElement("div",{onAnimationEnd:b,className:"hold-to-reveal-button__absolute-fill hold-to-reveal-button__circle-static-inner-container"},a.default.createElement("svg",{className:"hold-to-reveal-button__circle-svg"},a.default.createElement("circle",{className:"hold-to-reveal-button__circle-static-inner",cx:14,cy:14,r:12}))),a.default.createElement("div",{"aria-label":n("holdToRevealUnlockedLabel"),className:"hold-to-reveal-button__unlock-icon-container",onAnimationEnd:_},a.default.createElement("img",{src:"images/unlock-icon.svg",alt:n("padlock"),className:"hold-to-reveal-button__unlock-icon"}))):null),[d,g,_,n]);return a.default.createElement(u.Button,{onPointerDown:()=>{o.current=!0,y({category:c.MetaMetricsEventCategory.Keys,event:c.MetaMetricsEventName.SrpHoldToRevealClickStarted,properties:{key_type:c.MetaMetricsEventKeyType.Srp}})},onPointerUp:()=>{o.current=!1},className:"hold-to-reveal-button__button-hold",textProps:{display:s.Display.Flex,alignItems:s.AlignItems.center}},a.default.createElement(u.Box,{className:"hold-to-reveal-button__icon-container",marginRight:2},k(),x()),e)}g.propTypes={buttonText:o.default.string.isRequired,onLongPressed:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/hold-to-reveal-button/hold-to-reveal-button.js"}],[4238,{"./hold-to-reveal-button":4237},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./hold-to-reveal-button"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/hold-to-reveal-button/index.js"}],[4239,{"../../../helpers/constants/design-system":4892,"../../component-library":4562,"../../ui/button":4733,"../../ui/check-box":4737,"../../ui/tooltip":4856,classnames:2468,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=d(e("classnames")),r=d(e("prop-types")),i=d(e("../../ui/button")),s=d(e("../../ui/check-box")),l=d(e("../../ui/tooltip")),c=e("../../component-library"),u=e("../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({acceptText:e,checkboxText:t,checkboxTooltipText:n,classNames:r=[],descriptionText:d,ignoreText:p,infoText:f,onAccept:m,onIgnore:g})=>{const[h,y]=(0,a.useState)(!1),b=t&&a.default.createElement(s.default,{id:"homeNotification_checkbox",checked:h,className:"home-notification__checkbox",onClick:()=>y((e=>!e))});return a.default.createElement("div",{className:(0,o.default)("home-notification",...r)},a.default.createElement("div",{className:"home-notification__content"},a.default.createElement("div",{className:"home-notification__content-container"},a.default.createElement("div",{className:"home-notification__text"},d)),f?a.default.createElement(l.default,{position:"top",title:f,wrapperClassName:"home-notification__tooltip-wrapper"},a.default.createElement(c.Icon,{name:c.IconName.Info,color:u.IconColor.iconDefault})):null),a.default.createElement("div",{className:"home-notification__buttons"},m&&e?a.default.createElement(i.default,{type:"primary",className:"home-notification__accept-button",onClick:m},e):null,g&&p?a.default.createElement(i.default,{type:"secondary",className:"home-notification__ignore-button",onClick:()=>g(h)},p):null,t?a.default.createElement("div",{className:"home-notification__checkbox-wrapper"},n?a.default.createElement(l.default,{position:"top",title:n,wrapperClassName:"home-notification__checkbox-label-tooltip"},b):b,a.default.createElement("label",{className:"home-notification__checkbox-label",htmlFor:"homeNotification_checkbox"},t)):null))};f.propTypes={acceptText:r.default.node,checkboxText:r.default.node,checkboxTooltipText:r.default.node,classNames:r.default.array,descriptionText:r.default.node.isRequired,ignoreText:r.default.node,infoText:r.default.node,onAccept:r.default.func,onIgnore:r.default.func};n.default=f}}},{package:"$root$",file:"ui/components/app/home-notification/home-notification.component.js"}],[4240,{"./home-notification.component":4239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./home-notification.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/home-notification/index.js"}],[4241,{"./token-list.container":4245},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=(a=e("./token-list.container"))&&a.__esModule?a:{default:a};n.default=o.default}}},{package:"$root$",file:"ui/components/app/import-token/token-list/index.js"}],[4242,{"./token-list-placeholder.component":4243},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=(a=e("./token-list-placeholder.component"))&&a.__esModule?a:{default:a};n.default=o.default}}},{package:"$root$",file:"ui/components/app/import-token/token-list/token-list-placeholder/index.js"}],[4243,{"../../../../../helpers/constants/design-system":4892,"../../../../../helpers/constants/zendesk-url":4903,"../../../../component-library":4562,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o,r,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=d(e("prop-types")),l=d(e("../../../../../helpers/constants/zendesk-url")),c=e("../../../../component-library"),u=e("../../../../../helpers/constants/design-system");function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}class f extends i.Component{render(){return i.default.createElement(c.Box,{display:u.Display.Flex,alignItems:u.AlignItems.center,flexDirection:u.FlexDirection.Column,textAlign:u.TextAlign.Center},i.default.createElement(c.Text,{color:u.TextColor.textAlternative},this.context.t("addAcquiredTokens")),i.default.createElement(c.ButtonLink,{href:l.default.ADD_CUSTOM_TOKENS,externalLink:!0},this.context.t("learnMoreUpperCase")))}}n.default=f,a=f,o="contextTypes",r={t:s.default.func},(o=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(o))in a?Object.defineProperty(a,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[o]=r}}},{package:"$root$",file:"ui/components/app/import-token/token-list/token-list-placeholder/token-list-placeholder.component.js"}],[4244,{"../../../../helpers/constants/design-system":4892,"../../../../helpers/utils/util":4934,"../../../component-library":4562,"./token-list-placeholder":4242,classnames:2468,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=u(e("prop-types")),r=u(e("classnames")),i=e("../../../../helpers/utils/util"),s=e("../../../component-library"),l=e("../../../../helpers/constants/design-system"),c=u(e("./token-list-placeholder"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends a.Component{render(){const{results:e=[],selectedTokens:t={},onToggleToken:n,tokens:o=[],currentNetwork:u,testNetworkBackgroundColor:d}=this.props;return a.default.createElement(s.Box,{className:"token-list"},0===e.length?a.default.createElement(s.Box,{paddingLeft:4,paddingRight:4,className:"token-list__empty-list"},a.default.createElement(c.default,null)):a.default.createElement(s.Box,{className:"token-list__tokens-container"},Array(12).fill(undefined).map(((c,p)=>{var f,m,g;const{symbol:h,name:y,address:b}=e[p]||{},v=(0,i.checkExistingAddresses)(b,o),_=()=>!v&&n(e[p]);return Boolean((null===(f=e[p])||void 0===f?void 0:f.iconUrl)||h||y)&&a.default.createElement(s.Box,{key:b,display:l.Display.Flex,className:(0,r.default)("token-list__token_component",{"token-list__token_component--selected":t[b],"token-list__token_component--disabled":v}),onClick:_},a.default.createElement(s.Box,{display:l.Display.Flex,alignItems:l.AlignItems.center},a.default.createElement(s.Checkbox,{isChecked:t[b]||v,marginRight:2,onClick:_}),a.default.createElement(s.Box,null,a.default.createElement(s.BadgeWrapper,{badge:a.default.createElement(s.AvatarNetwork,{size:s.AvatarNetworkSize.Xs,name:null==u?void 0:u.nickname,src:null==u||null===(m=u.rpcPrefs)||void 0===m?void 0:m.imageUrl,backgroundColor:d}),marginRight:4,marginTop:1},a.default.createElement(s.AvatarToken,{name:h,src:null===(g=e[p])||void 0===g?void 0:g.iconUrl,showHalo:!0}))),a.default.createElement(s.Box,null,a.default.createElement(s.Text,{fontWeight:l.FontWeight.Medium,variant:l.TextVariant.bodyMd},y),a.default.createElement(s.Text,{variant:l.TextVariant.bodySm,color:l.TextColor.textAlternative},h))))}))))}}n.default=f,p(f,"contextTypes",{t:o.default.func}),p(f,"propTypes",{tokens:o.default.array,results:o.default.array,selectedTokens:o.default.object,onToggleToken:o.default.func,currentNetwork:o.default.object,testNetworkBackgroundColor:o.default.object})}}},{package:"$root$",file:"ui/components/app/import-token/token-list/token-list.component.js"}],[4245,{"./token-list.component":4244,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-redux"),r=(a=e("./token-list.component"))&&a.__esModule?a:{default:a};n.default=(0,o.connect)((e=>{const{tokens:t}=e.metamask;return{tokens:t}}))(r.default)}}},{package:"$root$",file:"ui/components/app/import-token/token-list/token-list.container.js"}],[4246,{"./token-search.component":4247},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=(a=e("./token-search.component"))&&a.__esModule?a:{default:a};n.default=o.default}}},{package:"$root$",file:"ui/components/app/import-token/token-search/index.js"}],[4247,{"../../../../../shared/modules/string-utils":4104,"../../../../helpers/constants/design-system":4892,"../../../../hooks/useI18nContext":4959,"../../../component-library/text-field-search/deprecated":4607,"fuse.js":2944,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=u(e("prop-types")),r=u(e("fuse.js")),i=e("../../../../../shared/modules/string-utils"),s=e("../../../component-library/text-field-search/deprecated"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../hooks/useI18nContext");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=e=>Object.values(e),f=e=>new r.default(p(e),{shouldSort:!0,threshold:.45,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:[{name:"name",weight:.5},{name:"symbol",weight:.5}]});function m({onSearch:e,error:t,tokenList:n,searchClassName:o}){const r=(0,c.useI18nContext)(),[u,d]=(0,a.useState)(""),[m,g]=(0,a.useState)(f(n));(0,a.useEffect)((()=>{g(f(n))}),[n]);return a.default.createElement(s.TextFieldSearch,{className:o,placeholder:r("searchTokens"),value:u,onChange:t=>(t=>{d(t);const a=m.search(t),o=[...p(n).filter((e=>e.address&&t&&(0,i.isEqualCaseInsensitive)(e.address,t))),...a];e({newSearchQuery:t,results:o})})(t.target.value),error:t,autoFocus:!0,autoComplete:!1,width:l.BlockSize.Full,clearButtonOnClick:()=>{d("")},clearButtonProps:{size:l.Size.SM}})}m.propTypes={onSearch:o.default.func.isRequired,error:o.default.object,tokenList:o.default.object.isRequired,searchClassName:o.default.string.isRequired}}}},{package:"$root$",file:"ui/components/app/import-token/token-search/token-search.component.js"}],[4248,{"../../../../shared/constants/network":4064,"../../../contexts/i18n":4868,"../../../helpers/constants/design-system":4892,"../../component-library":4562,"./network-toggle":4249,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=u(e("prop-types")),r=e("../../../contexts/i18n"),i=e("../../component-library"),s=e("../../../helpers/constants/design-system"),l=e("../../../../shared/constants/network"),c=u(e("./network-toggle"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({wrapperRef:e,incomingTransactionsPreferences:t,allNetworks:n,setIncomingTransactionsPreferences:o})=>{const l=(0,a.useContext)(r.I18nContext),[u,d]=(0,a.useState)(f(t,n));(0,a.useEffect)((()=>{d(f(t,n))}),[t,n]);const p=(e,t)=>{o(e,t)};return a.default.createElement(i.Box,{ref:e,className:"mm-incoming-transaction-toggle"},a.default.createElement(i.Text,{variant:s.TextVariant.bodyMd},l("showIncomingTransactions")),a.default.createElement(i.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative},l("showIncomingTransactionsExplainer")),Object.keys(u).map(((e,t)=>a.default.createElement(c.default,{key:t,chainId:e,networkPreferences:u[e],toggleSingleNetwork:p}))))};n.default=p;function f(e,t){const n={};return Object.keys(t).forEach((a=>{var o;const{chainId:r}=t[a];n[r]={isShowIncomingTransactions:e[r],isATestNetwork:l.TEST_CHAINS.includes(r),label:t[a].nickname,imageUrl:null===(o=t[a].rpcPrefs)||void 0===o?void 0:o.imageUrl}})),n}p.propTypes={wrapperRef:o.default.object,incomingTransactionsPreferences:o.default.object.isRequired,allNetworks:o.default.array.isRequired,setIncomingTransactionsPreferences:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/incoming-trasaction-toggle/incoming-transaction-toggle.tsx"}],[4249,{"../../../../shared/constants/network":4064,"../../../contexts/i18n":4868,"../../../helpers/constants/design-system":4892,"../../component-library":4562,"../../ui/toggle-button":4849,"../../ui/tooltip":4856,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../shared/constants/network"),i=e("../../../contexts/i18n"),s=e("../../../helpers/constants/design-system"),l=e("../../component-library"),c=p(e("../../ui/toggle-button")),u=p(e("../../ui/tooltip"));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}const f=({networkPreferences:e,toggleSingleNetwork:t,chainId:n})=>{var a;const d=(0,o.useContext)(i.I18nContext),{isShowIncomingTransactions:p}=e,f=e.label,m=null===r.ETHERSCAN_SUPPORTED_NETWORKS||void 0===r.ETHERSCAN_SUPPORTED_NETWORKS?void 0:r.ETHERSCAN_SUPPORTED_NETWORKS[n],g=null==m?void 0:m.domain,h=(null==g||null===(a=g.charAt(0))||void 0===a?void 0:a.toUpperCase())+(null==g?void 0:g.slice(1));return o.default.createElement(l.Box,{marginTop:6,marginBottom:6,display:s.Display.Flex,flexDirection:s.FlexDirection.Row,gap:4,justifyContent:s.JustifyContent.spaceBetween,"data-testid":`network-toggle-${n}`,className:"network-toggle-wrapper"},o.default.createElement(l.Box,{backgroundColor:s.BackgroundColor.transparent,display:s.Display.Flex,alignItems:s.AlignItems.center,width:s.BlockSize.Full,gap:4,className:"network-toggle-wrapper__overflow-container"},o.default.createElement(l.AvatarNetwork,{size:l.AvatarNetworkSize.Sm,src:e.imageUrl,name:f}),o.default.createElement(l.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,className:"network-toggle-wrapper__overflow-container"},f.length>20?o.default.createElement(u.default,{position:"bottom"},o.default.createElement(l.Text,{color:s.TextColor.textDefault,backgroundColor:s.BackgroundColor.transparent,variant:s.TextVariant.bodyMd,ellipsis:!0},f)):o.default.createElement(l.Text,{color:s.TextColor.textDefault,backgroundColor:s.BackgroundColor.transparent,variant:s.TextVariant.bodyMd,ellipsis:!0},f),o.default.createElement(l.Text,{color:s.TextColor.primaryDefault,backgroundColor:s.BackgroundColor.transparent,variant:s.TextVariant.bodySm,ellipsis:!0},g&&o.default.createElement("a",{key:`network_${g}_link`,href:`https://${g}`,rel:"noreferrer",target:"_blank"},h)))),o.default.createElement(l.Box,{marginLeft:"auto"},o.default.createElement(c.default,{value:p,onToggle:e=>t(n,!e),offLabel:d("off"),onLabel:d("on")})))};n.default=f;f.propTypes={chainId:a.default.string.isRequired,networkPreferences:a.default.object.isRequired,toggleSingleNetwork:a.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/incoming-trasaction-toggle/network-toggle.tsx"}],[4250,{"./ledger-instruction-field":4251},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./ledger-instruction-field"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/ledger-instruction-field/index.js"}],[4251,{"../../../../app/scripts/lib/util":85,"../../../../shared/constants/app":4054,"../../../../shared/constants/hardware-wallets":4059,"../../../ducks/app/app":4875,"../../../ducks/metamask/metamask":4884,"../../../helpers/constants/design-system":4892,"../../../hooks/useI18nContext":4959,"../../../store/actions":5313,"../../component-library":4562,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a,o=(a=e("prop-types"))&&a.__esModule?a:{default:a},r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),i=e("react-redux"),s=e("../../../../app/scripts/lib/util"),l=e("../../../../shared/constants/app"),c=e("../../../../shared/constants/hardware-wallets"),u=e("../../../ducks/app/app"),d=e("../../../ducks/metamask/metamask"),p=e("../../../helpers/constants/design-system"),f=e("../../../hooks/useI18nContext"),m=e("../../../store/actions"),g=e("../../component-library");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const y=(e,t=!0,n=p.TextColor.textDefault)=>t&&r.default.createElement(g.Text,{color:n,as:"h6"},e);function b({showDataInstruction:e}){const t=(0,f.useI18nContext)(),n=(0,i.useDispatch)(),a=(0,i.useSelector)(u.getLedgerWebHidConnectedStatus),o=(0,i.useSelector)(d.getLedgerTransportType),h=(0,i.useSelector)(u.getLedgerTransportStatus),b=(0,s.getEnvironmentType)()===l.ENVIRONMENT_TYPE_FULLSCREEN;(0,r.useEffect)((()=>{(async()=>{if(o===c.LedgerTransportTypes.webhid&&a===c.WebHIDConnectedStatuses.connected&&h===c.HardwareTransportStates.none)try{const e=await(0,m.attemptLedgerTransportCreation)();n((0,u.setLedgerTransportStatus)(e?c.HardwareTransportStates.verified:c.HardwareTransportStates.unknownFailure))}catch(e){e.message.match("Failed to open the device")?n((0,u.setLedgerTransportStatus)(c.HardwareTransportStates.deviceOpenFailure)):e.message.match("the device is already open")?n((0,u.setLedgerTransportStatus)(c.HardwareTransportStates.verified)):n((0,u.setLedgerTransportStatus)(c.HardwareTransportStates.unknownFailure))}})(),(async()=>{if(o===c.LedgerTransportTypes.webhid&&a!==c.WebHIDConnectedStatuses.connected){var e;const t=await(null===(e=window.navigator)||void 0===e||null===(e=e.hid)||void 0===e?void 0:e.getDevices()),a=null==t?void 0:t.some((e=>e.vendorId===Number(c.LEDGER_USB_VENDOR_ID)));n((0,u.setLedgerWebHidConnectedStatus)(a?c.WebHIDConnectedStatuses.connected:c.WebHIDConnectedStatuses.notConnected))}})()}),[n,o,a,h]),(0,r.useEffect)((()=>()=>{n((0,u.setLedgerTransportStatus)(c.HardwareTransportStates.none))}),[n]);const v=o===c.LedgerTransportTypes.webhid;return r.default.createElement("div",null,r.default.createElement("div",{className:"confirm-detail-row"},r.default.createElement(g.BannerAlert,{severity:p.SEVERITIES.INFO},r.default.createElement("div",{className:"ledger-live-dialog"},y(t("ledgerConnectionInstructionHeader")),y(`• ${t("ledgerConnectionInstructionStepThree")}`),y(`• ${t("ledgerConnectionInstructionStepFour")}`,e),y(r.default.createElement("span",null,r.default.createElement(g.ButtonLink,{textAlign:p.TextAlign.Left,onClick:async()=>{b?window.location.reload():global.platform.openExtensionInBrowser(null,null,!0)}},t("ledgerConnectionInstructionCloseOtherApps"))),h===c.HardwareTransportStates.deviceOpenFailure),y(r.default.createElement("span",null,r.default.createElement(g.ButtonLink,{textAlign:p.TextAlign.Left,onClick:async()=>{if(b){const e=(await window.navigator.hid.requestDevice({filters:[{vendorId:c.LEDGER_USB_VENDOR_ID}]})).some((e=>e.vendorId===Number(c.LEDGER_USB_VENDOR_ID)));n((0,u.setLedgerWebHidConnectedStatus)({webHidConnectedStatus:e?c.WebHIDConnectedStatuses.connected:c.WebHIDConnectedStatuses.notConnected}))}else global.platform.openExtensionInBrowser(null,null,!0)}},t(b?"clickToConnectLedgerViaWebHID":"openFullScreenForLedgerWebHid"))),v&&a===c.WebHIDConnectedStatuses.notConnected,p.TextColor.warningDefault)))))}b.propTypes={showDataInstruction:o.default.bool}}}},{package:"$root$",file:"ui/components/app/ledger-instruction-field/ledger-instruction-field.js"}],[4252,{"./loading-network-screen.container":4254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./loading-network-screen.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/loading-network-screen/index.js"}],[4253,{"../../../../shared/constants/network":4064,"../../../../shared/constants/time":4074,"../../../helpers/constants/design-system":4892,"../../component-library":4562,"../../ui/box/box":4728,"../../ui/loading-screen":4793,"../../ui/popover/popover.component":4820,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=p(e("prop-types")),r=p(e("../../ui/loading-screen")),i=e("../../../../shared/constants/time"),s=e("../../../../shared/constants/network"),l=p(e("../../ui/popover/popover.component")),c=e("../../component-library"),u=e("../../../helpers/constants/design-system"),d=p(e("../../ui/box/box"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends a.PureComponent{constructor(...e){super(...e),m(this,"state",{showErrorScreen:!1}),m(this,"componentDidMount",(()=>{this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND)})),m(this,"getConnectingLabel",(function(e){if(e)return e;const{providerConfig:t,providerId:n}=this.props,a=t.type,{t:o}=this.context;if(s.DEPRECATED_NETWORKS.includes(t.chainId)){return o("connectingToDeprecatedNetwork",[t.nickname||t.type])}switch(a){case s.NETWORK_TYPES.MAINNET:return o("connectingToMainnet");case s.NETWORK_TYPES.GOERLI:return o("connectingToGoerli");case s.NETWORK_TYPES.SEPOLIA:return o("connectingToSepolia");case s.NETWORK_TYPES.LINEA_GOERLI:return o("connectingToLineaGoerli");case s.NETWORK_TYPES.LINEA_MAINNET:return o("connectingToLineaMainnet");default:return o("connectingTo",[n])}})),m(this,"renderConnectionFailureNotification",((e,t=!1)=>{const{showNetworkDropdown:n,setProviderArgs:o,setProviderType:r}=this.props;return a.default.createElement(l.default,{onClose:()=>{window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1})},centerTitle:!0,title:a.default.createElement(c.Icon,{name:c.IconName.Danger,size:c.IconSize.Xl,color:u.IconColor.warningDefault})},a.default.createElement(c.Text,{variant:u.TextVariant.bodyLgMedium,textAlign:u.TextAlign.Center,margin:[0,4,4,4]},e),a.default.createElement(d.default,{display:u.DISPLAY.FLEX,padding:4,gap:2},a.default.createElement(c.ButtonSecondary,{onClick:()=>{window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1}),n()},variant:u.TextVariant.bodySm,block:!0},this.context.t("switchNetworks")),t?a.default.createElement(c.ButtonPrimary,{onClick:()=>{this.setState({showErrorScreen:!1}),r(...o),window.clearTimeout(this.cancelCallTimeout),this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND)},variant:u.TextVariant.bodySm,block:!0},this.context.t("tryAgain")):null))})),m(this,"renderDeprecatedRpcUrlWarning",(()=>this.renderConnectionFailureNotification(this.context.t("currentRpcUrlDeprecated"),!1))),m(this,"renderErrorScreenContent",(()=>{const{providerConfig:e}=this.props;return this.renderConnectionFailureNotification(this.context.t("networkSwitchConnectionError",[e.nickname]),!0)})),m(this,"cancelCall",(()=>{const{isNetworkLoading:e}=this.props;e&&this.setState({showErrorScreen:!0})})),m(this,"componentDidUpdate",(e=>{const{providerConfig:t}=this.props,{providerConfig:n}=e;t.type!==n.type&&(window.clearTimeout(this.cancelCallTimeout),this.setState({showErrorScreen:!1}),this.cancelCallTimeout=setTimeout(this.cancelCall,this.props.cancelTime||15*i.SECOND))})),m(this,"componentWillUnmount",(()=>{window.clearTimeout(this.cancelCallTimeout)}))}render(){const{rollbackToPreviousProvider:e,showDeprecatedRpcUrlWarning:t}=this.props;let n;return n=this.state.showErrorScreen?this.renderErrorScreenContent():t?this.renderDeprecatedRpcUrlWarning():this.getConnectingLabel(this.props.loadingMessage),a.default.createElement(r.default,{header:a.default.createElement("div",{className:"page-container__header-close",onClick:e}),showLoadingSpinner:!this.state.showErrorScreen,loadingMessage:n})}}n.default=g,m(g,"contextTypes",{t:o.default.func}),m(g,"propTypes",{loadingMessage:o.default.string,cancelTime:o.default.number,providerConfig:o.default.object,providerId:o.default.oneOfType([o.default.string,o.default.number]),showNetworkDropdown:o.default.func,setProviderArgs:o.default.array,setProviderType:o.default.func,rollbackToPreviousProvider:o.default.func,isNetworkLoading:o.default.bool,showDeprecatedRpcUrlWarning:o.default.bool})}}},{package:"$root$",file:"ui/components/app/loading-network-screen/loading-network-screen.component.js"}],[4254,{"../../../../shared/constants/network":4064,"../../../ducks/metamask/metamask":4884,"../../../selectors":5306,"../../../store/actions":5313,"./loading-network-screen.component":4253,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-redux"),r=e("../../../../shared/constants/network"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("../../../store/actions")),s=e("../../../selectors"),l=e("../../../ducks/metamask/metamask"),c=(a=e("./loading-network-screen.component"))&&a.__esModule?a:{default:a};function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=["0x3","0x2a","0x4"];n.default=(0,o.connect)((e=>{const{loadingMessage:t}=e.appState,n=(0,l.getProviderConfig)(e),{rpcUrl:a,chainId:o,ticker:i,nickname:c,type:u}=n,p=u===r.NETWORK_TYPES.RPC?[a,o,i,c]:[u],f=o,m=d.includes(f),g=a&&new URL(a).host.endsWith(".infura.io"),h=m&&g;let y=c;if(y===undefined){const t=(0,s.getAllEnabledNetworks)(e).find((e=>e.chainId===o));t&&(y=t.nickname)}return{isNetworkLoading:(0,s.isNetworkLoading)(e),loadingMessage:t,setProviderArgs:p,providerConfig:{...n,nickname:y},providerId:(0,s.getNetworkIdentifier)(e),showDeprecatedRpcUrlWarning:h}}),(e=>({setProviderType:t=>{e(i.setProviderType(t))},rollbackToPreviousProvider:()=>e(i.rollbackToPreviousProvider()),showNetworkDropdown:()=>e(i.toggleNetworkMenu())})))(c.default)}}},{package:"$root$",file:"ui/components/app/loading-network-screen/loading-network-screen.container.js"}],[4255,{"./metamask-template-renderer":4256,"./section-shape":4258},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SectionShape",{enumerable:!0,get:function(){return r.SectionShape}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./metamask-template-renderer"))&&a.__esModule?a:{default:a},r=e("./section-shape")}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/index.js"}],[4256,{"./safe-component-list":4257,"./section-shape":4258,lodash:3437,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("lodash"),r=e("./safe-component-list"),i=e("./section-shape");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}function c(e){const{element:t}=e,n=r.safeComponentList[t];if(!n)throw new Error(`${t} is not in the safe component list for MetaMask template renderer`);return n}const u=({sections:e})=>{if(!e)return null;if("string"==typeof e)return e;if(e&&"object"==typeof e&&!Array.isArray(e)){const t=c(e);return a.default.createElement(t,e.props,"object"==typeof e.children?a.default.createElement(u,{sections:e.children}):null==e?void 0:e.children)}return a.default.createElement(a.default.Fragment,null,e.reduce(((e,t)=>{if(t===undefined||!0===(null==t?void 0:t.hide))return e;if("string"==typeof t)e.push(t);else{if(!t.key)throw new Error("When using array syntax in MetaMask Template Language, you must specify a key for each child of the array");if("object"==typeof(null==t?void 0:t.children))e.push(a.default.createElement(u,{sections:t,key:t.key}));else{const n=c(t);e.push(a.default.createElement(n,l({key:t.key},t.props),null==t?void 0:t.children))}}return e}),[]))};u.propTypes={sections:i.ValidChildren};n.default=(0,a.memo)(u,((e,t)=>(0,o.isEqual)(e.sections,t.sections)))}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/metamask-template-renderer.js"}],[4257,{"../../../pages/confirmation/components/confirmation-network-switch":5038,"../../../pages/create-snap-account":5064,"../../../pages/remove-snap-account":5112,"../../../pages/snap-account-redirect":5212,"../../component-library":4562,"../../multichain":4677,"../../ui/actionable-message/actionable-message":4725,"../../ui/box":4729,"../../ui/button":4733,"../../ui/chip":4740,"../../ui/definition-list":4749,"../../ui/popover":4819,"../../ui/spinner":4837,"../../ui/text-field":4845,"../../ui/textarea/textarea":4848,"../../ui/tooltip/tooltip":4857,"../../ui/truncated-definition-list":4858,"../../ui/typography":4860,"../../ui/url-icon":4865,"../confirm/info/row":4177,"../metamask-translation":4259,"../network-display":4314,"../snaps/copyable":4385,"../snaps/snap-authorship-header":4394,"../snaps/snap-delineator":4399,"../snaps/snap-ui-image":4417,"../snaps/snap-ui-markdown":4419},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.safeComponentList=void 0;var a=S(e("../../ui/button")),o=S(e("../../ui/chip")),r=S(e("../../ui/definition-list")),i=S(e("../../ui/truncated-definition-list")),s=S(e("../../ui/popover")),l=S(e("../../ui/typography")),c=S(e("../../ui/box")),u=S(e("../metamask-translation")),d=S(e("../network-display")),p=S(e("../../ui/textarea/textarea")),f=S(e("../../ui/text-field")),m=S(e("../../../pages/confirmation/components/confirmation-network-switch")),g=S(e("../../ui/url-icon")),h=S(e("../../ui/tooltip/tooltip")),y=e("../../component-library"),b=S(e("../../ui/actionable-message/actionable-message")),v=e("../../multichain"),_=e("../confirm/info/row"),T=e("../snaps/snap-delineator"),k=e("../snaps/copyable"),x=S(e("../../ui/spinner")),w=e("../snaps/snap-ui-markdown"),E=e("../snaps/snap-ui-image"),C=e("../../../pages/create-snap-account"),O=e("../../../pages/remove-snap-account"),M=e("../../../pages/snap-account-redirect"),P=S(e("../snaps/snap-authorship-header"));function S(e){return e&&e.__esModule?e:{default:e}}n.safeComponentList={a:"a",ActionableMessage:b.default,AccountListItem:v.AccountListItem,AvatarIcon:y.AvatarIcon,b:"b",Box:c.default,Button:a.default,Chip:o.default,ConfirmationNetworkSwitch:m.default,DefinitionList:r.default,div:"div",i:"i",MetaMaskTranslation:u.default,NetworkDisplay:d.default,p:"p",Popover:s.default,span:"span",Text:y.Text,TextArea:p.default,TextField:f.default,Tooltip:h.default,TruncatedDefinitionList:i.default,Typography:l.default,UrlIcon:g.default,Copyable:k.Copyable,SnapDelineator:T.SnapDelineator,SnapUIMarkdown:w.SnapUIMarkdown,SnapUIImage:E.SnapUIImage,Spinner:x.default,ConfirmInfoRow:_.ConfirmInfoRow,ConfirmInfoRowAddress:_.ConfirmInfoRowAddress,CreateSnapAccount:C.CreateSnapAccount,RemoveSnapAccount:O.RemoveSnapAccount,SnapAuthorshipHeader:P.default,SnapAccountRedirect:M.SnapAccountRedirect,SnapAccountCard:O.SnapAccountCard}}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/safe-component-list.js"}],[4258,{"prop-types":3575},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ValidChildren=n.SectionShape=void 0;var a,o=(a=e("prop-types"))&&a.__esModule?a:{default:a};const r=n.SectionShape={props:o.default.object,element:o.default.string,key:o.default.string},i=n.ValidChildren=o.default.oneOfType([o.default.string,o.default.shape(r),o.default.arrayOf(o.default.oneOfType([o.default.shape(r),o.default.string]))]);r.children=i}}},{package:"$root$",file:"ui/components/app/metamask-template-renderer/section-shape.js"}],[4259,{"./metamask-translation":4260},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./metamask-translation"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/metamask-translation/index.js"}],[4260,{"../../../hooks/useI18nContext":4959,"../metamask-template-renderer":4255,"../metamask-template-renderer/section-shape":4258,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var a=l(e("react")),o=l(e("prop-types")),r=e("../../../hooks/useI18nContext"),i=l(e("../metamask-template-renderer")),s=e("../metamask-template-renderer/section-shape");function l(e){return e&&e.__esModule?e:{default:e}}function c({translationKey:e,variables:t}){return(0,r.useI18nContext)()(e,null==t?void 0:t.map((t=>{if("object"==typeof t&&!Array.isArray(t)&&t.element){var n,o;if(!t.key)throw new Error(`When using MetaMask Template Language in a MetaMaskTranslation variable, you must provide a key for the section regardless of syntax.\n            Section with element '${t.element}' for translationKey: '${e}' has no key property`);if(t.children&&Array.isArray(t.children)&&t.children.length>2)throw new Error("MetaMaskTranslation only renders templates with a single section and maximum two children");if((null===(n=t.children)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.children)!==undefined&&"string"!=typeof t.children[0].children||(null===(o=t.children)||void 0===o||null===(o=o[1])||void 0===o?void 0:o.children)!==undefined&&"string"!=typeof t.children[1].children)throw new Error("MetaMaskTranslation does not allow for component trees of non trivial depth");return a.default.createElement(i.default,{key:`${e}-${t.key}`,sections:t})}return t})))}c.propTypes={translationKey:o.default.string.isRequired,variables:o.default.arrayOf(o.default.oneOfType([o.default.string,o.default.number,o.default.shape(s.SectionShape)]))}}}},{package:"$root$",file:"ui/components/app/metamask-translation/metamask-translation.js"}],[4261,{"./modal-content":4262,"./modal.component":4264},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ModalContent",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=r(e("./modal.component")),o=r(e("./modal-content"));function r(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/modal/index.js"}],[4262,{"./modal-content.component":4263},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./modal-content.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modal/modal-content/index.js"}],[4263,{"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}class s extends o.PureComponent{render(){const{title:e,description:t}=this.props;return o.default.createElement("div",{className:"modal-content"},e?o.default.createElement("div",{className:"modal-content__title"},e):null,t&&o.default.createElement("div",{className:"modal-content__description"},t))}}n.default=s,function(e,t,n){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(s,"propTypes",{title:r.default.string,description:r.default.string})}}},{package:"$root$",file:"ui/components/app/modal/modal-content/modal-content.component.js"}],[4264,{"../../ui/button":4733,classnames:2468,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=s(e("prop-types")),r=s(e("classnames")),i=s(e("../../ui/button"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.PureComponent{render(){const{children:e,headerText:t,onClose:n,onSubmit:o,submitType:s,submitText:l,submitDisabled:c,onCancel:u,cancelType:d,cancelText:p,contentClass:f,containerClass:m,hideFooter:g}=this.props;return a.default.createElement("div",{className:(0,r.default)("modal-container",m)},t&&a.default.createElement("div",{className:"modal-container__header"},a.default.createElement("div",{className:"modal-container__header-text"},t),a.default.createElement("div",{className:"modal-container__header-close","data-testid":"modal-header-close",onClick:n})),a.default.createElement("div",{className:(0,r.default)("modal-container__content",f)},e),g?null:a.default.createElement("div",{className:"modal-container__footer"},u&&a.default.createElement(i.default,{type:d,onClick:u,className:"modal-container__footer-button"},p),a.default.createElement(i.default,{type:s,onClick:o,disabled:c,className:"modal-container__footer-button"},l)))}}n.default=u,c(u,"propTypes",{children:o.default.node,contentClass:o.default.string,containerClass:o.default.string,headerText:o.default.string,onClose:o.default.func,onSubmit:o.default.func,submitType:o.default.string,submitText:o.default.string,submitDisabled:o.default.bool,hideFooter:o.default.bool,onCancel:o.default.func,cancelType:o.default.string,cancelText:o.default.string}),c(u,"defaultProps",{submitType:"primary",cancelType:"secondary"})}}},{package:"$root$",file:"ui/components/app/modal/modal.component.js"}],[4265,{"../../modal":4261,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=l(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=l(e("../../modal"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends o.PureComponent{constructor(...e){super(...e),c(this,"handleDelete",(async()=>{await this.props.removeNetworkConfiguration(this.props.target),this.props.onConfirm(),this.props.hideModal()}))}render(){const{t:e}=this.context,{networkNickname:t}=this.props;return o.default.createElement(i.default,{onSubmit:this.handleDelete,onCancel:()=>this.props.hideModal(),submitText:e("delete"),cancelText:e("cancel"),submitType:"danger-primary"},o.default.createElement(i.ModalContent,{title:e("deleteNetworkTitle",[t]),description:e("deleteNetworkIntro")}))}}n.default=u,c(u,"propTypes",{hideModal:r.default.func.isRequired,removeNetworkConfiguration:r.default.func.isRequired,onConfirm:r.default.func.isRequired,target:r.default.string.isRequired,networkNickname:r.default.string.isRequired}),c(u,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/confirm-delete-network.component.js"}],[4266,{"../../../../helpers/higher-order-components/with-modal-props":4911,"../../../../selectors":5306,"../../../../store/actions":5313,"./confirm-delete-network.component":4265,"react-redux":3753,redux:3817},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),o=e("redux"),r=c(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=e("../../../../selectors"),l=c(e("./confirm-delete-network.component"));function c(e){return e&&e.__esModule?e:{default:e}}n.default=(0,o.compose)(r.default,(0,a.connect)(((e,t)=>({networkNickname:(0,s.getNetworkConfigurations)(e)[t.target].nickname})),(e=>({removeNetworkConfiguration:t=>e((0,i.removeNetworkConfiguration)(t))}))))(l.default)}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/confirm-delete-network.container.js"}],[4267,{"./confirm-delete-network.container":4266},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./confirm-delete-network.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/confirm-delete-network/index.js"}],[4268,{"../../../../../shared/constants/metametrics":4063,"../../../../helpers/constants/zendesk-url":4903,"../../../../helpers/utils/util":4934,"../../../ui/identicon":4784,"../../modal":4261,"@metamask/etherscan-link":1188,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=d(e("prop-types")),r=e("@metamask/etherscan-link"),i=d(e("../../modal")),s=e("../../../../helpers/utils/util"),l=d(e("../../../ui/identicon")),c=e("../../../../../shared/constants/metametrics"),u=d(e("../../../../helpers/constants/zendesk-url"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends a.Component{constructor(...e){super(...e),f(this,"handleRemove",(()=>{this.props.removeAccount(this.props.identity.address).then((()=>this.props.hideModal()))})),f(this,"handleCancel",(()=>{this.props.hideModal()}))}renderSelectedAccount(){const{t:e}=this.context,{identity:t,rpcPrefs:n,chainId:o}=this.props;return a.default.createElement("div",{className:"confirm-remove-account__account"},a.default.createElement("div",{className:"confirm-remove-account__account__identicon"},a.default.createElement(l.default,{address:t.address,diameter:32})),a.default.createElement("div",{className:"confirm-remove-account__account__name"},a.default.createElement("span",{className:"confirm-remove-account__account__label"},e("name")),a.default.createElement("span",{className:"account_value"},t.name)),a.default.createElement("div",{className:"confirm-remove-account__account__address"},a.default.createElement("span",{className:"confirm-remove-account__account__label"},e("publicAddress")),a.default.createElement("span",{className:"account_value"},(0,s.addressSummary)(t.address,4,4))),a.default.createElement("div",{className:"confirm-remove-account__account__link"},a.default.createElement("a",{onClick:()=>{const e=(0,r.getAccountLink)(t.address,o,n);this.context.trackEvent({category:c.MetaMetricsEventCategory.Accounts,event:"Clicked Block Explorer Link",properties:{link_type:"Account Tracker",action:"Remove Account",block_explorer_domain:(0,s.getURLHostName)(e)}}),global.platform.openTab({url:e})},target:"_blank",rel:"noopener noreferrer",title:e("etherscanView")},a.default.createElement("i",{className:"fa fa-share-square",style:{color:"var(--color-icon-muted)"},title:e("etherscanView")}))))}render(){const{t:e}=this.context;return a.default.createElement(i.default,{headerText:`${e("removeAccount")}?`,onClose:this.handleCancel,onSubmit:this.handleRemove,onCancel:this.handleCancel,submitText:e("remove"),cancelText:e("nevermind")},a.default.createElement("div",null,this.renderSelectedAccount(),a.default.createElement("div",{className:"confirm-remove-account__description"},e("removeAccountDescription"),a.default.createElement("a",{className:"confirm-remove-account__link",rel:"noopener noreferrer",target:"_blank",href:u.default.IMPORTED_ACCOUNTS},e("learnMore")))))}}n.default=m,f(m,"propTypes",{hideModal:o.default.func.isRequired,removeAccount:o.default.func.isRequired,identity:o.default.object.isRequired,chainId:o.default.string.isRequired,rpcPrefs:o.default.object.isRequired}),f(m,"contextTypes",{t:o.default.func,trackEvent:o.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/confirm-remove-account.component.js"}],[4269,{"../../../../helpers/higher-order-components/with-modal-props":4911,"../../../../selectors":5306,"../../../../store/actions":5313,"./confirm-remove-account.component":4268,"react-redux":3753,redux:3817},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),o=e("redux"),r=c(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../selectors"),s=e("../../../../store/actions"),l=c(e("./confirm-remove-account.component"));function c(e){return e&&e.__esModule?e:{default:e}}n.default=(0,o.compose)(r.default,(0,a.connect)((e=>({chainId:(0,i.getCurrentChainId)(e),rpcPrefs:(0,i.getRpcPrefsForCurrentProvider)(e)})),(e=>({removeAccount:t=>e((0,s.removeAccount)(t))}))))(l.default)}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/confirm-remove-account.container.js"}],[4270,{"./confirm-remove-account.container":4269},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./confirm-remove-account.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/confirm-remove-account/index.js"}],[4271,{"../../modal":4261,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=l(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=l(e("../../modal"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends o.PureComponent{constructor(...e){super(...e),c(this,"handleReset",(()=>{this.props.resetAccount().then((()=>this.props.hideModal()))}))}render(){const{t:e}=this.context;return o.default.createElement(i.default,{onSubmit:this.handleReset,onCancel:()=>this.props.hideModal(),submitText:e("clear"),cancelText:e("nevermind"),submitType:"danger-primary"},o.default.createElement(i.ModalContent,{title:`${e("clearActivity")}?`,description:e("clearActivityDescription")}))}}n.default=u,c(u,"propTypes",{hideModal:r.default.func.isRequired,resetAccount:r.default.func.isRequired}),c(u,"contextTypes",{t:r.default.func})}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/confirm-reset-account.component.js"}],[4272,{"../../../../helpers/higher-order-components/with-modal-props":4911,"../../../../store/actions":5313,"./confirm-reset-account.component":4271,"react-redux":3753,redux:3817},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),o=e("redux"),r=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../store/actions"),s=l(e("./confirm-reset-account.component"));function l(e){return e&&e.__esModule?e:{default:e}}n.default=(0,o.compose)(r.default,(0,a.connect)(null,(e=>({resetAccount:()=>e((0,i.resetAccount)())}))))(s.default)}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/confirm-reset-account.container.js"}],[4273,{"./confirm-reset-account.container":4272},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./confirm-reset-account.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/confirm-reset-account/index.js"}],[4274,{"../../../../../shared/constants/transaction":4076,"../../../../helpers/constants/design-system":4892,"../../../../hooks/useCopyToClipboard":4952,"../../../../hooks/useI18nContext":4959,"../../../../hooks/usePetnamesEnabled":4966,"../../../../pages/send/send.utils":5156,"../../../../selectors":5306,"../../../component-library":4562,"../../../ui/box":4729,"../../../ui/button/button.component":4732,"../../../ui/identicon":4784,"../../../ui/nft-collection-image/nft-collection-image":4808,"../../../ui/popover":4819,"../../../ui/tooltip/tooltip":4857,"../../name/name":4311,"@metamask/etherscan-link":1188,"@metamask/name-controller":1328,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=w;var a=x(e("react")),o=x(e("prop-types")),r=e("@metamask/etherscan-link"),i=e("react-redux"),s=e("@metamask/name-controller"),l=x(e("../../../ui/box")),c=x(e("../../../ui/button/button.component")),u=x(e("../../../ui/tooltip/tooltip")),d=e("../../../../hooks/useI18nContext"),p=x(e("../../../ui/identicon")),f=e("../../../../pages/send/send.utils"),m=x(e("../../../ui/popover")),g=e("../../../../helpers/constants/design-system"),h=e("../../../../hooks/useCopyToClipboard"),y=e("../../../../selectors"),b=e("../../../../../shared/constants/transaction"),v=x(e("../../../ui/nft-collection-image/nft-collection-image")),_=e("../../../component-library"),T=x(e("../../name/name")),k=e("../../../../hooks/usePetnamesEnabled");function x(e){return e&&e.__esModule?e:{default:e}}function w({onClose:e,tokenName:t,tokenAddress:n,toAddress:o,chainId:x,rpcPrefs:w,tokenId:E,assetName:C,assetStandard:O,isContractRequestingSignature:M}){var P,S;const j=(0,d.useI18nContext)(),[N,I]=(0,h.useCopyToClipboard)(),[D,A]=(0,h.useCopyToClipboard)(),R=(0,k.usePetnamesEnabled)(),F=(0,i.useSelector)((e=>({data:(0,y.getAddressBookEntry)(e,o)}))),L=O===b.TokenStandard.ERC721||O===b.TokenStandard.ERC1155||C&&E||t&&E;return a.default.createElement(m.default,{className:"contract-details-modal"},a.default.createElement(l.default,{paddingTop:6,paddingRight:4,paddingBottom:8,paddingLeft:4,className:"contract-details-modal__content"},a.default.createElement(_.Text,{fontWeight:g.FontWeight.Bold,variant:g.TextVariant.bodyMd,as:"h5",display:g.Display.Flex},j("contractTitle")),a.default.createElement(_.Text,{variant:g.TextVariant.bodySm,as:"h6",display:g.Display.Flex,color:g.TextColor.textAlternative,marginTop:2},j("contractDescription")),!M&&a.default.createElement(a.default.Fragment,null,a.default.createElement(_.Text,{variant:g.TextVariant.bodySm,as:"h6",display:g.Display.Flex,marginTop:4,marginBottom:2},j(L?"contractNFT":"contractToken")),a.default.createElement(l.default,{display:g.Display.Flex,borderRadius:g.Size.SM,borderStyle:g.BorderStyle.solid,borderColor:g.BorderColor.borderDefault,className:"contract-details-modal__content__contract"},L?a.default.createElement(l.default,{margin:4},a.default.createElement(v.default,{assetName:C,tokenAddress:n})):a.default.createElement(p.default,{className:"contract-details-modal__content__contract__identicon",address:n,diameter:24}),a.default.createElement(l.default,{"data-testid":"recipient"},a.default.createElement(_.Text,{fontWeight:g.FontWeight.Bold,variant:g.TextVariant.bodyMd,as:"h5",marginTop:4},t||(0,f.ellipsify)(n)),t&&a.default.createElement(_.Text,{variant:g.TextVariant.bodySm,as:"h6",display:g.Display.Flex,color:g.TextColor.textAlternative,marginBottom:4},(0,f.ellipsify)(n))),a.default.createElement(l.default,{alignItems:g.AlignItems.center,marginLeft:"auto",marginRight:4,gap:2},a.default.createElement(u.default,{position:"top",title:j(N?"copiedExclamation":"copyToClipboard")},a.default.createElement(_.ButtonIcon,{display:g.Display.Flex,iconName:N?_.IconName.CopySuccess:_.IconName.Copy,onClick:()=>I(n),color:g.Color.iconMuted,ariaLabel:j(N?"copiedExclamation":"copyToClipboard")})),a.default.createElement(u.default,{position:"top",title:j("openInBlockExplorer")},a.default.createElement(_.ButtonIcon,{display:g.Display.Flex,iconName:_.IconName.Export,color:g.Color.iconMuted,onClick:()=>{const e=(0,r.getAccountLink)(n,x,{blockExplorerUrl:(null==w?void 0:w.blockExplorerUrl)??null},null);global.platform.openTab({url:e})},ariaLabel:j("openInBlockExplorer")}))))),a.default.createElement(_.Text,{variant:g.TextVariant.bodySm,as:"h6",display:g.Display.Flex,marginTop:4,marginBottom:2},L&&j("contractRequestingAccess"),M&&j("contractRequestingSignature"),!L&&!M&&j("contractRequestingSpendingCap")),a.default.createElement(l.default,{display:g.Display.Flex,borderRadius:g.Size.SM,borderStyle:g.BorderStyle.solid,borderColor:g.BorderColor.borderDefault,alignItems:g.AlignItems.center,className:"contract-details-modal__content__contract"},a.default.createElement(p.default,{className:"contract-details-modal__content__contract__identicon",diameter:24,address:o}),a.default.createElement(l.default,{"data-testid":"recipient"},R?a.default.createElement(_.Text,{variant:g.TextVariant.bodyMd,as:"h5"},a.default.createElement(T.default,{value:o,type:s.NameType.ETHEREUM_ADDRESS})):a.default.createElement(_.Text,{fontWeight:g.FontWeight.Bold,variant:g.TextVariant.bodyMd,as:"h5"},(null==F||null===(P=F.data)||void 0===P?void 0:P.name)||(0,f.ellipsify)(o)),!R&&(null==F||null===(S=F.data)||void 0===S?void 0:S.name)&&a.default.createElement(_.Text,{variant:g.TextVariant.bodySm,as:"h6",display:g.Display.Flex,color:g.TextColor.textAlternative,marginBottom:4},(0,f.ellipsify)(o))),a.default.createElement(l.default,{alignItems:g.AlignItems.center,marginLeft:"auto",marginRight:4,gap:2},a.default.createElement(u.default,{position:"top",title:j(D?"copiedExclamation":"copyToClipboard")},a.default.createElement(_.ButtonIcon,{display:g.Display.Flex,iconName:D?_.IconName.CopySuccess:_.IconName.Copy,onClick:()=>A(o),color:g.Color.iconMuted,ariaLabel:j(N?"copiedExclamation":"copyToClipboard")})),a.default.createElement(u.default,{position:"top",title:j("openInBlockExplorer")},a.default.createElement(_.ButtonIcon,{display:g.Display.Flex,iconName:_.IconName.Export,color:g.Color.iconMuted,onClick:()=>{const e=(0,r.getAccountLink)(o,x,{blockExplorerUrl:(null==w?void 0:w.blockExplorerUrl)??null},null);global.platform.openTab({url:e})},ariaLabel:j("openInBlockExplorer")}))))),a.default.createElement(l.default,{display:g.Display.Flex,paddingTop:6,paddingRight:4,paddingBottom:6,paddingLeft:4},a.default.createElement(c.default,{type:"primary",onClick:()=>e()},j("recoveryPhraseReminderConfirm"))))}w.propTypes={onClose:o.default.func,tokenName:o.default.string,tokenAddress:o.default.string,toAddress:o.default.string,chainId:o.default.string,rpcPrefs:o.default.object,tokenId:o.default.string,assetStandard:o.default.string,assetName:o.default.string,isContractRequestingSignature:o.default.bool}}}},{package:"$root$",file:"ui/components/app/modals/contract-details-modal/contract-details-modal.js"}],[4275,{"./contract-details-modal":4274},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./contract-details-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/contract-details-modal/index.js"}],[4276,{"../../../../../shared/modules/string-utils":4104,"../../../../ducks/metamask/metamask":4884,"../../../../helpers/constants/design-system":4892,"../../../../helpers/constants/routes":4897,"../../../../helpers/higher-order-components/with-modal-props":4911,"../../../../hooks/useI18nContext":4959,"../../../../store/actions":5313,"../../../ui/typography":4860,"../../modal":4261,"prop-types":3575,react:3788,"react-redux":3753,"react-router-dom":3773},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=h(e("react")),o=h(e("prop-types")),r=e("react-router-dom"),i=e("react-redux"),s=h(e("../../modal")),l=h(e("../../../ui/typography")),c=e("../../../../helpers/constants/design-system"),u=h(e("../../../../helpers/higher-order-components/with-modal-props")),d=e("../../../../hooks/useI18nContext"),p=e("../../../../helpers/constants/routes"),f=e("../../../../ducks/metamask/metamask"),m=e("../../../../store/actions"),g=e("../../../../../shared/modules/string-utils");function h(e){return e&&e.__esModule?e:{default:e}}const y=({hideModal:e,tokenAddress:t})=>{const n=(0,r.useHistory)(),o=(0,d.useI18nContext)(),u=(0,i.useDispatch)(),h=(0,i.useSelector)(f.getNfts).find((({address:e})=>(0,g.isEqualCaseInsensitive)(e,t)));return a.default.createElement(s.default,{onSubmit:async()=>{if(h){await u((0,m.ignoreTokens)({tokensToIgnore:t,dontShowLoadingIndicator:!0}));const{tokenId:e}=h;n.push({pathname:`${p.ASSET_ROUTE}/${t}/${e}`})}else u((0,m.showImportNftsModal)({tokenAddress:t,ignoreErc20Token:!0}));e()},submitText:o("yes"),onCancel:()=>e(),cancelText:o("cancel")},a.default.createElement("div",{className:"convert-token-to-nft-modal"},a.default.createElement(l.default,{variant:c.TypographyVariant.H6,boxProps:{marginTop:2}},o(h?"convertTokenToNFTExistDescription":"convertTokenToNFTDescription"))))};y.propTypes={hideModal:o.default.func.isRequired,tokenAddress:o.default.string};n.default=(0,u.default)(y)}}},{package:"$root$",file:"ui/components/app/modals/convert-token-to-nft-modal/convert-token-to-nft-modal.js"}],[4277,{"../../../../helpers/constants/design-system":4892,"../../../../helpers/constants/zendesk-url":4903,"../../../../helpers/higher-order-components/with-modal-props":4911,"../../../../hooks/useI18nContext":4959,"../../../component-library":4562,"../../../ui/text-field":4845,"../../modal":4261,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=p(e("prop-types")),r=p(e("../../modal")),i=p(e("../../../ui/text-field")),s=e("../../../../helpers/constants/design-system"),l=p(e("../../../../helpers/higher-order-components/with-modal-props")),c=e("../../../../hooks/useI18nContext"),u=p(e("../../../../helpers/constants/zendesk-url")),d=e("../../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const m=({hideModal:e,customNonceValue:t,nextNonce:n,updateCustomNonce:o,getNextNonce:l})=>{const[p,f]=(0,a.useState)(""),m=(0,c.useI18nContext)();return a.default.createElement(r.default,{onSubmit:()=>{o(""===p?t:p),l(),e()},submitText:m("save"),onCancel:()=>e(),cancelText:m("cancel"),contentClass:"customize-nonce-modal-content",containerClass:"customize-nonce-modal-container"},a.default.createElement("div",{className:"customize-nonce-modal"},a.default.createElement("div",{className:"customize-nonce-modal__main-header"},a.default.createElement(d.Text,{className:"customize-nonce-modal__main-title",variant:s.TextVariant.headingSm,as:"h4"},m("editNonceField")),a.default.createElement(d.ButtonIcon,{iconName:d.IconName.Close,className:"customize-nonce-modal__close",size:d.ButtonIconSize.Sm,ariaLabel:m("close"),onClick:e})),a.default.createElement(d.Box,{marginTop:2,display:s.Display.InlineFlex,alignItems:s.AlignItems.center},a.default.createElement(d.Text,{variant:s.TextVariant.bodyMd,as:"h6"},m("editNonceMessage"),a.default.createElement(d.ButtonLink,{className:"customize-nonce-modal__link",rel:"noopener noreferrer",target:"_blank",href:u.default.CUSTOMIZE_NONCE},m("learnMoreUpperCase")))),a.default.createElement(d.Box,{marginTop:4},a.default.createElement(d.Box,{alignItems:s.AlignItems.center,display:s.Display.Flex},a.default.createElement(d.Text,{variant:s.TextVariant.bodyMdBold,as:"h6",width:s.BlockSize.FiveSixths},m("editNonceField")),a.default.createElement(d.Box,{width:s.BlockSize.OneSixth},a.default.createElement(d.ButtonLink,{className:"customize-nonce-modal__reset","data-testid":"customize-nonce-reset",onClick:()=>{f(n)}},m("reset")))),a.default.createElement("div",{className:"customize-nonce-modal__input"},a.default.createElement(i.default,{type:"number","data-testid":"custom-nonce-input",min:"0",placeholder:t||"number"==typeof n&&n.toString(),onChange:e=>{f(e.target.value)},fullWidth:!0,margin:"dense",value:p,id:"custom-nonce-id"})))))};m.propTypes={hideModal:o.default.func.isRequired,customNonceValue:o.default.string,nextNonce:o.default.number,updateCustomNonce:o.default.func,getNextNonce:o.default.func};n.default=(0,l.default)(m)}}},{package:"$root$",file:"ui/components/app/modals/customize-nonce/customize-nonce.component.js"}],[4278,{"./customize-nonce.component":4277},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./customize-nonce.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/customize-nonce/index.js"}],[4279,{"../../../../../shared/lib/transactions-controller-utils":4084,"../../../component-library":4562,"../../../ui/identicon":4784,"../../../ui/text-field":4845,"../../modal":4261,"bignumber.js":2353,classnames:2468,loglevel:3447,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=f(e("prop-types")),r=f(e("loglevel")),i=f(e("classnames")),s=f(e("bignumber.js")),l=f(e("../../modal")),c=f(e("../../../ui/identicon")),u=f(e("../../../ui/text-field")),d=e("../../../../../shared/lib/transactions-controller-utils"),p=e("../../../component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=new s.default(2).pow(256).minus(1).toString(10);class y extends a.PureComponent{constructor(...e){super(...e),g(this,"state",{customSpendLimit:this.props.customTokenAmount||"",selectedOptionIsUnlimited:!this.props.customTokenAmount})}renderModalContent(e){const{t:t}=this.context,{hideModal:n,selectedAccount:o,tokenAmount:r,tokenSymbol:l,tokenBalance:f,customTokenAmount:m,origin:g}=this.props,{name:y,address:b}=o||{},{selectedOptionIsUnlimited:v}=this.state;return a.default.createElement("div",{className:"edit-approval-permission"},a.default.createElement("div",{className:"edit-approval-permission__header"},a.default.createElement("div",{className:"edit-approval-permission__title"},t("editPermission")),a.default.createElement(p.ButtonIcon,{iconName:p.IconName.Close,size:p.ButtonIconSize.Lg,className:"edit-approval-permission__header__close",onClick:n})),a.default.createElement("div",{className:"edit-approval-permission__account-info"},a.default.createElement("div",{className:"edit-approval-permission__account-info__account"},a.default.createElement(c.default,{address:b,diameter:32}),a.default.createElement("div",{className:"edit-approval-permission__name-and-balance-container"},a.default.createElement("div",{className:"edit-approval-permission__account-info__name"},y),a.default.createElement("div",null,t("balance")))),a.default.createElement("div",{className:"edit-approval-permission__account-info__balance"},`${(0,d.toPrecisionWithoutTrailingZeros)(f,9)} ${l}`)),a.default.createElement("div",{className:"edit-approval-permission__edit-section"},a.default.createElement("div",{className:"edit-approval-permission__edit-section__title"},t("spendLimitPermission")),a.default.createElement("div",{className:"edit-approval-permission__edit-section__description"},t("allowWithdrawAndSpend",[g])),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option"},a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button",onClick:()=>this.setState({selectedOptionIsUnlimited:!0})},a.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__radio-button-outline":!v,"edit-approval-permission__edit-section__radio-button-outline--selected":v})}),a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-fill"}),v&&a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-dot"})),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-text"},a.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__option-label":!v,"edit-approval-permission__edit-section__option-label--selected":v})},new s.default(r).equals(new s.default(h))?t("unlimited"):t("proposedApprovalLimit")),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-description"},t("spendLimitRequestedBy",[g])),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-value"},`${Number(r)} ${l}`))),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option"},a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button",onClick:()=>this.setState({selectedOptionIsUnlimited:!1})},a.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__radio-button-outline":v,"edit-approval-permission__edit-section__radio-button-outline--selected":!v})}),a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-fill"}),!v&&a.default.createElement("div",{className:"edit-approval-permission__edit-section__radio-button-dot"})),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-text"},a.default.createElement("div",{className:(0,i.default)({"edit-approval-permission__edit-section__option-label":v,"edit-approval-permission__edit-section__option-label--selected":!v})},t("customSpendLimit")),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-description"},t("enterMaxSpendLimit")),a.default.createElement("div",{className:"edit-approval-permission__edit-section__option-input"},a.default.createElement(u.default,{type:"number",placeholder:`${Number(m||r)} ${l}`,onChange:e=>{this.setState({customSpendLimit:e.target.value}),v&&this.setState({selectedOptionIsUnlimited:!1})},fullWidth:!0,margin:"dense",value:this.state.customSpendLimit,error:e}))))))}validateSpendLimit(){const{t:e}=this.context,{decimals:t,requiredMinimum:n}=this.props,{selectedOptionIsUnlimited:a,customSpendLimit:o}=this.state;if(a||!o)return undefined;let i;try{i=new s.default(o)}catch(t){return r.default.debug(`Error converting '${o}' to BigNumber:`,t),e("spendLimitInvalid")}if(i.isNegative())return e("spendLimitInvalid");const l=(0,d.calcTokenAmount)(h,t);return i.greaterThan(l)?e("spendLimitTooLarge"):n!==undefined&&i.lessThan(n)?e("spendLimitInsufficient"):undefined}render(){const{t:e}=this.context,{setCustomAmount:t,hideModal:n,customTokenAmount:o}=this.props,{selectedOptionIsUnlimited:r,customSpendLimit:i}=this.state,s=this.validateSpendLimit(),c=Boolean(i===o&&!r||s);return a.default.createElement(l.default,{onSubmit:()=>{t(r?"":i),n()},submitText:e("save"),contentClass:"edit-approval-permission-modal-content",containerClass:"edit-approval-permission-modal-container",submitDisabled:c},this.renderModalContent(s))}}n.default=y,g(y,"propTypes",{decimals:o.default.number,hideModal:o.default.func.isRequired,selectedAccount:o.default.object,tokenAmount:o.default.string,customTokenAmount:o.default.string,tokenSymbol:o.default.string,tokenBalance:o.default.string,setCustomAmount:o.default.func,origin:o.default.string.isRequired,requiredMinimum:o.default.instanceOf(s.default)}),g(y,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/edit-approval-permission.component.js"}],[4280,{"../../../../helpers/higher-order-components/with-modal-props":4911,"../../../../selectors":5306,"./edit-approval-permission.component":4279,"react-redux":3753,redux:3817},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),o=e("redux"),r=l(e("../../../../helpers/higher-order-components/with-modal-props")),i=e("../../../../selectors"),s=l(e("./edit-approval-permission.component"));function l(e){return e&&e.__esModule?e:{default:e}}n.default=(0,o.compose)(r.default,(0,a.connect)((e=>{const t=e.appState.modal.modalState.props||{};return{selectedAccount:(0,i.getSelectedInternalAccount)(e),...t}})))(s.default)}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/edit-approval-permission.container.js"}],[4281,{"./edit-approval-permission.container":4280},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./edit-approval-permission.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/edit-approval-permission/index.js"}],[4282,{"../../../../../shared/constants/metametrics":4063,"../../../../contexts/metametrics":4869,"../../../../helpers/constants/design-system":4892,"../../../../helpers/higher-order-components/with-modal-props":4911,"../../../../hooks/useI18nContext":4959,"../../../../selectors":5306,"../../../../store/actions":5313,"../../../component-library":4562,"../../../component-library/form-text-field/deprecated":4550,"../../../ui/box":4729,"../../../ui/check-box":4737,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=y(e("prop-types")),r=e("react-redux"),i=y(e("../../../../helpers/higher-order-components/with-modal-props")),s=y(e("../../../ui/box")),l=e("../../../component-library"),c=e("../../../component-library/form-text-field/deprecated"),u=e("../../../../helpers/constants/design-system"),d=e("../../../../hooks/useI18nContext"),p=y(e("../../../ui/check-box")),f=e("../../../../store/actions"),m=e("../../../../selectors"),g=e("../../../../../shared/constants/metametrics"),h=e("../../../../contexts/metametrics");function y(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const v=({hideModal:e})=>{const[t,n]=(0,a.useState)(!1),[o,i]=(0,a.useState)(!1),[y,b]=(0,a.useState)(""),v=(0,r.useSelector)(m.getDisabledRpcMethodPreferences),_=(0,d.useI18nContext)(),T=(0,r.useDispatch)(),k=(0,a.useContext)(h.MetaMetricsContext),x=y===_("toggleEthSignModalFormValidation");return a.default.createElement(s.default,{className:"eth-sign-modal",display:u.Display.Flex,flexDirection:u.FlexDirection.Column,justifyContent:u.JustifyContent.flexStart,padding:4},a.default.createElement(s.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,marginBottom:4,justifyContent:u.JustifyContent.center},a.default.createElement(l.Icon,{className:"eth-sign-modal__warning-icon",name:l.IconName.Danger,color:u.IconColor.errorDefault,size:l.IconSize.Lg}),a.default.createElement(l.ButtonIcon,{className:"eth-sign-modal__close",iconName:l.IconName.Close,size:u.Size.SM,onClick:()=>e(),ariaLabel:_("close")})),a.default.createElement(l.Text,{variant:u.TextVariant.headingMd,textAlign:u.TextAlign.Center,marginBottom:6},_("toggleEthSignModalTitle")),a.default.createElement(l.Text,{variant:u.TextVariant.bodyMd},_("toggleEthSignModalDescription"),a.default.createElement(l.ButtonLink,{href:"https://support.metamask.io/hc/en-us/articles/14764161421467",externalLink:!0},_("learnMoreUpperCase"))),a.default.createElement(l.BannerAlert,{severity:u.Severity.Danger,marginTop:6,marginBottom:6},_("toggleEthSignModalBannerText"),_("toggleEthSignModalBannerBoldText")),o?a.default.createElement(c.FormTextField,{id:"enter-eth-sign-text",label:_("toggleEthSignModalFormLabel"),error:y.length>0&&!x,helpText:y.length>0&&!x&&_("toggleEthSignModalFormError"),onChange:e=>b(e.target.value),value:y,onPaste:e=>e.preventDefault()}):a.default.createElement(s.default,{flexDirection:u.FlexDirection.Row,alignItems:u.AlignItems.flexStart,gap:2},a.default.createElement(p.default,{id:"eth-sign__checkbox",className:"eth-sign__checkbox",dataTestId:"eth-sign__checkbox",checked:t,onClick:()=>{n(!t)}}),a.default.createElement(l.Label,{htmlFor:"eth-sign__checkbox"},a.default.createElement(l.Text,{variant:u.TextVariant.bodyMd,as:"span"},_("toggleEthSignModalCheckBox")))),a.default.createElement(s.default,{display:u.Display.Flex,flexDirection:u.FlexDirection.Row,justifyContent:u.JustifyContent.spaceBetween,gap:4,marginTop:6},a.default.createElement(l.ButtonSecondary,{onClick:()=>e(),size:l.ButtonSecondarySize.Lg,block:!0},_("cancel")),o?a.default.createElement(l.ButtonPrimary,{danger:!0,block:!0,disabled:!x,onClick:()=>{T((0,f.setDisabledRpcMethodPreference)("eth_sign",!v.eth_sign)),e()},size:u.Size.LG},_("enableSnap")):a.default.createElement(l.ButtonPrimary,{block:!0,disabled:!t,size:u.Size.LG,onClick:()=>{i(!0),k({category:g.MetaMetricsEventCategory.Settings,event:g.MetaMetricsEventName.OnboardingWalletAdvancedSettings,properties:{location:"Settings",enable_eth_sign:!0}})}},_("continue"))))};v.propTypes={hideModal:o.default.func};n.default=(0,i.default)(v)}}},{package:"$root$",file:"ui/components/app/modals/eth-sign-modal/eth-sign-modal.js"}],[4283,{"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a};function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let l,c=0;const u=e=>{const t=`anim_${++c}${Number(new Date)}`;let n=`@keyframes ${t} {`;return Object.keys(e).forEach((t=>{n+=`${t} {`,Object.keys(e[t]).forEach((a=>{const o=`:${e[t][a]};`;n+=a+o})),n+="}"})),n+="}",(e=>{l||(l=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(l),l=l.sheet||l.styleSheet),l.insertRule(e,(l.cssRules||l.rules).length)})(n),t},d={show:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},hide:{animationDuration:"0.3s",animationTimingFunction:"ease-out"},showContentAnimation:u({"0%":{opacity:0},"100%":{opacity:1}}),hideContentAnimation:u({"0%":{opacity:1},"100%":{opacity:0}}),showBackdropAnimation:u({"0%":{opacity:0},"100%":{opacity:.9}}),hideBackdropAnimation:u({"0%":{opacity:.9},"100%":{opacity:0}})},p=["transitionend","animationend"];class f extends o.Component{constructor(...e){super(...e),s(this,"content",null),s(this,"state",{willHide:!0,hidden:!0}),s(this,"addTransitionListener",((e,t)=>{if(e){const n=function(a){a&&a.target!==e||(((e,t)=>{0!==p.length&&p.forEach((function(n){!function(e,t,n){e.removeEventListener(t,n,!1)}(e,n,t)}))})(e,n),t())};((e,t)=>{0!==p.length?p.forEach((function(n){!function(e,t,n){e.addEventListener(t,n,!1)}(e,n,t)})):window.setTimeout(t,0)})(e,n)}})),s(this,"handleBackdropClick",(()=>{this.props.closeOnClick&&this.hide()})),s(this,"hasHidden",(()=>this.state.hidden)),s(this,"leave",(()=>{this.setState({hidden:!0}),this.props.onHide(this.state.hideSource)})),s(this,"enter",(()=>{this.props.onShow()})),s(this,"show",(()=>{this.state.hidden&&(this.setState({willHide:!1,hidden:!1}),setTimeout(function(){this.addTransitionListener(this.content,this.enter)}.bind(this),0))})),s(this,"hide",(()=>{this.hasHidden()||this.setState({willHide:!0})})),s(this,"listenKeyboard",(e=>{"function"==typeof this.props.keyboard?this.props.keyboard(e):this.closeOnEsc(e)})),s(this,"closeOnEsc",(e=>{!this.props.keyboard||"Escape"!==e.key&&27!==e.keyCode||this.hide()})),s(this,"UNSAFE_componentDidMount",(()=>{window.addEventListener("keydown",this.listenKeyboard,!0)})),s(this,"UNSAFE_componentWillUnmount",(()=>{window.removeEventListener("keydown",this.listenKeyboard,!0)}))}render(){if(this.state.hidden)return null;const{willHide:e}=this.state,{modalStyle:t}=this.props,n={animationName:e?d.hideBackdropAnimation:d.showBackdropAnimation,animationTimingFunction:(e?d.hide:d.show).animationTimingFunction,...this.props.backdropStyle},a={animationDuration:(e?d.hide:d.show).animationDuration,animationName:e?d.hideContentAnimation:d.showContentAnimation,animationTimingFunction:(e?d.hide:d.show).animationTimingFunction,...this.props.contentStyle},r=this.props.backdrop?o.default.createElement("div",{className:"modal__backdrop",style:n,onClick:this.props.closeOnClick?this.handleBackdropClick:null}):undefined;return e&&this.addTransitionListener(this.content,this.leave),o.default.createElement("span",null,o.default.createElement("div",{className:"modal",style:t},o.default.createElement("div",{className:"modal__content",ref:e=>this.content=e,tabIndex:"-1",style:a},this.props.children)),r)}}s(f,"propTypes",{backdrop:r.default.bool,backdropStyle:r.default.object,closeOnClick:r.default.bool,contentStyle:r.default.object,keyboard:r.default.bool,modalStyle:r.default.object,onShow:r.default.func,onHide:r.default.func,children:r.default.node}),s(f,"defaultProps",{onShow:()=>undefined,onHide:()=>undefined,keyboard:!0,backdrop:!0,closeOnClick:!0,modalStyle:{},backdropStyle:{},contentStyle:{},children:[]});n.default=f}}},{package:"$root$",file:"ui/components/app/modals/fade-modal.js"}],[4284,{"../../../../helpers/constants/routes":4897,"../../../../store/actions":5313,"../../../ui/button":4733,"../../../ui/identicon":4784,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("prop-types")),o=d(e("react")),r=e("react-redux"),i=d(e("../../../../store/actions")),s=p(e("../../../ui/identicon")),l=p(e("../../../ui/button")),c=e("../../../../helpers/constants/routes");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends o.Component{constructor(...e){super(...e),f(this,"state",{})}render(){const{token:e,hideToken:t,hideModal:n,history:a}=this.props,{symbol:r,address:i,image:u}=e;return o.default.createElement("div",{className:"hide-token-confirmation"},o.default.createElement("div",{className:"hide-token-confirmation__container"},o.default.createElement("div",{className:"hide-token-confirmation__title"},this.context.t("hideTokenPrompt")),o.default.createElement(s.default,{className:"hide-token-confirmation__identicon",diameter:45,address:i,image:u}),o.default.createElement("div",{className:"hide-token-confirmation__symbol"},r),o.default.createElement("div",{className:"hide-token-confirmation__copy"},this.context.t("readdToken")),o.default.createElement("div",{className:"hide-token-confirmation__buttons"},o.default.createElement(l.default,{type:"secondary",className:"hide-token-confirmation__button","data-testid":"hide-token-confirmation__cancel",onClick:()=>n()},this.context.t("cancel")),o.default.createElement(l.default,{type:"primary",className:"hide-token-confirmation__button","data-testid":"hide-token-confirmation__hide",onClick:()=>{t(i),a.push(c.DEFAULT_ROUTE)}},this.context.t("hide")))))}}f(m,"contextTypes",{t:a.default.func}),f(m,"propTypes",{hideToken:a.default.func.isRequired,hideModal:a.default.func.isRequired,token:a.default.shape({symbol:a.default.string,address:a.default.string,image:a.default.string}),history:a.default.object});n.default=(0,r.connect)((function(e){return{token:e.appState.modal.modalState.props.token,history:e.appState.modal.modalState.props.history}}),(function(e){return{hideModal:()=>e(i.hideModal()),hideToken:t=>{e(i.ignoreTokens({tokensToIgnore:t})).then((()=>{e(i.hideModal())}))}}}))(m)}}},{package:"$root$",file:"ui/components/app/modals/hide-token-confirmation-modal/hide-token-confirmation-modal.js"}],[4285,{"./hide-token-confirmation-modal":4284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./hide-token-confirmation-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/hide-token-confirmation-modal/index.js"}],[4286,{"../../../../helpers/constants/design-system":4892,"../../../../helpers/constants/zendesk-url":4903,"../../../../hooks/useI18nContext":4959,"../../../component-library":4562,"../../../component-library/modal-content/deprecated":4570,"../../../component-library/modal-header/deprecated":4579,"../../hold-to-reveal-button":4238,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({isOpen:e,onClose:t,onLongPressed:n,holdToRevealType:d}){const p=(0,i.useI18nContext)(),f="SRP"===d?"holdToRevealSRPTitle":"holdToRevealPrivateKeyTitle",m="SRP"===d?"holdToRevealSRP":"holdToRevealPrivateKey",g="SRP"===d?"holdToRevealContent":"holdToRevealContentPrivateKey",h=`${g}1`,y=`${g}2`;p("holdToRevealContentPrivateKey1"),p("holdToRevealContentPrivateKey2"),p("holdToRevealContent1"),p("holdToRevealContent2");const b=()=>a.default.createElement(s.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,gap:4,marginTop:6,marginBottom:6},a.default.createElement(s.Text,{variant:o.TextVariant.bodyMd},p(h,[a.default.createElement(s.Text,{key:"hold-to-reveal-2",variant:o.TextVariant.bodyMdBold,as:"span"},p(y))])),a.default.createElement(s.Text,{variant:o.TextVariant.bodyMdBold},p("holdToRevealContent3",[a.default.createElement(s.Text,{key:"hold-to-reveal-4",variant:o.TextVariant.bodyMd,as:"span",display:o.Display.Inline},p("holdToRevealContent4")),a.default.createElement(s.Button,{key:"hold-to-reveal-5",variant:s.ButtonVariant.Link,size:s.ButtonSize.Inherit,href:r.default.NON_CUSTODIAL_WALLET,externalLink:!0},p("holdToRevealContent5"))])));return a.default.createElement(s.Modal,{isOpen:e,onClose:t},a.default.createElement(s.ModalOverlay,null),a.default.createElement(l.ModalContent,null,a.default.createElement(c.ModalHeader,{onClose:t},p(f)),a.default.createElement(s.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column},a.default.createElement(b,null),a.default.createElement(u.default,{buttonText:p(m),onLongPressed:n}))))};var a=d(e("react")),o=e("../../../../helpers/constants/design-system"),r=d(e("../../../../helpers/constants/zendesk-url")),i=e("../../../../hooks/useI18nContext"),s=e("../../../component-library"),l=e("../../../component-library/modal-content/deprecated"),c=e("../../../component-library/modal-header/deprecated"),u=d(e("../../hold-to-reveal-button"));function d(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/modals/hold-to-reveal-modal/hold-to-reveal-modal.tsx"}],[4287,{"./modal":4290},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Modal",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/index.js"}],[4288,{"./keyring-snap-removal-result-modal":4289},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./keyring-snap-removal-result-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/keyring-snap-removal-modal/index.ts"}],[4289,{"../../../../helpers/constants/design-system":4892,"../../../../hooks/useI18nContext":4959,"../../../../selectors":5306,"../../../component-library":4562,"../../../component-library/modal-content/deprecated":4570,"../../../component-library/modal-header/deprecated":4579,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("react-redux"),i=e("../../../../helpers/constants/design-system"),s=e("../../../component-library"),l=e("../../../component-library/modal-content/deprecated"),c=e("../../../component-library/modal-header/deprecated"),u=e("../../../../hooks/useI18nContext"),d=e("../../../../selectors");n.default=({isOpen:e,onClose:t})=>{const n=(0,u.useI18nContext)(),a=(0,r.useSelector)(d.getKeyringSnapRemovalResult);return o.default.createElement(o.default.Fragment,null,o.default.createElement(s.Modal,{isOpen:e,onClose:()=>t()},o.default.createElement(s.ModalOverlay,null),o.default.createElement(l.ModalContent,{modalDialogProps:{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,gap:4}},o.default.createElement(c.ModalHeader,{onClose:t},""),o.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center},o.default.createElement(s.Icon,{name:"success"===a.result?s.IconName.Confirmation:s.IconName.Danger,color:"success"===a.result?i.IconColor.successDefault:i.IconColor.errorDefault,size:s.IconSize.Xl,marginBottom:4}),o.default.createElement(s.Text,{variant:i.TextVariant.bodyMdBold,textAlign:i.TextAlign.Center},n("keyringSnapRemovalResult1",[a.snapName,"failed"===a.result?n("keyringSnapRemovalResultNotSuccessful"):""]))))))}}}},{package:"$root$",file:"ui/components/app/modals/keyring-snap-removal-modal/keyring-snap-removal-result-modal.tsx"}],[4290,{"../../../../app/scripts/lib/util":85,"../../../../shared/constants/app":4054,"../../../helpers/utils/is-mobile-view":4923,"../../../pages/onboarding-flow/add-network-modal":5078,"../../../store/actions":5313,"./confirm-delete-network":4267,"./confirm-remove-account":4270,"./confirm-reset-account":4273,"./convert-token-to-nft-modal/convert-token-to-nft-modal":4276,"./customize-nonce":4278,"./edit-approval-permission":4281,"./eth-sign-modal/eth-sign-modal":4282,"./fade-modal":4283,"./hide-token-confirmation-modal":4285,"./new-account-modal":4291,"./qr-scanner":4296,"./reject-transactions":4299,"./transaction-confirmed":4302,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=C(e("prop-types")),o=E(e("react")),r=e("react-redux"),i=e("../../../../app/scripts/lib/util"),s=e("../../../../shared/constants/app"),l=C(e("../../../helpers/utils/is-mobile-view")),c=E(e("../../../store/actions")),u=C(e("../../../pages/onboarding-flow/add-network-modal")),d=C(e("./hide-token-confirmation-modal")),p=C(e("./qr-scanner")),f=C(e("./confirm-remove-account")),m=C(e("./confirm-reset-account")),g=C(e("./transaction-confirmed")),h=C(e("./confirm-delete-network")),y=C(e("./convert-token-to-nft-modal/convert-token-to-nft-modal")),b=C(e("./customize-nonce")),v=C(e("./edit-approval-permission")),_=C(e("./eth-sign-modal/eth-sign-modal")),T=C(e("./fade-modal")),k=C(e("./new-account-modal")),x=C(e("./reject-transactions"));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}function C(e){return e&&e.__esModule?e:{default:e}}const O={transform:"translate3d(-50%, 0, 0px)",border:"1px solid var(--color-border-default)",borderRadius:"8px",backgroundColor:"var(--color-background-default)",boxShadow:"var(--shadow-size-sm) var(--color-shadow-default)"},M={...O,width:"344px",top:"15%"},P={...O,width:"309px",top:"12.5%"},S={ONBOARDING_ADD_NETWORK:{contents:o.default.createElement(u.default,null),mobileModalStyle:{width:"95%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",borderRadius:"4px",top:"10%",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"335px",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",borderRadius:"4px",top:"10%",transform:"none",left:"0",right:"0",margin:"0 auto"},contentStyle:{borderRadius:"4px"}},NEW_ACCOUNT:{contents:o.default.createElement(k.default,null),mobileModalStyle:{width:"95%",top:"10%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},laptopModalStyle:{width:"375px",top:"10%",boxShadow:"var(--shadow-size-xs) var(--color-shadow-default)",transform:"none",left:"0",right:"0",margin:"0 auto",borderRadius:"10px"},contentStyle:{borderRadius:"10px"}},HIDE_TOKEN_CONFIRMATION:{contents:o.default.createElement(d.default,null),mobileModalStyle:{width:"95%",top:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"52vh":"36.5vh"},laptopModalStyle:{width:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"357px":"449px",top:"calc(33% + 45px)",paddingLeft:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"16px":null,paddingRight:(0,i.getEnvironmentType)()===s.ENVIRONMENT_TYPE_POPUP?"16px":null}},CONFIRM_RESET_ACCOUNT:{contents:o.default.createElement(m.default,null),mobileModalStyle:{...P},laptopModalStyle:{...M},contentStyle:{borderRadius:"8px"}},ETH_SIGN:{contents:o.default.createElement(_.default,null),mobileModalStyle:{...P},laptopModalStyle:{...M},contentStyle:{borderRadius:"8px"}},CONFIRM_REMOVE_ACCOUNT:{contents:o.default.createElement(f.default,null),mobileModalStyle:{...P},laptopModalStyle:{...M},contentStyle:{borderRadius:"8px"}},CONVERT_TOKEN_TO_NFT:{contents:o.default.createElement(y.default,null),mobileModalStyle:{...P},laptopModalStyle:{...M},contentStyle:{borderRadius:"8px"}},CONFIRM_DELETE_NETWORK:{contents:o.default.createElement(h.default,null),mobileModalStyle:{...P},laptopModalStyle:{...M},contentStyle:{borderRadius:"8px"}},EDIT_APPROVAL_PERMISSION:{contents:o.default.createElement(v.default,null),mobileModalStyle:{width:"95vw",height:"100vh",top:"50px",transform:"none",left:"0",right:"0",margin:"0 auto"},laptopModalStyle:{width:"auto",height:"0px",top:"80px",left:"0px",transform:"none",margin:"0 auto",position:"relative"},contentStyle:{borderRadius:"8px"}},TRANSACTION_CONFIRMED:{disableBackdropClick:!0,contents:o.default.createElement(g.default,null),mobileModalStyle:{...P},laptopModalStyle:{...M},contentStyle:{borderRadius:"8px"}},QR_SCANNER:{contents:o.default.createElement(p.default,null),mobileModalStyle:{...P},laptopModalStyle:{...M},contentStyle:{borderRadius:"8px"}},REJECT_TRANSACTIONS:{contents:o.default.createElement(x.default,null),mobileModalStyle:{...P},laptopModalStyle:{...M},contentStyle:{borderRadius:"8px"}},CUSTOMIZE_NONCE:{contents:o.default.createElement(b.default,null),mobileModalStyle:{...P},laptopModalStyle:{...M},contentStyle:{borderRadius:"8px"}},DEFAULT:{contents:[],mobileModalStyle:{},laptopModalStyle:{}}},j={backgroundColor:"var(--color-overlay-default)"};class N extends o.Component{hide(){this.modalRef.hide()}show(){this.modalRef.show()}UNSAFE_componentWillReceiveProps(e,t){e.active?this.show():this.props.active&&this.hide()}render(){const e=S[this.props.modalState.name||"DEFAULT"],{contents:t,disableBackdropClick:n=!1}=e,a=e[(0,l.default)()?"mobileModalStyle":"laptopModalStyle"],r=e.contentStyle||{};return o.default.createElement(T.default,{keyboard:!1,onHide:()=>{e.onHide&&e.onHide({hideWarning:this.props.hideWarning}),this.props.hideModal(e.customOnHideOpts)},ref:e=>{this.modalRef=e},modalStyle:a,contentStyle:r,backdropStyle:j,closeOnClick:!n},t)}}var I,D,A;I=N,D="propTypes",A={active:a.default.bool.isRequired,hideModal:a.default.func.isRequired,hideWarning:a.default.func.isRequired,modalState:a.default.object.isRequired},(D=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(D))in I?Object.defineProperty(I,D,{value:A,enumerable:!0,configurable:!0,writable:!0}):I[D]=A;n.default=(0,r.connect)((function(e){return{active:e.appState.modal.open,modalState:e.appState.modal.modalState}}),(function(e){return{hideModal:t=>{e(c.hideModal()),t&&t.action&&e(t.action(...t.args))},hideWarning:()=>{e(c.hideWarning())}}}))(N)}}},{package:"$root$",file:"ui/components/app/modals/modal.js"}],[4291,{"./new-account-modal.container":4293},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./new-account-modal.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/index.js"}],[4292,{"../../../component-library":4562,"../../../ui/button/button.component":4732,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=s(e("prop-types")),r=s(e("../../../ui/button/button.component")),i=e("../../../component-library");function s(e){return e&&e.__esModule?e:{default:e}}function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends a.Component{constructor(...e){super(...e),c(this,"state",{alias:this.context.t("newAccountNumberName",[this.props.newAccountNumber])}),c(this,"onChange",(e=>{this.setState({alias:e.target.value})})),c(this,"onSubmit",(()=>{this.props.onSave(this.state.alias).then(this.props.hideModal)})),c(this,"onKeyPress",(e=>{"Enter"===e.key&&this.state.alias&&this.onSubmit()}))}render(){const{t:e}=this.context;return a.default.createElement("div",{className:"new-account-modal"},a.default.createElement("div",{className:"new-account-modal__content"},a.default.createElement("div",{className:"new-account-modal__content__header"},e("newAccount"),a.default.createElement(i.ButtonIcon,{className:"new-account-modal__content__header-close",ariaLabel:e("close"),onClick:this.props.hideModal,iconName:i.IconName.Close})),a.default.createElement("div",{className:"new-account-modal__input-label"},e("accountName")),a.default.createElement("input",{type:"text",className:"new-account-modal__input",onChange:this.onChange,onKeyPress:this.onKeyPress,value:this.state.alias,autoFocus:!0})),a.default.createElement("div",{className:"new-account-modal__footer"},a.default.createElement(r.default,{type:"secondary",onClick:this.props.hideModal},e("cancel")),a.default.createElement(r.default,{type:"primary",onClick:this.onSubmit,disabled:!this.state.alias},e("save"))))}}n.default=u,c(u,"contextTypes",{t:o.default.func}),c(u,"propTypes",{hideModal:o.default.func.isRequired,newAccountNumber:o.default.number.isRequired,onSave:o.default.func.isRequired})}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/new-account-modal.component.js"}],[4293,{"../../../../store/actions":5313,"./new-account-modal.component":4292,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-redux"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("../../../../store/actions")),i=(a=e("./new-account-modal.component"))&&a.__esModule?a:{default:a};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}n.default=(0,o.connect)((function(e){return{...e.appState.modal.modalState.props||{}}}),(function(e){return{hideModal:()=>e(r.hideModal()),createAccount:t=>e(r.addNewAccount()).then((n=>(t&&e(r.setAccountLabel(n,t)),n)))}}),(function(e,t){const{onCreateNewAccount:n}=e,{createAccount:a}=t;return{...e,...t,onSave:e=>a(e).then((e=>n(e)))}}))(i.default)}}},{package:"$root$",file:"ui/components/app/modals/new-account-modal/new-account-modal.container.js"}],[4294,{"./nickname-popovers.component":4295},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./nickname-popovers.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/nickname-popovers/index.js"}],[4295,{"../../../../selectors":5306,"../../../../store/actions":5313,"../../../ui/nickname-popover":4809,"../../../ui/update-nickname-popover/update-nickname-popover":4864,"@metamask/etherscan-link":1188,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=d(e("prop-types")),i=e("@metamask/etherscan-link"),s=e("../../../../store/actions"),l=e("../../../../selectors"),c=d(e("../../../ui/nickname-popover")),u=d(e("../../../ui/update-nickname-popover/update-nickname-popover"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f="SHOW_NICKNAME_POPOVER",m="ADD_NICKNAME_POPOVER",g=({address:e,onClose:t})=>{const n=(0,o.useDispatch)(),[r,d]=(0,a.useState)(f),p=(0,o.useSelector)(l.getAddressBook),g=(0,o.useSelector)(l.getCurrentChainId),h=p.find((t=>t.address===e)),y=null==h?void 0:h.name,b=(0,o.useSelector)(l.getRpcPrefsForCurrentProvider),v=(0,i.getAccountLink)(e,g,{blockExplorerUrl:(null==b?void 0:b.blockExplorerUrl)??null},null);return r===m?a.default.createElement(u.default,{address:e,nickname:y||null,memo:(null==h?void 0:h.memo)||null,onClose:()=>d(f),onAdd:(e,t,a)=>n((0,s.addToAddressBook)(e,t,a))}):a.default.createElement(c.default,{address:e,nickname:y||null,onClose:t,onAdd:()=>d(m),explorerLink:v})};g.propTypes={address:r.default.string,onClose:r.default.func};n.default=g}}},{package:"$root$",file:"ui/components/app/modals/nickname-popovers/nickname-popovers.component.js"}],[4296,{"./qr-scanner.container":4298},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=(a=e("./qr-scanner.container"))&&a.__esModule?a:{default:a};n.default=o.default}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/index.js"}],[4297,{"../../../../../app/scripts/lib/util":85,"../../../../../shared/constants/app":4054,"../../../../../shared/constants/time":4074,"../../../../helpers/utils/util":4934,"../../../../helpers/utils/webcam-utils":4935,"../../../../hooks/useI18nContext":4959,"../../../../hooks/usePrevious":4967,"../../../ui/page-container/page-container-footer/page-container-footer.component":4815,"../../../ui/spinner":4837,"@zxing/browser":2067,loglevel:3447,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=h(e("prop-types")),r=h(e("loglevel")),i=e("@zxing/browser"),s=e("../../../../hooks/usePrevious"),l=e("../../../../hooks/useI18nContext"),c=e("../../../../../app/scripts/lib/util"),u=e("../../../../helpers/utils/util"),d=h(e("../../../../helpers/utils/webcam-utils")),p=h(e("../../../ui/page-container/page-container-footer/page-container-footer.component")),f=h(e("../../../ui/spinner")),m=e("../../../../../shared/constants/app"),g=e("../../../../../shared/constants/time");function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}const b={ACCESSING_CAMERA:"ACCESSING_CAMERA",NEED_TO_ALLOW_ACCESS:"NEED_TO_ALLOW_ACCESS",READY:"READY"},v=e=>{let t="unknown",n={};return e.split("ethereum:").length>1?(t="address",n={address:e.split("ethereum:")[1]}):"0x"===e.substring(0,2).toLowerCase()&&(t="address",n={address:e}),{type:t,values:n}};function _({hideModal:e,qrCodeDetected:t}){const n=(0,l.useI18nContext)(),[o,h]=(0,a.useState)(b.ACCESSING_CAMERA),y=(0,s.usePrevious)(o),[_,T]=(0,a.useState)(null),[k,x]=(0,a.useState)(!1),[w,E]=(0,a.useState)(null),[C,O]=(0,a.useState)(null),M=(0,a.useCallback)((async()=>{try{const{permissions:e}=await d.default.checkStatus();if(e){if(await new Promise((e=>setTimeout(e,2*g.SECOND))),!k)return;h(b.READY)}else k&&O(setTimeout(this.checkPermissions,g.SECOND))}catch(e){k&&T({error:e})}}),[k]),P=(0,a.useCallback)((()=>{w&&(w.constructor.cleanVideoSource(),w.constructor.releaseAllStreams(),E(null))}),[w]),S=(0,a.useCallback)((()=>{w&&P(e),e()}),[w,e,P]),j=(0,a.useCallback)((async()=>{w||E(new i.BrowserQRCodeReader)}),[w]);(0,a.useEffect)((()=>{(async()=>{if(w)try{await M(),await w.constructor.listVideoInputDevices();const e=await w.decodeOnceFromVideoDevice(undefined,"video"),a=v(e.text);k&&("unknown"===a.type?T(new Error(n("unknownQrCode"))):(t(a),S()))}catch(e){if(k)return;"NotAllowedError"===e.name?(r.default.info(`Permission denied: '${e}'`),h(b.NEED_TO_ALLOW_ACCESS)):T(e)}})()}),[M,w,k,t,S,n]);const N=async()=>{try{const{environmentReady:e}=await d.default.checkStatus();if(!e&&(0,c.getEnvironmentType)()!==m.ENVIRONMENT_TYPE_FULLSCREEN){const e=(0,u.getURL)(window.location.href),t=null==e?void 0:e.hash,n=t?t.substring(1):null;global.platform.openExtensionInBrowser(n)}}catch(e){k&&T({error:e})}await j()};(0,a.useEffect)((()=>{x(!0),(async()=>{await N()})()}),[]),(0,a.useEffect)((()=>{(async()=>{y!==o&&(o===b.READY?await j():o===b.NEED_TO_ALLOW_ACCESS&&await M())})()}),[y,o,j,M]);const I=async()=>{clearTimeout(C),w&&P(),h(b.ACCESSING_CAMERA),T(null),await N()};return a.default.createElement("div",{className:"qr-scanner"},a.default.createElement("div",{className:"qr-scanner__close",onClick:S}),_?(()=>{let e,t;return"NO_WEBCAM_FOUND"===_.type?(e=n("noWebcamFoundTitle"),t=n("noWebcamFound")):_.message===n("unknownQrCode")?t=n("unknownQrCode"):(e=n("generalCameraErrorTitle"),t=n("generalCameraError")),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"qr-scanner__image"},a.default.createElement("img",{src:"images/webcam.svg",width:"70",height:"70",alt:""})),e&&a.default.createElement("div",{className:"qr-scanner__title"},e),a.default.createElement("div",{className:"qr-scanner__error"},t),a.default.createElement(p.default,{onCancel:S,onSubmit:I,cancelText:n("cancel"),submitText:n("tryAgain")}))})():a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"qr-scanner__title"},`${n("scanQrCode")}`),a.default.createElement("div",{className:"qr-scanner__content"},a.default.createElement("div",{className:"qr-scanner__content__video-wrapper"},a.default.createElement("video",{id:"video",style:{display:o===b.READY?"block":"none"}}),o!==b.READY&&a.default.createElement(f.default,{color:"var(--color-warning-default)"}))),a.default.createElement("div",{className:"qr-scanner__status"},(e=>{let t;switch(e){case b.ACCESSING_CAMERA:t=n("accessingYourCamera");break;case b.READY:t=n("scanInstructions");break;case b.NEED_TO_ALLOW_ACCESS:t=n("youNeedToAllowCameraAccess");break;default:t=n("accessingYourCamera")}return t})(o))))}_.propTypes={hideModal:o.default.func.isRequired,qrCodeDetected:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/qr-scanner.component.js"}],[4298,{"../../../../store/actions":5313,"./qr-scanner.component":4297,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-redux"),r=e("../../../../store/actions"),i=(a=e("./qr-scanner.component"))&&a.__esModule?a:{default:a};n.default=(0,o.connect)(null,(e=>({hideModal:()=>e((0,r.hideModal)()),qrCodeDetected:t=>e((0,r.qrCodeDetected)(t))})))(i.default)}}},{package:"$root$",file:"ui/components/app/modals/qr-scanner/qr-scanner.container.js"}],[4299,{"./reject-transactions.container":4301},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./reject-transactions.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/index.js"}],[4300,{"../../modal":4261,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=s(e("../../modal"));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends o.PureComponent{constructor(...e){super(...e),l(this,"onSubmit",(async()=>{const{onSubmit:e,hideModal:t}=this.props;await e(),t()}))}render(){const{t:e}=this.context,{hideModal:t,unapprovedTxCount:n,isRequestType:a}=this.props;return o.default.createElement(r.default,{headerText:e(a?"rejectRequestsN":"rejectTxsN",[n]),onClose:t,onSubmit:this.onSubmit,onCancel:t,submitText:e("rejectAll"),cancelText:e("cancel")},o.default.createElement("div",null,o.default.createElement("div",{className:"reject-transactions__description"},e(a?"rejectRequestsDescription":"rejectTxsDescription",[n]))))}}n.default=c,l(c,"contextTypes",{t:a.default.func.isRequired}),l(c,"propTypes",{onSubmit:a.default.func.isRequired,hideModal:a.default.func.isRequired,unapprovedTxCount:a.default.number.isRequired,isRequestType:a.default.bool})}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/reject-transactions.component.js"}],[4301,{"../../../../helpers/higher-order-components/with-modal-props":4911,"./reject-transactions.component":4300,"react-redux":3753,redux:3817},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("react-redux"),o=e("redux"),r=s(e("../../../../helpers/higher-order-components/with-modal-props")),i=s(e("./reject-transactions.component"));function s(e){return e&&e.__esModule?e:{default:e}}n.default=(0,o.compose)(r.default,(0,a.connect)(((e,t)=>{const{unapprovedTxCount:n}=t;return{unapprovedTxCount:n}})))(i.default)}}},{package:"$root$",file:"ui/components/app/modals/reject-transactions/reject-transactions.container.js"}],[4302,{"./transaction-confirmed.container":4304},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./transaction-confirmed.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/index.js"}],[4303,{"../../../../helpers/constants/design-system":4892,"../../../component-library":4562,"../../modal":4261,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=l(e("prop-types")),r=l(e("../../modal")),i=e("../../../component-library"),s=e("../../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends a.PureComponent{constructor(...e){super(...e),u(this,"handleSubmit",(()=>{const{hideModal:e,onSubmit:t}=this.props;e(),t&&"function"==typeof t&&t()}))}render(){const{t:e}=this.context;return a.default.createElement(r.default,{onSubmit:this.handleSubmit,submitText:e("ok")},a.default.createElement("div",{className:"transaction-confirmed__content"},a.default.createElement(i.Icon,{name:i.IconName.Check,color:s.IconColor.successDefault,size:i.IconSize.Xl}),a.default.createElement("div",{className:"transaction-confirmed__title"},`${e("confirmed")}!`),a.default.createElement("div",{className:"transaction-confirmed__description"},e("initialTransactionConfirmed"))))}}n.default=d,u(d,"contextTypes",{t:o.default.func}),u(d,"propTypes",{onSubmit:o.default.func,hideModal:o.default.func})}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/transaction-confirmed.component.js"}],[4304,{"../../../../helpers/higher-order-components/with-modal-props":4911,"./transaction-confirmed.component":4303},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=r(e("../../../../helpers/higher-order-components/with-modal-props")),o=r(e("./transaction-confirmed.component"));function r(e){return e&&e.__esModule?e:{default:e}}n.default=(0,a.default)(o.default)}}},{package:"$root$",file:"ui/components/app/modals/transaction-confirmed/transaction-confirmed.container.js"}],[4305,{"./multi-layer-fee-message":4306},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./multi-layer-fee-message"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/multilayer-fee-message/index.js"}],[4306,{"../../../../shared/constants/common":4056,"../../../../shared/modules/Numeric":4086,"../../../../shared/modules/conversion.utils":4090,"../../../contexts/i18n":4868,"../../../helpers/constants/common":4890,"../../../helpers/utils/optimism/fetchEstimatedL1Fee":4927,"../../../selectors":5306,"../transaction-detail-item/transaction-detail-item.component":4467,"../user-preferenced-currency-display":4481,"@sentry/browser":1866,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),r=h(e("prop-types")),i=e("@sentry/browser"),s=h(e("../transaction-detail-item/transaction-detail-item.component")),l=h(e("../user-preferenced-currency-display")),c=h(e("../../../helpers/utils/optimism/fetchEstimatedL1Fee")),u=e("../../../helpers/constants/common"),d=e("../../../contexts/i18n"),p=e("../../../../shared/modules/conversion.utils"),f=e("../../../../shared/constants/common"),m=e("../../../../shared/modules/Numeric"),g=e("../../../selectors");function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function b({transaction:e,layer2fee:t,nativeCurrency:n,plainStyle:r}){var h;const y=(0,a.useContext)(d.I18nContext),[b,v]=(0,a.useState)(null),_=(0,o.useSelector)(g.getUseCurrencyRateCheck);if((0,a.useEffect)((()=>{if(null==e||!e.txParams)return;(async()=>{try{const t=await(0,c.default)(null==e?void 0:e.chainId,e);v(t)}catch(e){(0,i.captureException)(e),v(null)}})()}),[e]),null==e||!e.txParams)return null;let T=y("unknown"),k=y("unknown");if(null!==b){T=`${new m.Numeric(b,16,f.EtherDenomination.WEI).toDenomination(f.EtherDenomination.ETH).toFixed(12)} ${n}`,k=_?a.default.createElement(l.default,{type:u.SECONDARY,value:b,showFiat:!0,hideLabel:!0}):null}const x=(0,p.sumHexes)(t||"0x0",b||"0x0",(null==e||null===(h=e.txParams)||void 0===h?void 0:h.value)||"0x0"),w=`${new m.Numeric(x,16,f.EtherDenomination.WEI).toDenomination(f.EtherDenomination.ETH).toFixed(12)} ${n}`,E=_?a.default.createElement(l.default,{type:u.SECONDARY,value:x,showFiat:!0,hideLabel:!0}):null;return a.default.createElement("div",{className:"multi-layer-fee-message"},a.default.createElement(s.default,{key:"multi-layer-fee-message-total-item-gas-fee",detailTitle:y("layer1Fees"),detailTotal:T,detailText:_&&k,noBold:r,flexWidthValues:r}),a.default.createElement(s.default,{key:"multi-layer-fee-message-total-item-total",detailTitle:y("total"),detailTotal:w,detailText:E,subTitle:y("transactionDetailMultiLayerTotalSubtitle"),noBold:r,flexWidthValues:r}))}b.propTypes={transaction:r.default.object,layer2fee:r.default.string,nativeCurrency:r.default.string,plainStyle:r.default.bool}}}},{package:"$root$",file:"ui/components/app/multilayer-fee-message/multi-layer-fee-message.js"}],[4307,{"./multiple-notifications.component":4308},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./multiple-notifications.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/multiple-notifications/index.js"}],[4308,{classnames:2468,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=i(e("classnames")),r=i(e("prop-types"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends a.PureComponent{constructor(...e){super(...e),l(this,"state",{showAll:!1})}render(){const{showAll:e}=this.state,{children:t,classNames:n}=this.props,r=t.filter(Boolean);return 0===r.length?null:a.default.createElement("div",{className:(0,o.default)(...n,{"home-notification-wrapper--show-all":e,"home-notification-wrapper--show-first":!e,"home-notification-wrapper--multichain":Boolean("")})},r,a.default.createElement("div",{className:"home-notification-wrapper__i-container",onClick:()=>this.setState({showAll:!e})},r.length>1?a.default.createElement("i",{className:(0,o.default)("fa fa-sm fa-sort-amount",{flipped:!e})}):null))}}n.default=c,l(c,"defaultProps",{children:[],classNames:[]}),l(c,"propTypes",{children:r.default.array,classNames:r.default.array})}}},{package:"$root$",file:"ui/components/app/multiple-notifications/multiple-notifications.component.js"}],[4309,{"../../../../../shared/constants/metametrics":4063,"../../../../contexts/metametrics":4869,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.usePetnamesMetrics=function({initialSources:e,name:t,proposedNameOptions:n,savedName:i,savedSourceId:s,selectedSourceId:l,type:c}){const u=(0,a.useContext)(o.MetaMetricsContext),d=(0,a.useCallback)(((e,t={})=>{const a=[...new Set(n.map((e=>e.sourceId)))],o={petname_category:c,suggested_names_sources:a,...t};u({event:e,category:r.MetaMetricsEventCategory.Petnames,properties:o})}),[u,c,n]),p=(0,a.useCallback)((()=>{const e=l??null,n=(null==i?void 0:i.length)&&!(null!=t&&t.length),a=(null==i?void 0:i.length)&&(null==t?void 0:t.length)&&t!==i,o=!(null!=i&&i.length)&&(null==t?void 0:t.length);let c=null,u={};n&&(c=r.MetaMetricsEventName.PetnameDeleted,u={petname_previous_source:s}),a&&(c=r.MetaMetricsEventName.PetnameUpdated,u={petname_previous_source:s,petname_source:e}),o&&(c=r.MetaMetricsEventName.PetnameCreated,u={petname_source:e}),c&&d(c,u)}),[d,t,l,i,s]);return{trackPetnamesOpenEvent:(0,a.useCallback)((()=>{d(r.MetaMetricsEventName.PetnameModalOpened,{has_petname:Boolean(null==i?void 0:i.length),suggested_names_sources:e})}),[d,i,e]),trackPetnamesSaveEvent:p}};var a=e("react"),o=e("../../../../contexts/metametrics"),r=e("../../../../../shared/constants/metametrics")}}},{package:"$root$",file:"ui/components/app/name/name-details/metrics.ts"}],[4310,{"../../../../contexts/i18n":4868,"../../../../helpers/constants/design-system":4892,"../../../../hooks/useCopyToClipboard":4952,"../../../../hooks/useName":4963,"../../../../selectors":5306,"../../../../store/actions":5313,"../../../component-library":4562,"../../../component-library/form-text-field/deprecated":4550,"../../../component-library/modal-content/deprecated":4570,"../../../component-library/modal-header/deprecated":4579,"../../../ui/form-combo-field/form-combo-field":4762,"../name":4311,"./metrics":4309,"@metamask/name-controller":1328,"ethereumjs-util":2816,lodash:3437,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({onClose:e,type:t,value:n}){const T=(0,r.useSelector)(g.getCurrentChainId),{name:k,sourceId:w}=(0,b.useName)(n,t),E=(0,r.useSelector)(g.getNameSources,i.isEqual),[C,O]=(0,a.useState)(""),[M,P]=(0,a.useState)(!1),[S,j]=(0,a.useState)(),[N,I]=(0,a.useState)(),D=(0,r.useDispatch)(),A=(0,a.useContext)(v.I18nContext),R=Boolean(k),F=function(e,t){if(t===o.NameType.ETHEREUM_ADDRESS)return(0,s.toChecksumAddress)(e);return e}(n,t),{proposedNames:L,initialSources:$}=function(e,t,n){const o=(0,r.useDispatch)(),{proposedNames:i}=(0,b.useName)(e,t),s=(0,a.useRef)(),[l,c]=(0,a.useState)();return(0,a.useEffect)((()=>{const a=()=>{s.current&&clearInterval(s.current)},r=async()=>{const a=await o((0,h.updateProposedNames)({value:e,type:t,onlyUpdateAfterDelay:!0,variation:n}));l||c(function(e,t){const n=Object.keys(e).filter((t=>{var n;return null===(n=e[t].proposedNames)||void 0===n?void 0:n.length})),a=Object.keys(t).filter((n=>{var a,o;return!(null!==(a=e[n])&&void 0!==a&&a.proposedNames)&&(null===(o=t[n].proposedNames)||void 0===o?void 0:o.length)}));return[...n,...a].sort()}((null==a?void 0:a.results)??{},i))};return a(),r(),s.current=setInterval(r,x),a}),[e,t,n,o,l,c]),{proposedNames:i,initialSources:l}}(n,t,T),[W,B]=(0,y.useCopyToClipboard)();(0,a.useEffect)((()=>{O(k??""),j(w??undefined),I(w?k??undefined:undefined)}),[k,w,O,j]);const G=(0,a.useMemo)((()=>function(e,t){const n=Object.keys(e),a=n.filter((t=>{var n;return null===(n=e[t])||void 0===n||null===(n=n.proposedNames)||void 0===n?void 0:n.length})).map((n=>{var a;return((null===(a=e[n])||void 0===a?void 0:a.proposedNames)??[]).map((e=>{var a;return{primaryLabel:e,secondaryLabel:(null===(a=t[n])||void 0===a?void 0:a.label)??n,sourceId:n}}))})).flat();return a.sort(((e,t)=>e.secondaryLabel.toLowerCase().localeCompare(t.secondaryLabel.toLowerCase())))}(L,E)),[L,E]),{trackPetnamesOpenEvent:U,trackPetnamesSaveEvent:V}=(0,_.usePetnamesMetrics)({initialSources:$,name:C,proposedNameOptions:G,savedName:k,savedSourceId:w,selectedSourceId:S,type:t});(0,a.useEffect)((()=>{$&&!M&&(U(),P(!0))}),[$,M,U]);const q=(0,a.useCallback)((async()=>{V(),await D((0,h.setName)({value:n,type:t,name:null!=C&&C.length?C:null,sourceId:S,variation:T})),e()}),[C,S,e,V,T]),H=(0,a.useCallback)((()=>{e()}),[e]),z=(0,a.useCallback)((e=>{O(e),e!==N&&(j(undefined),I(undefined))}),[O,S]),K=(0,a.useCallback)((e=>{j(e.sourceId),I(e.primaryLabel)}),[j,I]),Y=(0,a.useCallback)((()=>{B(F)}),[B,F]);return a.default.createElement(l.Box,null,a.default.createElement(l.Modal,{isOpen:!0,onClose:H},a.default.createElement(l.ModalOverlay,null),a.default.createElement(u.ModalContent,null,a.default.createElement(d.ModalHeader,{onClose:H,onBack:H},A(R?"nameModalTitleSaved":"nameModalTitleNew")),a.default.createElement("div",{style:{textAlign:"center",marginBottom:16,marginTop:8}},a.default.createElement(f.default,{value:n,type:o.NameType.ETHEREUM_ADDRESS,disableEdit:!0,internal:!0})),a.default.createElement(l.Text,{marginBottom:4,justifyContent:p.JustifyContent.spaceBetween},A(R?"nameInstructionsSaved":"nameInstructionsNew")),a.default.createElement(c.FormTextField,{id:"address",className:"name-details__address",label:A("nameAddressLabel"),value:F,marginBottom:4,disabled:!0,endAccessory:a.default.createElement(l.ButtonIcon,{display:p.Display.Flex,iconName:W?l.IconName.CopySuccess:l.IconName.Copy,size:l.ButtonIconSize.Sm,onClick:Y,color:p.IconColor.iconMuted,ariaLabel:A("copyAddress")})}),a.default.createElement(l.Label,{flexDirection:p.FlexDirection.Column,alignItems:p.AlignItems.flexStart,marginBottom:2,className:"name-details__display-name"},A("nameLabel"),a.default.createElement(m.default,{hideDropdownIfNoOptions:!0,value:C,options:G,placeholder:A("nameSetPlaceholder"),onChange:z,onOptionClick:K})),a.default.createElement(l.Button,{variant:l.ButtonVariant.Primary,startIconName:R?undefined:l.IconName.Save,width:p.BlockSize.Full,onClick:q},A(R?"ok":"save")))))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/name-controller"),r=e("react-redux"),i=e("lodash"),s=e("ethereumjs-util"),l=e("../../../component-library"),c=e("../../../component-library/form-text-field/deprecated"),u=e("../../../component-library/modal-content/deprecated"),d=e("../../../component-library/modal-header/deprecated"),p=e("../../../../helpers/constants/design-system"),f=T(e("../name")),m=T(e("../../../ui/form-combo-field/form-combo-field")),g=e("../../../../selectors"),h=e("../../../../store/actions"),y=e("../../../../hooks/useCopyToClipboard"),b=e("../../../../hooks/useName"),v=e("../../../../contexts/i18n"),_=e("./metrics");function T(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}const x=2e3}}},{package:"$root$",file:"ui/components/app/name/name-details/name-details.tsx"}],[4311,{"../../../../shared/constants/metametrics":4063,"../../../contexts/metametrics":4869,"../../../helpers/constants/design-system":4892,"../../../helpers/utils/util":4934,"../../../hooks/useName":4963,"../../component-library":4562,"./name-details/name-details":4310,"@metamask/name-controller":1328,classnames:2468,"ethereumjs-util":2816,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function({value:e,type:t,disableEdit:n,internal:m}){const[g,h]=(0,a.useState)(!1),y=(0,a.useContext)(u.MetaMetricsContext),{name:b}=(0,c.useName)(e,t);(0,a.useEffect)((()=>{m||y({event:d.MetaMetricsEventName.PetnameDisplayed,category:d.MetaMetricsEventCategory.Petnames,properties:{petname_category:t,has_petname:Boolean(null==b?void 0:b.length)}})}),[]);const v=(0,a.useCallback)((()=>{h(!0)}),[h]),_=(0,a.useCallback)((()=>{h(!1)}),[h]),T=function(e,t){if(t===o.NameType.ETHEREUM_ADDRESS)return(0,l.shortenAddress)((0,i.toChecksumAddress)(e));return e}(e,t),k=Boolean(b),x=k?s.IconName.Save:s.IconName.Warning;return a.default.createElement("div",null,!n&&g&&a.default.createElement(f.default,{value:e,type:t,onClose:_}),a.default.createElement("div",{className:(0,r.default)({name:!0,name__saved:k,name__missing:!k}),onClick:v},a.default.createElement(s.Icon,{name:x,className:"name__icon",size:s.IconSize.Lg}),k?a.default.createElement(s.Text,{className:"name__name",variant:p.TextVariant.bodyMd},b):a.default.createElement(s.Text,{className:"name__value",variant:p.TextVariant.bodyMd},T)))};var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("@metamask/name-controller"),r=m(e("classnames")),i=e("ethereumjs-util"),s=e("../../component-library"),l=e("../../../helpers/utils/util"),c=e("../../../hooks/useName"),u=e("../../../contexts/metametrics"),d=e("../../../../shared/constants/metametrics"),p=e("../../../helpers/constants/design-system"),f=m(e("./name-details/name-details"));function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}}}},{package:"$root$",file:"ui/components/app/name/name.tsx"}],[4312,{"./network-account-balance-header":4313},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./network-account-balance-header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/network-account-balance-header/index.js"}],[4313,{"../../../../shared/constants/network":4064,"../../../contexts/i18n":4868,"../../../helpers/constants/design-system":4892,"../../component-library":4562,"../../ui/box/box":4728,"../../ui/icon-with-fallback":4772,"../../ui/identicon":4784,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=p(e("prop-types")),r=p(e("../../ui/icon-with-fallback")),i=p(e("../../ui/identicon")),s=e("../../../helpers/constants/design-system"),l=p(e("../../ui/box/box")),c=e("../../../contexts/i18n"),u=e("../../../../shared/constants/network"),d=e("../../component-library");function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m({networkName:e,accountName:t,accountBalance:n,tokenName:o,accountAddress:p,chainId:f}){const m=(0,a.useContext)(c.I18nContext),g=u.CHAIN_ID_TO_NETWORK_IMAGE_URL_MAP[f],h=g?"network-account-balance-header__network-account__ident-icon-ethereum":"network-account-balance-header__network-account__ident-icon-ethereum--gray";return a.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,padding:4,className:"network-account-balance-header",alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.spaceBetween},a.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center,gap:2},a.default.createElement(l.default,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center},a.default.createElement(i.default,{address:p,diameter:32}),a.default.createElement(r.default,{name:e,size:16,icon:g,wrapperClassName:h})),a.default.createElement(l.default,{display:s.Display.Flex,alignItems:s.AlignItems.flexStart,flexDirection:s.FlexDirection.Column},a.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative},e),a.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textDefault,fontWeight:s.FontWeight.Bold},t))),a.default.createElement(l.default,{display:s.Display.Flex,alignItems:s.AlignItems.flexEnd,flexDirection:s.FlexDirection.Column},a.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative},m("balance")),a.default.createElement(d.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textDefault,fontWeight:s.FontWeight.Bold,align:s.TextAlign.End},n," ",o)))}m.propTypes={networkName:o.default.string,accountName:o.default.string,accountBalance:o.default.string,tokenName:o.default.string,accountAddress:o.default.string,chainId:o.default.string}}}},{package:"$root$",file:"ui/components/app/network-account-balance-header/network-account-balance-header.js"}],[4314,{"./network-display":4315},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./network-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/network-display/index.js"}],[4315,{"../../../../shared/constants/network":4064,"../../../ducks/metamask/metamask":4884,"../../../helpers/constants/design-system":4892,"../../../helpers/utils/i18n-helper":4921,"../../../hooks/useI18nContext":4959,"../../../selectors":5306,"../../component-library":4562,"../../ui/chip/chip":4739,"../../ui/color-indicator":4742,"../../ui/loading-indicator":4791,classnames:2468,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a=y(e("react")),o=y(e("prop-types")),r=y(e("classnames")),i=e("react-redux"),s=e("../../../../shared/constants/network"),l=y(e("../../ui/loading-indicator")),c=y(e("../../ui/color-indicator")),u=e("../../../helpers/constants/design-system"),d=y(e("../../ui/chip/chip")),p=e("../../../hooks/useI18nContext"),f=e("../../../selectors"),m=e("../../component-library"),g=e("../../../ducks/metamask/metamask"),h=e("../../../helpers/utils/i18n-helper");function y(e){return e&&e.__esModule?e:{default:e}}function b({indicatorSize:e,disabled:t,labelProps:n,targetNetwork:o,onClick:y}){const b=(0,i.useSelector)(f.isNetworkLoading),v=(0,i.useSelector)(g.getProviderConfig),_=(0,p.useI18nContext)(),{nickname:T,type:k}=o??v;return a.default.createElement(d.default,{dataTestId:"network-display",borderColor:y?u.BorderColor.borderDefault:u.BorderColor.borderMuted,onClick:y,leftIcon:a.default.createElement(l.default,{alt:_("attemptingConnect"),title:_("attemptingConnect"),isLoading:b},a.default.createElement(c.default,{color:k===s.NETWORK_TYPES.RPC?u.IconColor.iconMuted:k,size:e,type:c.default.TYPES.FILLED,iconClassName:k===s.NETWORK_TYPES.RPC&&e!==u.Size.XS?"fa fa-question":undefined})),rightIcon:y?a.default.createElement(m.Icon,{name:m.IconName.ArrowDown,size:m.IconSize.Xs}):null,label:k===s.NETWORK_TYPES.RPC?T??_("privateNetwork"):_((0,h.getNetworkLabelKey)(k)),className:(0,r.default)("network-display",{"network-display--disabled":t,"network-display--clickable":"function"==typeof y}),labelProps:{variant:u.TypographyVariant.H7,...n}})}b.propTypes={indicatorSize:o.default.oneOf(Object.values(u.Size)),labelProps:d.default.propTypes.labelProps,targetNetwork:o.default.shape({type:o.default.oneOf([...Object.keys(s.BUILT_IN_NETWORKS),s.NETWORK_TYPES.RPC]),nickname:o.default.string}),disabled:o.default.bool,onClick:o.default.func},b.defaultProps={indicatorSize:u.Size.LG}}}},{package:"$root$",file:"ui/components/app/network-display/network-display.js"}],[4316,{"../../../helpers/constants/design-system":4892,"../../../hooks/useI18nContext":4959,"../../../store/actions":5313,"../../component-library":4562,classnames:2468,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=d(e("react")),o=d(e("prop-types")),r=d(e("classnames")),i=e("react-redux"),s=e("../../../helpers/constants/design-system"),l=e("../../../hooks/useI18nContext"),c=e("../../component-library"),u=e("../../../store/actions");function d(e){return e&&e.__esModule?e:{default:e}}function p({className:e,clickable:t}){const n=(0,l.useI18nContext)(),o=(0,i.useDispatch)();return a.default.createElement(c.Box,{tabIndex:0,"data-testid":"nft-default-image",className:(0,r.default)(e,"nft-default",{"nft-default--clickable":t}),display:s.Display.Flex,alignItems:s.AlignItems.Center,justifyContent:s.JustifyContent.Center,borderRadius:s.BorderRadius.LG},t&&a.default.createElement(c.ButtonLink,{block:!0,className:"nft-default__button",onClick:e=>{e.stopPropagation(),o((0,u.showIpfsModal)())}},n("show")))}p.propTypes={clickable:o.default.bool,className:o.default.string}}}},{package:"$root$",file:"ui/components/app/nft-default-image/nft-default-image.js"}],[4317,{"../../../../shared/constants/network":4064,"../../../helpers/constants/design-system":4892,"../../../hooks/useI18nContext":4959,"../../../store/actions":5313,"../../component-library":4562,"../../component-library/modal-content/deprecated":4570,"../../component-library/modal-header/deprecated":4579,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ToggleIpfsModal=void 0;var a=f(e("react")),o=f(e("prop-types")),r=e("react-redux"),i=e("../../component-library"),s=e("../../component-library/modal-content/deprecated"),l=e("../../component-library/modal-header/deprecated"),c=e("../../../hooks/useI18nContext"),u=e("../../../store/actions"),d=e("../../../../shared/constants/network"),p=e("../../../helpers/constants/design-system");function f(e){return e&&e.__esModule?e:{default:e}}const m=({onClose:e})=>{const t=(0,c.useI18nContext)(),n=(0,r.useDispatch)();return a.default.createElement(i.Modal,{isOpen:!0,onClose:e,className:"toggle-ipfs-modal"},a.default.createElement(i.ModalOverlay,null),a.default.createElement(s.ModalContent,null,a.default.createElement(l.ModalHeader,{onClose:e},t("showNft")),a.default.createElement(i.Box,{className:"toggle-ipfs-modal",marginTop:6},a.default.createElement(i.Text,{variant:p.TextVariant.bodyMd,color:p.TextColor.textAlternative},t("ipfsToggleModalDescriptionOne")),a.default.createElement(i.Text,{variant:p.TextVariant.bodyMd,color:p.TextColor.textAlternative,marginTop:6},t("ipfsToggleModalDescriptionTwo",[a.default.createElement(i.Text,{variant:p.TextVariant.bodyMdBold,color:p.TextColor.textAlternative,as:"span",key:"span"},t("ipfsToggleModalSettings"),",")]))),a.default.createElement(i.ButtonPrimary,{block:!0,marginTop:9,onClick:()=>{n((0,u.setIpfsGateway)(d.IPFS_DEFAULT_GATEWAY_URL)),n((0,u.hideIpfsModal)())},size:p.Size.LG},t("confirm"))))};n.ToggleIpfsModal=m,m.propTypes={onClose:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/nft-default-image/toggle-ipfs-modal.js"}],[4318,{"../../../../app/scripts/lib/util":85,"../../../../shared/constants/app":4054,"../../../../shared/constants/network":4064,"../../../../shared/constants/transaction":4076,"../../../../shared/modules/conversion.utils":4090,"../../../../shared/modules/string-utils":4104,"../../../ducks/metamask/metamask":4884,"../../../ducks/send":4886,"../../../helpers/constants/design-system":4892,"../../../helpers/constants/routes":4897,"../../../helpers/utils/nfts":4925,"../../../helpers/utils/util":4934,"../../../hooks/useCopyToClipboard":4952,"../../../hooks/useI18nContext":4959,"../../../hooks/usePrevious":4967,"../../../pages/asset/components/asset-navigation":4993,"../../../selectors":5306,"../../../store/actions":5313,"../../component-library":4562,"../../multichain/nft-item":4685,"../../ui/box":4729,"../../ui/button":4733,"../../ui/info-tooltip":4785,"../../ui/tooltip":4856,"../nft-options/nft-options":4319,lodash:3437,"prop-types":3575,react:3788,"react-redux":3753,"react-router-dom":3773},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=A;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=I(e("prop-types")),r=e("react-redux"),i=e("react-router-dom"),s=e("lodash"),l=I(e("../../ui/box")),c=e("../../../helpers/constants/design-system"),u=e("../../../hooks/useI18nContext"),d=e("../../../helpers/utils/util"),p=e("../../../helpers/utils/nfts"),f=e("../../../selectors"),m=I(e("../../../pages/asset/components/asset-navigation")),g=e("../../../ducks/metamask/metamask"),h=e("../../../helpers/constants/routes"),y=e("../../../store/actions"),b=e("../../../../shared/constants/network"),v=e("../../../../app/scripts/lib/util"),_=e("../../../../shared/constants/app"),T=I(e("../nft-options/nft-options")),k=I(e("../../ui/button")),x=e("../../../ducks/send"),w=I(e("../../ui/info-tooltip")),E=e("../../../hooks/usePrevious"),C=e("../../../hooks/useCopyToClipboard"),O=e("../../../../shared/modules/string-utils"),M=e("../../../../shared/constants/transaction"),P=e("../../component-library"),S=I(e("../../ui/tooltip")),j=e("../../../../shared/modules/conversion.utils"),N=e("../../multichain/nft-item");function I(e){return e&&e.__esModule?e:{default:e}}function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function A({nft:e}){var t,n;const{image:o,imageOriginal:I,name:D,description:A,address:R,tokenId:F,standard:L,isCurrentlyOwned:$,lastSale:W}=e,B=(0,u.useI18nContext)(),G=(0,i.useHistory)(),U=(0,r.useDispatch)(),V=(0,r.useSelector)(f.getIpfsGateway),q=(0,r.useSelector)(g.getNftContracts),H=(0,r.useSelector)(f.getCurrentChainId),z=(0,r.useSelector)(f.getCurrentNetwork),[K,Y]=(0,C.useCopyToClipboard)(),X=null===(t=q.find((({address:e})=>(0,O.isEqualCaseInsensitive)(e,R))))||void 0===t?void 0:t.name,{metadata:{name:J}}=(0,r.useSelector)(f.getSelectedInternalAccount),Z=(0,p.getNftImageAlt)(e),Q=I??o,ee=(0,d.getAssetImageURL)(I??o,V),te=null==Q?void 0:Q.startsWith("ipfs:"),ne=null==o?void 0:o.startsWith("https:"),ae=(0,d.formatDate)(new Date(null==W?void 0:W.event_timestamp).getTime(),"M/d/y"),oe=(0,E.usePrevious)(e);(0,a.useEffect)((()=>{(0,s.isEqual)(oe,e)||(0,y.checkAndUpdateSingleNftOwnershipStatus)(e)}),[e,oe]);const re=(()=>{switch(H){case b.CHAIN_IDS.MAINNET:return`https://opensea.io/assets/ethereum/${R}/${F}`;case b.CHAIN_IDS.POLYGON:return`https://opensea.io/assets/matic/${R}/${F}`;case b.CHAIN_IDS.GOERLI:return`https://testnets.opensea.io/assets/goerli/${R}/${F}`;case b.CHAIN_IDS.SEPOLIA:return`https://testnets.opensea.io/assets/sepolia/${R}/${F}`;default:return null}})(),ie=L!==M.TokenStandard.ERC721&&L!==M.TokenStandard.ERC1155,se=(0,v.getEnvironmentType)()===_.ENVIRONMENT_TYPE_POPUP,le=async()=>{await U((0,x.startNewDraftTransaction)({type:M.AssetType.NFT,details:e})),G.push(h.SEND_ROUTE)},ce=()=>!1===$?a.default.createElement("div",{style:{height:"30px"}}):a.default.createElement(l.default,{display:c.Display.Flex,margin:se?[4,0]:null},a.default.createElement(k.default,{type:"primary",onClick:le,disabled:ie,className:"nft-details__send-button","data-testid":"nft-send-button"},B("send")),ie?a.default.createElement(w.default,{position:"top",contentText:B("sendingDisabled")}):null);return a.default.createElement(a.default.Fragment,null,a.default.createElement(m.default,{accountName:J,assetName:X,onBack:()=>G.push(h.DEFAULT_ROUTE),optionsButton:a.default.createElement(T.default,{onViewOnOpensea:re?()=>global.platform.openTab({url:re}):null,onRemove:()=>{U((0,y.removeAndIgnoreNft)(R,F)),U((0,y.setNewNftAddedMessage)("")),U((0,y.setRemoveNftMessage)("success")),G.push(h.DEFAULT_ROUTE)}})}),a.default.createElement(l.default,{className:"nft-details"},a.default.createElement(l.default,{className:"nft-details__top-section",gap:6,flexDirection:c.FlexDirection.Column},a.default.createElement(l.default,{className:"nft-details__nft-item"},a.default.createElement(N.NftItem,{nftImageURL:ee,src:ne?o:ee,alt:o?Z:"",name:D,tokenId:F,networkName:z.nickname,networkSrc:null===(n=z.rpcPrefs)||void 0===n?void 0:n.imageUrl,isIpfsURL:te,clickable:!0})),a.default.createElement(l.default,{flexDirection:c.FlexDirection.Column,className:"nft-details__info",marginTop:4,justifyContent:c.JustifyContent.spaceBetween},a.default.createElement("div",null,a.default.createElement(P.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.headingSm,as:"h4",fontWeight:c.FontWeight.Bold,marginBottom:2},D),a.default.createElement(P.Text,{color:c.TextColor.textMuted,variant:c.TextVariant.bodyMd,as:"h5",marginBottom:4,overflowWrap:c.OverflowWrap.BreakWord},"#",F)),A?a.default.createElement("div",null,a.default.createElement(P.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.bodySmBold,as:"h6",marginBottom:2,className:"nft-details__description"},B("description")),a.default.createElement(P.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6",overflowWrap:c.OverflowWrap.BreakWord,marginBottom:4},A)):null,se?null:ce())),a.default.createElement(l.default,{marginBottom:2},W?a.default.createElement(a.default.Fragment,null,a.default.createElement(l.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row},a.default.createElement(P.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},B("lastSold")),a.default.createElement(l.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,className:"nft-details__contract-wrapper"},a.default.createElement(P.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6",overflowWrap:c.OverflowWrap.BreakWord,marginBottom:4},ae))),a.default.createElement(l.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row},a.default.createElement(P.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},B("lastPriceSold")),a.default.createElement(l.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,className:"nft-details__contract-wrapper"},a.default.createElement(P.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6",overflowWrap:c.OverflowWrap.BreakWord,marginBottom:4},`${Number((0,j.decWEIToDecETH)(W.total_price))} ${W.payment_token.symbol}`)))):null,a.default.createElement(l.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row},a.default.createElement(P.Text,{color:c.TextColor.textDefault,variant:c.TextVariant.bodySmBold,as:"h6",marginBottom:4,marginRight:2,className:"nft-details__link-title"},B("contractAddress")),a.default.createElement(l.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,className:"nft-details__contract-wrapper"},a.default.createElement(P.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6",overflowWrap:c.OverflowWrap.BreakWord,marginBottom:4},(0,d.shortenAddress)(R)),a.default.createElement(S.default,{wrapperClassName:"nft-details__tooltip-wrapper",position:"bottom",title:B(K?"copiedExclamation":"copyToClipboard")},a.default.createElement(P.ButtonIcon,{ariaLabel:"copy",color:c.IconColor.iconAlternative,className:"nft-details__contract-copy-button","data-testid":"nft-address-copy",onClick:()=>{Y(R)},iconName:K?P.IconName.CopySuccess:P.IconName.Copy})))),se?ce():null,a.default.createElement(P.Text,{color:c.TextColor.textAlternative,variant:c.TextVariant.bodySm,as:"h6"},B("nftDisclaimer")))))}A.propTypes={nft:o.default.shape({address:o.default.string.isRequired,tokenId:o.default.string.isRequired,isCurrentlyOwned:o.default.bool,name:o.default.string,description:o.default.string,image:o.default.string,standard:o.default.string,imageThumbnail:o.default.string,imagePreview:o.default.string,imageOriginal:o.default.string,creator:o.default.shape({address:o.default.string,config:o.default.string,profile_img_url:o.default.string}),lastSale:o.default.shape({event_timestamp:o.default.string,total_price:o.default.string,payment_token:o.default.shape({symbol:o.default.string})})})}}}},{package:"$root$",file:"ui/components/app/nft-details/nft-details.js"}],[4319,{"../../../contexts/i18n":4868,"../../../helpers/constants/design-system":4892,"../../component-library":4562,"../../ui/menu":4801,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=(a=e("prop-types"))&&a.__esModule?a:{default:a},i=e("../../../contexts/i18n"),s=e("../../ui/menu"),l=e("../../component-library"),c=e("../../../helpers/constants/design-system");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=({onRemove:e,onViewOnOpensea:t})=>{const n=(0,o.useContext)(i.I18nContext),[a,r]=(0,o.useState)(!1),u=(0,o.useRef)(!1);return o.default.createElement("div",{ref:u},o.default.createElement(l.ButtonIcon,{iconName:l.IconName.MoreVertical,className:"nft-options__button","data-testid":"nft-options__button",onClick:()=>r(!0),color:c.Color.textDefault,size:l.ButtonIconSize.Sm,ariaLabel:n("nftOptions")}),a?o.default.createElement(s.Menu,{"data-testid":"close-nft-options-menu",anchorElement:u.current,onHide:()=>r(!1)},t?o.default.createElement(s.MenuItem,{iconName:l.IconName.Export,"data-testid":"nft-options__view-on-opensea",onClick:()=>{r(!1),t()}},n("viewOnOpensea")):null,o.default.createElement(s.MenuItem,{iconName:l.IconName.Trash,"data-testid":"nft-item-remove",onClick:()=>{r(!1),e()}},n("removeNFT"))):null)};d.propTypes={onRemove:r.default.func.isRequired,onViewOnOpensea:r.default.func};n.default=d}}},{package:"$root$",file:"ui/components/app/nft-options/nft-options.js"}],[4320,{"../../../helpers/constants/routes":4897,"../../../hooks/useI18nContext":4959,"../../component-library":4562,"prop-types":3575,react:3788,"react-router-dom":3773},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var a=c(e("react")),o=c(e("prop-types")),r=e("react-router-dom"),i=e("../../component-library"),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/routes");function c(e){return e&&e.__esModule?e:{default:e}}function u({onActionButtonClick:e}){const t=(0,s.useI18nContext)(),n=(0,r.useHistory)();return a.default.createElement(i.BannerAlert,{className:"nfts-detection-notice",actionButtonLabel:t("selectEnableDisplayMediaPrivacyPreference"),actionButtonOnClick:t=>{t.preventDefault(),n.push(`${l.SECURITY_ROUTE}#display-nft-media`),null==e||e()}},t("newNFTDetectedInImportNFTsMsg",[a.default.createElement("b",{key:"new-nft-detected-in-import-nfts-message-strong-text"},t("newNFTDetectedInImportNFTsMessageStrongText"))]))}u.propTypes={onActionButtonClick:o.default.func.isRequired}}}},{package:"$root$",file:"ui/components/app/nfts-detection-notice-import-nfts/nfts-detection-notice-import-nfts.js"}],[4321,{"../../../helpers/constants/routes":4897,"../../../hooks/useI18nContext":4959,"../../component-library":4562,react:3788,"react-router-dom":3773},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,s.useI18nContext)(),t=(0,r.useHistory)();return o.default.createElement(i.BannerAlert,{className:"nfts-detection-notice",title:e("newNFTsAutodetected"),actionButtonLabel:e("selectNFTPrivacyPreference"),actionButtonOnClick:e=>{e.preventDefault(),t.push(`${l.SECURITY_ROUTE}#autodetect-nfts`)}},e("newNFTDetectedInNFTsTabMessage"))};var a,o=(a=e("react"))&&a.__esModule?a:{default:a},r=e("react-router-dom"),i=e("../../component-library"),s=e("../../../hooks/useI18nContext"),l=e("../../../helpers/constants/routes")}}},{package:"$root$",file:"ui/components/app/nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab.js"}],[4322,{"./nfts-items":4323},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./nfts-items"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/nfts-items/index.js"}],[4323,{"../../../../app/scripts/lib/util":85,"../../../../shared/constants/app":4054,"../../../../shared/constants/transaction":4076,"../../../ducks/metamask/metamask":4884,"../../../ducks/send":4886,"../../../helpers/constants/design-system":4892,"../../../helpers/constants/routes":4897,"../../../helpers/utils/nfts":4925,"../../../helpers/utils/util":4934,"../../../hooks/useI18nContext":4959,"../../../hooks/usePrevious":4967,"../../../selectors":5306,"../../../store/actions":5313,"../../component-library":4562,"../../multichain/nft-item":4685,"../../ui/box":4729,"../../ui/typography/typography":4861,lodash:3437,"prop-types":3575,react:3788,"react-redux":3753,"react-router-dom":3773},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=P;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=E(e("prop-types")),r=e("react-redux"),i=e("react-router-dom"),s=e("lodash"),l=E(e("../../ui/box")),c=E(e("../../ui/typography/typography")),u=e("../../../helpers/constants/design-system"),d=e("../../../../shared/constants/app"),p=e("../../../../app/scripts/lib/util"),f=e("../../../selectors"),m=e("../../../helpers/constants/routes"),g=e("../../../helpers/utils/util"),h=e("../../../helpers/utils/nfts"),y=e("../../../store/actions"),b=e("../../../hooks/usePrevious"),v=e("../../../ducks/metamask/metamask"),_=e("../../../hooks/useI18nContext"),T=e("../../component-library"),k=e("../../multichain/nft-item"),x=e("../../../ducks/send"),w=e("../../../../shared/constants/transaction");function E(e){return e&&e.__esModule?e:{default:e}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}const O=e=>{const t=(0,p.getEnvironmentType)()===d.ENVIRONMENT_TYPE_POPUP;return e||t===d.ENVIRONMENT_TYPE_POPUP?u.BLOCK_SIZES.ONE_THIRD:u.BLOCK_SIZES.ONE_SIXTH},M="previouslyOwned";function P({collections:e={},previouslyOwnedCollection:t={},isModal:n=!1,onCloseModal:o={},showTokenId:d=!1,displayPreviouslyOwnedCollection:p=!0}){var E;const C=(0,r.useDispatch)(),P=Object.keys(e),S=(0,r.useSelector)(v.getNftsDropdownState),j=(0,b.usePrevious)(P),N=(0,r.useSelector)(f.getSelectedAddress),I=(0,r.useSelector)(f.getCurrentChainId),D=(0,r.useSelector)(f.getCurrentNetwork),A=(0,_.useI18nContext)(),R=(0,r.useSelector)(f.getIpfsGateway),F=(0,r.useSelector)(f.getOpenSeaEnabled);(0,a.useEffect)((()=>{var e,t;if(I!==undefined&&N!==undefined&&!(0,s.isEqual)(j,P)&&((null==S||null===(e=S[N])||void 0===e?void 0:e[I])===undefined||0===Object.keys(null==S||null===(t=S[N])||void 0===t?void 0:t[I]).length)){const e={};P.forEach((t=>{e[t]=!0}));const t={...S,[N]:{...null==S?void 0:S[N],[I]:e}};C((0,y.updateNftDropDownState)(t))}}),[P,j,S,N,I,C]);const L=(0,i.useHistory)(),$=({nfts:e,collectionName:t,collectionImage:r,key:i})=>{var s;if(!e.length)return null;const p=null===(s=S[N])||void 0===s||null===(s=s[I])||void 0===s?void 0:s[i];return a.default.createElement("div",{className:"nfts-items__collection",key:`collection-${i}`},a.default.createElement("button",{className:"nfts-items__collection-wrapper","data-testid":"collection-expander-button",onClick:()=>{((e,t)=>{const n={...S[N][I],[e]:!t},a={...S,[N]:{[I]:n}};C((0,y.updateNftDropDownState)(a))})(i,p)}},a.default.createElement(l.default,{marginBottom:2,display:u.DISPLAY.FLEX,alignItems:u.AlignItems.center,justifyContent:u.JustifyContent.spaceBetween,className:"nfts-items__collection-accordion-title"},a.default.createElement(l.default,{alignItems:u.AlignItems.center,className:"nfts-items__collection-header"},((e,t)=>{var n,o,r;return null!=e&&e.startsWith("ipfs")&&!R?a.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(o=t[0])||void 0===o?void 0:o.toUpperCase())??null):F||null!=e&&e.startsWith("ipfs")?e?a.default.createElement("img",{alt:t,src:(0,g.getAssetImageURL)(e,R),className:"nfts-items__collection-image"}):a.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(n=t[0])||void 0===n?void 0:n.toUpperCase())??null):a.default.createElement("div",{className:"nfts-items__collection-image-alt"},(null==t||null===(r=t[0])||void 0===r?void 0:r.toUpperCase())??null)})(r,t),a.default.createElement(c.default,{color:u.Color.textDefault,variant:u.TypographyVariant.H5,margin:2},`${t??A("unknownCollection")} (${e.length})`)),a.default.createElement(l.default,{alignItems:u.AlignItems.flexEnd},a.default.createElement(T.Icon,{name:p?T.IconName.ArrowDown:T.IconName.ArrowRight,color:u.Color.iconDefault})))),p?a.default.createElement(l.default,{display:u.DISPLAY.FLEX,flexWrap:u.FLEX_WRAP.WRAP,gap:4},e.map(((e,t)=>{var r;const{image:i,address:s,tokenId:c,name:u,imageOriginal:p}=e,f=(0,g.getAssetImageURL)(p??i,R),y=(0,h.getNftImageAlt)(e),b=null==i?void 0:i.startsWith("https:"),v=null!=p&&p.startsWith("ipfs")?f:i,_=p??i,E=null==_?void 0:_.startsWith("ipfs:");return a.default.createElement(l.default,{"data-testid":"nft-wrapper",width:O(n),key:`nft-${t}`,className:"nfts-items__item-wrapper"},a.default.createElement(k.NftItem,{nftImageURL:v,alt:y,src:b?i:f,name:u,tokenId:c,networkName:D.nickname,networkSrc:null===(r=D.rpcPrefs)||void 0===r?void 0:r.imageUrl,onClick:()=>n?(async e=>{await C((0,x.updateSendAsset)({type:w.AssetType.NFT,details:e,skipComputeEstimatedGasLimit:!0})),L.push(m.SEND_ROUTE),o()})(e):L.push(`${m.ASSET_ROUTE}/${s}/${c}`),isIpfsURL:E,clickable:!0}),d?a.default.createElement(T.Text,null,`${A("id")}: ${c}`):null)}))):null)};return a.default.createElement("div",{className:"nfts-items"},a.default.createElement(l.default,{paddingTop:6,paddingBottom:6,paddingLeft:4,paddingRight:4,flexDirection:u.FLEX_DIRECTION.COLUMN},a.default.createElement(a.default.Fragment,null,P.map((t=>{const{nfts:n,collectionName:a,collectionImage:o}=e[t];return $({nfts:n,collectionName:a,collectionImage:o,key:t,isPreviouslyOwnedCollection:!1})})),p?$({nfts:t.nfts,collectionName:t.collectionName,collectionImage:null===(E=t.nfts[0])||void 0===E?void 0:E.image,isPreviouslyOwnedCollection:!0,key:M}):null)))}P.propTypes={previouslyOwnedCollection:o.default.shape({nfts:o.default.arrayOf(o.default.shape({address:o.default.string.isRequired,tokenId:o.default.string.isRequired,name:o.default.string,description:o.default.string,image:o.default.string,standard:o.default.string,imageThumbnail:o.default.string,imagePreview:o.default.string,creator:o.default.shape({address:o.default.string,config:o.default.string,profile_img_url:o.default.string})})),collectionName:o.default.string,collectionImage:o.default.string}),collections:o.default.shape({nfts:o.default.arrayOf(o.default.shape({address:o.default.string.isRequired,tokenId:o.default.string.isRequired,name:o.default.string,description:o.default.string,image:o.default.string,standard:o.default.string,imageThumbnail:o.default.string,imagePreview:o.default.string,creator:o.default.shape({address:o.default.string,config:o.default.string,profile_img_url:o.default.string})})),collectionImage:o.default.string,collectionName:o.default.string}),isModal:o.default.bool,onCloseModal:o.default.func,showTokenId:o.default.bool,displayPreviouslyOwnedCollection:o.default.bool}}}},{package:"$root$",file:"ui/components/app/nfts-items/nfts-items.js"}],[4324,{"./nfts-tab":4325},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./nfts-tab"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/nfts-tab/index.js"}],[4325,{"../../../helpers/constants/design-system":4892,"../../../helpers/constants/routes":4897,"../../../helpers/constants/zendesk-url":4903,"../../../hooks/useI18nContext":4959,"../../../hooks/useNftsCollections":4964,"../../../selectors":5306,"../../../store/actions":5313,"../../component-library":4562,"../../multichain":4677,"../../multichain/asset-list-conversion-button/asset-list-conversion-button":4646,"../nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab":4321,"../nfts-items":4322,react:3788,"react-redux":3753,"react-router-dom":3773},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){const e=(0,o.useSelector)(d.getUseNftDetection),t=(0,o.useSelector)(d.getIsMainnet),n=(0,r.useHistory)(),b=(0,c.useI18nContext)(),v=(0,o.useDispatch)(),{nftsLoading:_,collections:T,previouslyOwnedCollection:k}=(0,u.useNftsCollections)(),x=Object.keys(T).length>0,w=!1===x;if(_)return a.default.createElement("div",{className:"nfts-tab__loading"},b("loadingNFTs"));return a.default.createElement(f.Box,{className:"nfts-tab"},x>0||k.nfts.length>0?a.default.createElement(g.default,{collections:T,previouslyOwnedCollection:k}):a.default.createElement(a.default.Fragment,null,t&&!e?a.default.createElement(f.Box,{paddingTop:4,paddingInlineStart:4,paddingInlineEnd:4},a.default.createElement(m.default,null)):null,w?a.default.createElement(f.Box,{paddingInlineStart:4,paddingInlineEnd:4,display:i.Display.Flex,paddingTop:4},a.default.createElement(h.AssetListConversionButton,{variant:y.ASSET_LIST_CONVERSION_BUTTON_VARIANT_TYPES.NFT,onClick:()=>global.platform.openTab({url:l.default.NFT_TOKENS})})):null,a.default.createElement(f.Box,{padding:12,display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.center,justifyContent:i.JustifyContent.center},a.default.createElement(f.Box,{justifyContent:i.JustifyContent.center},a.default.createElement("img",{src:"./images/no-nfts.svg"})),a.default.createElement(f.Box,{marginTop:4,marginBottom:12,display:i.Display.Flex,justifyContent:i.JustifyContent.center,alignItems:i.AlignItems.center,flexDirection:i.FlexDirection.Column,className:"nfts-tab__link"},a.default.createElement(f.Text,{color:i.TextColor.textMuted,variant:i.TextVariant.headingSm,align:i.TextAlign.Center,as:"h4"},b("noNFTs")),a.default.createElement(f.ButtonLink,{size:i.Size.MD,href:l.default.NFT_TOKENS,externalLink:!0},b("learnMoreUpperCase"))))),a.default.createElement(f.Box,{className:"nfts-tab__buttons",display:i.Display.Flex,flexDirection:i.FlexDirection.Column,alignItems:i.AlignItems.flexStart,margin:4,gap:2,marginBottom:2},a.default.createElement(f.ButtonLink,{size:i.Size.MD,"data-testid":"import-nft-button",startIconName:f.IconName.Add,onClick:()=>{v((0,p.showImportNftsModal)())}},b("importNFT")),!t&&Object.keys(T).length<1?null:a.default.createElement(a.default.Fragment,null,a.default.createElement(f.Box,{className:"nfts-tab__link",justifyContent:i.JustifyContent.flexEnd},t&&!e?a.default.createElement(f.ButtonLink,{size:i.Size.MD,startIconName:f.IconName.Setting,"data-testid":"refresh-list-button",onClick:()=>{n.push(s.SECURITY_ROUTE)}},b("enableAutoDetect")):a.default.createElement(f.ButtonLink,{size:i.Size.MD,startIconName:f.IconName.Refresh,"data-testid":"refresh-list-button",onClick:()=>{t&&v((0,p.detectNfts)()),(0,p.checkAndUpdateAllNftsOwnershipStatus)()}},b("refreshList"))))))};var a=b(e("react")),o=e("react-redux"),r=e("react-router-dom"),i=e("../../../helpers/constants/design-system"),s=e("../../../helpers/constants/routes"),l=b(e("../../../helpers/constants/zendesk-url")),c=e("../../../hooks/useI18nContext"),u=e("../../../hooks/useNftsCollections"),d=e("../../../selectors"),p=e("../../../store/actions"),f=e("../../component-library"),m=b(e("../nfts-detection-notice-nfts-tab/nfts-detection-notice-nfts-tab")),g=b(e("../nfts-items")),h=e("../../multichain"),y=e("../../multichain/asset-list-conversion-button/asset-list-conversion-button");function b(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/nfts-tab/nfts-tab.js"}],[4326,{"./permission-cell":4328},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permission-cell"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permission-cell/index.js"}],[4327,{"../../../../shared/constants/snaps/permissions":4071,"../../../helpers/constants/design-system":4892,"../../../hooks/useI18nContext":4959,"../../../store/actions":5313,"../../component-library":4562,"../../ui/box":4729,"../../ui/menu":4801,"../../ui/popover/popover.component":4820,"prop-types":3575,react:3788,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PermissionCellOptions=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=m(e("prop-types")),r=e("react-redux"),i=m(e("../../ui/box")),s=e("../../../hooks/useI18nContext"),l=e("../../component-library"),c=e("../../ui/menu"),u=e("../../../helpers/constants/design-system"),d=m(e("../../ui/popover/popover.component")),p=e("../../../../shared/constants/snaps/permissions"),f=e("../../../store/actions");function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const h=({snapId:e,permissionName:t,description:n})=>{const o=(0,s.useI18nContext)(),m=(0,r.useDispatch)(),g=(0,a.useRef)(!1),[h,y]=(0,a.useState)(!1),[b,v]=(0,a.useState)(!1),_=p.DynamicSnapPermissions.includes(t);return a.default.createElement(i.default,{ref:g},a.default.createElement(l.ButtonIcon,{iconName:l.IconName.MoreVertical,ariaLabel:o("options"),onClick:()=>{y(!0)},"data-testid":t}),h&&a.default.createElement(c.Menu,{anchorElement:g.current,onHide:()=>{y(!1)}},a.default.createElement(c.MenuItem,{onClick:()=>{y(!1),v(!0)}},a.default.createElement(l.Text,{variant:u.TextVariant.bodySm,style:{whiteSpace:"nowrap"}},o("details"))),_&&a.default.createElement(c.MenuItem,{onClick:()=>{y(!1),m((0,f.revokeDynamicSnapPermissions)(e,[t]))}},a.default.createElement(l.Text,{variant:u.TextVariant.bodySm,color:u.TextColor.errorDefault,style:{whiteSpace:"nowrap"}},o("revokePermission")))),b&&a.default.createElement(d.default,{title:o("details"),onClose:()=>{y(!1),v(!1)}},a.default.createElement(i.default,{marginLeft:4,marginRight:4,marginBottom:4},a.default.createElement(l.Text,null,n))))};n.PermissionCellOptions=h,h.propTypes={snapId:o.default.string.isRequired,permissionName:o.default.string.isRequired,description:o.default.oneOfType([o.default.string,o.default.object])}}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell-options.js"}],[4328,{"../../../helpers/constants/design-system":4892,"../../../helpers/utils/util":4934,"../../../hooks/useI18nContext":4959,"../../component-library":4562,"../../ui/box":4729,"../../ui/tooltip":4856,"./permission-cell-options":4327,classnames:2468,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),o=f(e("prop-types")),r=f(e("classnames")),i=f(e("../../ui/box")),s=e("../../../helpers/constants/design-system"),l=e("../../component-library"),c=e("../../../helpers/utils/util"),u=e("../../../hooks/useI18nContext"),d=f(e("../../ui/tooltip")),p=e("./permission-cell-options");function f(e){return e&&e.__esModule?e:{default:e}}const m=({snapId:e,permissionName:t,title:n,description:o,weight:f,avatarIcon:m,dateApproved:g,revoked:h,showOptions:y,hideStatus:b})=>{var v;const _=(0,u.useI18nContext)(),T=l.IconName.Info;let k=s.IconColor.iconMuted,x=s.IconColor.primaryDefault,w=s.Color.primaryMuted;!h&&f<=2&&(x=s.IconColor.warningDefault,w=s.Color.warningMuted,k=s.IconColor.warningDefault),g&&(x=s.IconColor.iconMuted,w=s.Color.backgroundAlternative),h&&(x=s.IconColor.iconMuted,w=s.Color.backgroundAlternative);let E=m;return"string"!=typeof m&&null!=m&&null!==(v=m.props)&&void 0!==v&&v.iconName&&(E=m.props.iconName),a.default.createElement(i.default,{className:"permission-cell",justifyContent:s.JustifyContent.center,alignItems:s.AlignItems.flexStart,marginLeft:4,marginRight:4,paddingTop:2,paddingBottom:2},a.default.createElement(i.default,null,"string"==typeof E?a.default.createElement(l.AvatarIcon,{iconName:E,size:l.AvatarIconSize.Md,iconProps:{size:l.IconSize.Sm},color:x,backgroundColor:w}):E),a.default.createElement(i.default,{width:"full",marginLeft:4,marginRight:4},a.default.createElement(l.Text,{size:s.Size.MD,variant:s.TextVariant.bodyMd,className:(0,r.default)("permission-cell__title",{"permission-cell__title-revoked":h})},n),!b&&a.default.createElement(l.Text,{className:"permission-cell__status",variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative},!h&&(g?_("approvedOn",[(0,c.formatDate)(g,"yyyy-MM-dd")]):_("permissionRequested")),h?_("permissionRevoked"):"")),a.default.createElement(i.default,null,y&&e?a.default.createElement(p.PermissionCellOptions,{snapId:e,permissionName:t,description:o}):a.default.createElement(d.default,{html:a.default.createElement(l.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative},o),position:"bottom"},a.default.createElement(l.Icon,{color:k,name:T,size:l.IconSize.Sm}))))};m.propTypes={snapId:o.default.string,permissionName:o.default.oneOfType([o.default.string,o.default.element]).isRequired,title:o.default.oneOfType([o.default.string.isRequired,o.default.object.isRequired]),description:o.default.oneOfType([o.default.string,o.default.object]),weight:o.default.number,avatarIcon:o.default.any.isRequired,dateApproved:o.default.number,revoked:o.default.bool,showOptions:o.default.bool,hideStatus:o.default.bool};n.default=m}}},{package:"$root$",file:"ui/components/app/permission-cell/permission-cell.js"}],[4329,{"./permission-page-container-content":4330,"./permission-page-container.container":4333},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PermissionPageContainerContent",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=r(e("./permission-page-container.container")),o=r(e("./permission-page-container-content"));function r(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/components/app/permission-page-container/index.js"}],[4330,{"./permission-page-container-content.component":4331},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permission-page-container-content.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-content/index.js"}],[4331,{"../../../ui/tooltip":4856,"../../permissions-connect-header":4336,"../../permissions-connect-permission-list":4338,"@metamask/permission-controller":1405,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("@metamask/permission-controller"),i=u(e("../../permissions-connect-header")),s=u(e("../../../ui/tooltip")),l=u(e("../../permissions-connect-permission-list"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends o.PureComponent{renderRequestedPermissions(){const{selectedPermissions:e,subjectMetadata:t}=this.props;return o.default.createElement("div",{className:"permission-approval-container__content__requested"},o.default.createElement(l.default,{permissions:e,targetSubjectMetadata:t}))}renderAccountTooltip(e){const{selectedIdentities:t}=this.props,{t:n}=this.context;return o.default.createElement(s.default,{key:"all-account-connect-tooltip",position:"bottom",wrapperClassName:"permission-approval-container__bold-title-elements",html:o.default.createElement("div",{style:{display:"flex",flexDirection:"column"}},t.slice(0,6).map(((e,t)=>o.default.createElement("div",{key:`tooltip-identity-${t}`},e.addressLabel))),t.length>6?n("plusXMore",[t.length-6]):null)},e)}getTitle(){var e;const{subjectMetadata:t,selectedIdentities:n,allIdentitiesSelected:a,selectedPermissions:o}=this.props,{t:r}=this.context;return t.extensionId?r("externalExtension",[t.extensionId]):o.eth_accounts?a?r("connectToAll",[this.renderAccountTooltip(r("connectToAllAccounts"))]):n.length>1?r("connectToMultiple",[this.renderAccountTooltip(r("connectToMultipleNumberOfAccounts",[n.length]))]):r("connectTo",[null===(e=n[0])||void 0===e?void 0:e.addressLabel]):r("permissionRequestCapitalized")}getHeaderText(){const{subjectMetadata:e}=this.props,{t:t}=this.context;return e.subjectType===r.SubjectType.Snap?t("allowThisSnapTo"):e.extensionId?t("allowExternalExtensionTo",[e.extensionId]):t("allowThisSiteTo")}render(){const{subjectMetadata:e}=this.props,t=this.getTitle(),n=this.getHeaderText();return o.default.createElement("div",{className:"permission-approval-container__content"},o.default.createElement("div",{className:"permission-approval-container__content-container"},o.default.createElement(i.default,{iconUrl:e.iconUrl,iconName:e.name,headerTitle:t,headerText:n,siteOrigin:e.origin,subjectType:e.subjectType}),o.default.createElement("section",{className:"permission-approval-container__permissions-container"},this.renderRequestedPermissions())))}}n.default=p,d(p,"propTypes",{subjectMetadata:a.default.shape({name:a.default.string.isRequired,origin:a.default.string.isRequired,subjectType:a.default.string.isRequired,extensionId:a.default.string,iconUrl:a.default.string}),selectedPermissions:a.default.object.isRequired,selectedIdentities:a.default.array,allIdentitiesSelected:a.default.bool}),d(p,"defaultProps",{selectedIdentities:[],allIdentitiesSelected:!1}),d(p,"contextTypes",{t:a.default.func})}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container-content/permission-page-container-content.component.js"}],[4332,{".":4329,"../../../../shared/constants/metametrics":4063,"../../../../shared/constants/permissions":4066,"../../../helpers/utils/util":4934,"../../ui/page-container":4812,"../permissions-connect-footer":4334,"../snaps/snap-privacy-warning":4413,"@metamask/permission-controller":1405,"@metamask/snaps-rpc-methods":1609,lodash:3437,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=h(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("lodash"),i=e("@metamask/snaps-rpc-methods"),s=e("@metamask/permission-controller"),l=e("../../../../shared/constants/metametrics"),c=e("../../ui/page-container"),u=h(e("../permissions-connect-footer")),d=e("../../../../shared/constants/permissions"),p=h(e("../snaps/snap-privacy-warning")),f=e("../../../helpers/utils/util"),m=e(".");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends o.Component{constructor(...e){super(...e),y(this,"state",{selectedPermissions:this.getRequestedMethodState(this.getRequestedMethodNames(this.props))}),y(this,"onCancel",(()=>{const{request:e,rejectPermissionsRequest:t}=this.props;t(e.metadata.id)})),y(this,"onSubmit",(()=>{const{request:e,approvePermissionsRequest:t,rejectPermissionsRequest:n,selectedIdentities:a}=this.props,o={...e,permissions:{...e.permissions},approvedAccounts:a.map((e=>e.address))};Object.keys(this.state.selectedPermissions).forEach((e=>{this.state.selectedPermissions[e]||delete o.permissions[e]})),Object.keys(o.permissions).length>0?t(o):n(o.metadata.id)}))}componentDidUpdate(){const e=this.getRequestedMethodNames(this.props);(0,r.isEqual)(Object.keys(this.state.selectedPermissions),e)||this.setState({selectedPermissions:this.getRequestedMethodState(e)})}getRequestedMethodState(e){return e.reduce(((e,t)=>t===d.RestrictedMethods.wallet_snap?(e[t]=this.getDedupedSnapPermissions(),e):(e[t]=!0,e)),{})}getDedupedSnapPermissions(){var e;const{request:t,currentPermissions:n}=this.props,a=(0,f.getDedupedSnaps)(t,n);return{...(null==t||null===(e=t.permissions)||void 0===e?void 0:e[i.WALLET_SNAP_PERMISSION_KEY])||{},caveats:[{type:i.SnapCaveatType.SnapIds,value:a.reduce(((e,t)=>(e[t]={},e)),{})}]}}showSnapsPrivacyWarning(){this.setState({isShowingSnapsPrivacyWarning:!0})}getRequestedMethodNames(e){return Object.keys(e.request.permissions||{})}componentDidMount(){this.context.trackEvent({category:l.MetaMetricsEventCategory.Auth,event:"Tab Opened",properties:{action:"Connect",legacy_event:!0}}),this.props.request.permissions[i.WALLET_SNAP_PERMISSION_KEY]&&!1===this.props.snapsInstallPrivacyWarningShown&&this.showSnapsPrivacyWarning()}render(){const{requestMetadata:e,targetSubjectMetadata:t,selectedIdentities:n,allIdentitiesSelected:a}=this.props,r=e=>{this.setState({isShowingSnapsPrivacyWarning:e})},i=()=>{r(!1),this.props.setSnapsInstallPrivacyWarningShownStatus(!0)};return o.default.createElement(o.default.Fragment,null,o.default.createElement(o.default.Fragment,null,this.state.isShowingSnapsPrivacyWarning&&o.default.createElement(p.default,{onAccepted:()=>i(),onCanceled:()=>this.onCancel()})),o.default.createElement(m.PermissionPageContainerContent,{requestMetadata:e,subjectMetadata:t,selectedPermissions:this.state.selectedPermissions,selectedIdentities:n,allIdentitiesSelected:a}),o.default.createElement("div",{className:"permission-approval-container__footers"},(null==t?void 0:t.subjectType)!==s.SubjectType.Snap&&o.default.createElement(u.default,null),o.default.createElement(c.PageContainerFooter,{cancelButtonType:"default",onCancel:()=>this.onCancel(),cancelText:this.context.t("cancel"),onSubmit:()=>this.onSubmit(),submitText:this.context.t("connect"),buttonSizeLarge:!1})))}}n.default=b,y(b,"propTypes",{approvePermissionsRequest:a.default.func.isRequired,rejectPermissionsRequest:a.default.func.isRequired,selectedIdentities:a.default.array,allIdentitiesSelected:a.default.bool,currentPermissions:a.default.object,snapsInstallPrivacyWarningShown:a.default.bool.isRequired,setSnapsInstallPrivacyWarningShownStatus:a.default.func,request:a.default.object,requestMetadata:a.default.object,targetSubjectMetadata:a.default.shape({name:a.default.string,origin:a.default.string.isRequired,subjectType:a.default.string.isRequired,extensionId:a.default.string,iconUrl:a.default.string})}),y(b,"defaultProps",{request:{},requestMetadata:{},selectedIdentities:[],allIdentitiesSelected:!1,currentPermissions:{}}),y(b,"contextTypes",{t:a.default.func,trackEvent:a.default.func})}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container.component.js"}],[4333,{"../../../selectors":5306,"./permission-page-container.component":4332,"react-redux":3753},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o=e("react-redux"),r=e("../../../selectors"),i=(a=e("./permission-page-container.component"))&&a.__esModule?a:{default:a};n.default=(0,o.connect)(((e,t)=>{var n;const{selectedIdentities:a}=t,o=(0,r.getPermissions)(e,null===(n=t.request.metadata)||void 0===n?void 0:n.origin),i=(0,r.getMetaMaskIdentities)(e);return{allIdentitiesSelected:Object.keys(a).length===Object.keys(i).length&&a.length>1,currentPermissions:o}}))(i.default)}}},{package:"$root$",file:"ui/components/app/permission-page-container/permission-page-container.container.js"}],[4334,{"./permissions-connect-footer.component":4335},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permissions-connect-footer.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permissions-connect-footer/index.js"}],[4335,{"../../../helpers/constants/zendesk-url":4903,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,o,r,i=u(e("prop-types")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),l=u(e("../../../helpers/constants/zendesk-url"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}class d extends s.Component{render(){const{t:e}=this.context;return s.default.createElement("div",{className:"permissions-connect-footer"},s.default.createElement("div",{className:"permissions-connect-footer__text"},s.default.createElement("div",null,e("onlyConnectTrust")),s.default.createElement("div",{className:"permissions-connect-footer__text--link",onClick:()=>{global.platform.openTab({url:l.default.USER_GUIDE_DAPPS})}},e("learnMoreUpperCase"))))}}n.default=d,a=d,o="contextTypes",r={t:i.default.func},(o=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(o))in a?Object.defineProperty(a,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[o]=r}}},{package:"$root$",file:"ui/components/app/permissions-connect-footer/permissions-connect-footer.component.js"}],[4336,{"./permissions-connect-header.component":4337},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permissions-connect-header.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permissions-connect-header/index.js"}],[4337,{"../../../helpers/constants/design-system":4892,"../../ui/box":4729,"../../ui/site-origin":4835,"@metamask/permission-controller":1405,classnames:2468,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("prop-types")),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=o?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(a,r,i):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=d(e("classnames")),i=e("@metamask/permission-controller"),s=d(e("../../ui/site-origin")),l=d(e("../../ui/box")),c=e("../../../helpers/constants/design-system");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p.apply(this,arguments)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends o.Component{renderHeaderIcon(){const{iconUrl:e,iconName:t,siteOrigin:n,leftIcon:a,rightIcon:r,subjectType:l}=this.props;return l===i.SubjectType.Snap?null:o.default.createElement("div",{className:"permissions-connect-header__icon"},o.default.createElement(s.default,{chip:!0,siteOrigin:n,title:n,iconSrc:e,name:t,leftIcon:a,rightIcon:r}))}render(){const{boxProps:e,className:t,headerTitle:n,headerText:a}=this.props;return o.default.createElement(l.default,p({className:(0,r.default)("permissions-connect-header",t),flexDirection:c.FLEX_DIRECTION.COLUMN,justifyContent:c.JustifyContent.center},e),this.renderHeaderIcon(),o.default.createElement("div",{className:"permissions-connect-header__title"},n),o.default.createElement("div",{className:"permissions-connect-header__subtitle"},a))}}n.default=m,f(m,"propTypes",{className:a.default.string,iconUrl:a.default.string,iconName:a.default.string.isRequired,siteOrigin:a.default.string.isRequired,headerTitle:a.default.node,boxProps:a.default.shape({...l.default.propTypes}),headerText:a.default.string,leftIcon:a.default.node,rightIcon:a.default.node,subjectType:a.default.string}),f(m,"defaultProps",{iconUrl:null,headerTitle:"",headerText:"",boxProps:{}})}}},{package:"$root$",file:"ui/components/app/permissions-connect-header/permissions-connect-header.component.js"}],[4338,{"./permissions-connect-permission-list":4339},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o.default}});var a,o=(a=e("./permissions-connect-permission-list"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/components/app/permissions-connect-permission-list/index.js"}],[4339,{"../../../helpers/utils/permission":4928,"../../../hooks/useI18nContext":4959,"prop-types":3575,react:3788},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var a=s(e("react")),o=s(e("prop-types")),r=e("../../../helpers/utils/permission"),i=e("../../../hooks/useI18nContext");function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){const{label:n,leftIcon:o,permissionName:i}=e;return a.default.createElement("div",{className:"permission",key:`${i}-${t}`},"string"==typeof o?a.default.createElement("i",{className:o}):o,n,(0,r.getRightIcon)(e))}function c({permissions:e,targetSubjectMetadata:t}){const n=(0,i.useI18nContext)();return a.default.createElement("div",{className:"permissions-connect-permission-list"},(0,r.getWeightedPermissions)(n,e,t).map(l))}c.propTypes={permissions:o.default.object.isRequired,targetSubjectMetadata:o.default.object.isRequired}}}},{package:"$root$",file:"ui/components/app/permissions-connect-permission-list/permissions-connect-permission-list.js"}]],[],{});